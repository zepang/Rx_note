## 什么是防抖和节流？有什么区别？如何实现？

### 防抖（debounce）

n秒内多次满足触发某个动作的条件，将重新计算，当前满足条件时间与下一个满足条件时间大于n，以当前满足条件触发动作。比如实时搜索，通常会取在1秒或者其他的某个时间段内的最终输入结果，来触发搜索请求。

```js
function debounce (fn, delay = 50, immediate) {
  let timer = null

  return function (...rest) {
    if (immediate) {
      fn.apply(this, ...rest)
    }
    timer && clearTimeout(timer)
    timer = setTimeout(() => {
      fn.apply(this, rest)
    }, delay)
  }
}
```

### 节流（throttle）

每隔n秒触发一次（即秒内只触发一次），起到稀释执行频率的作用。

```js
function throttle (fn, delay) {
  let isPending = false

  return function (...rest) {
    if (!isPending) {
      isPending = true
      setTimeout(() => {
        fn.apply(this, rest)
        isPending = false
      }, delay)
    }
  }
}
```

### 对比

```js
var testDebounce = debounce((item) => {console.log(item)}, 1000)
['1', '2', '3'].forEach(item => {
	testDebounce(item)	
})
// 3
```

```js
var testThrottle = throttle((item) => {console.log(item)}, 1000)
['1', '2', '3'].forEach(item => {
	testThrottle (item)	
})
// 1
```

1秒内的高频触发，debounce忽略了前两次的触发，而throttle忽略了后两次的触发