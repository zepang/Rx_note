<!DOCTYPE html>
<!-- saved from url=(0049)https://blog.konghy.cn/2017/03/19/git-lf-or-crlf/ -->
<html lang="zh-CN" data-blockbyte-bs-uid="79972"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
  <meta content="yes" name="apple-mobile-web-app-capable">
  <meta content="black-translucent" name="apple-mobile-web-app-status-bar-style">
  <meta content="telephone=no" name="format-detection">

  <title>Git 多平台换行符问题(LF or CRLF) | Huoty's Blog</title>
  <meta name="keywords" content="git, LF, CRLF, autocrlf, safecrlf">
  <meta name="description" content="自从工作以后，基本上没有接触过 Windows 系统，偶尔使用 Windows 也是因为要写文档，Linux 下勉强可以用 WPS Office，但是格式与同事的不兼容，也算是迫不得已。而对我自己来说，大部分的文档都用 Mardown 来搞定。在很长一段时间里，我是很鄙视 Windows 的。">
  <meta name="baidu-site-verification" content="fjE6fa4d3J">
  <meta name="author" content="Huoty">

  <link rel="Shortcut Icon" type="image/x-icon" href="https://blog.konghy.cn/favicon.ico">
  <link rel="apple-touch-icon" href="https://blog.konghy.cn/apple-touch-icon.png">
  <link rel="apple-touch-icon-precomposed" href="https://blog.konghy.cn/apple-touch-icon.png">
  <link rel="alternate" type="application/rss+xml" title="旷世的忧伤" href="https://blog.konghy.cn/feed.xml">

  <link rel="stylesheet" type="text/css" href="./Git 多平台换行符问题(LF or CRLF) _ Huoty&#39;s Blog_files/normalize.css">
  <link rel="stylesheet" type="text/css" href="./Git 多平台换行符问题(LF or CRLF) _ Huoty&#39;s Blog_files/pure-min.css">
  <link rel="stylesheet" type="text/css" href="./Git 多平台换行符问题(LF or CRLF) _ Huoty&#39;s Blog_files/grids-responsive-min.css">
  <link rel="stylesheet" type="text/css" href="./Git 多平台换行符问题(LF or CRLF) _ Huoty&#39;s Blog_files/style.css">

  <script src="./Git 多平台换行符问题(LF or CRLF) _ Huoty&#39;s Blog_files/push.js"></script><script src="./Git 多平台换行符问题(LF or CRLF) _ Huoty&#39;s Blog_files/hm.js"></script><script type="text/javascript" src="./Git 多平台换行符问题(LF or CRLF) _ Huoty&#39;s Blog_files/jquery.min.js"></script>
  <script type="text/javascript" src="./Git 多平台换行符问题(LF or CRLF) _ Huoty&#39;s Blog_files/tongji.baidu.js"></script>
<script src="./Git 多平台换行符问题(LF or CRLF) _ Huoty&#39;s Blog_files/share.baidu.js"></script><style class="blockbyte-bs-style" data-name="content">body>div#blockbyte-bs-indicator>div{opacity:0;pointer-events:none}body>iframe#blockbyte-bs-sidebar.blockbyte-bs-visible,body>iframe#blockbyte-bs-overlay.blockbyte-bs-visible{opacity:1;pointer-events:auto}body.blockbyte-bs-noscroll{overflow:hidden !important}body>div#blockbyte-bs-indicator>div{position:absolute;transform:translate3d(-40px, 0, 0);top:0;left:0;width:40px !important;height:100%;background:rgba(0,0,0,0.5);border-radius:0 10px 10px 0;transition:opacity 0.3s, transform 0.3s;z-index:2}body>div#blockbyte-bs-indicator>div>span{-webkit-mask:no-repeat center/32px;-webkit-mask-image:url(chrome-extension://jdbnofccmhefkmjbkkdkfiicjkgofkdh/img/icon-bookmark.svg);background-color:#ffffff;position:absolute;display:block;top:0;left:0;width:100%;height:100%}body>div#blockbyte-bs-indicator[data-pos='right']{left:auto;right:0}body>div#blockbyte-bs-indicator[data-pos='right']>div{transform:translate3d(40px, 0, 0);left:auto;right:0;border-radius:10px 0 0 10px}body>div#blockbyte-bs-indicator.blockbyte-bs-fullHeight>div{border-radius:0}body>div#blockbyte-bs-indicator.blockbyte-bs-hover>div{transform:translate3d(0, 0, 0);opacity:1}body>div#blockbyte-bs-indicator[data-pos='left'].blockbyte-bs-has-lsb{height:100% !important;top:0 !important}body>div#blockbyte-bs-indicator[data-pos='left'].blockbyte-bs-has-lsb>div{background:transparent}body>div#blockbyte-bs-indicator[data-pos='left'].blockbyte-bs-has-lsb>div>span{-webkit-mask-position-y:20px}body>iframe#blockbyte-bs-sidebar{width:350px;max-width:none;height:0;z-index:2147483646;background-color:rgba(0,0,0,0.6) !important;border:none;display:block !important;transform:translate3d(-350px, 0, 0);transition:width 0s 0.3s, height 0s 0.3s, opacity 0.3s, transform 0.3s}body>iframe#blockbyte-bs-sidebar[data-pos='right']{left:auto;right:0;transform:translate3d(350px, 0, 0)}body>iframe#blockbyte-bs-sidebar.blockbyte-bs-visible{width:calc(100% + 350px);height:100%;transform:translate3d(0, 0, 0);transition:opacity 0.3s, transform 0.3s}body>iframe#blockbyte-bs-sidebar.blockbyte-bs-hideMask{background:none !important}body>iframe#blockbyte-bs-sidebar.blockbyte-bs-hideMask:not(.blockbyte-bs-hover){width:calc(350px + 50px)}body>iframe#blockbyte-bs-overlay{width:100%;max-width:none;height:100%;z-index:2147483647;border:none;background:rgba(0,0,0,0.5) !important;transition:opacity 0.3s}
</style></head>

  <body>
    <div class="body_container">
      <div id="header">
        <div class="site-name">
          <h1 class="hidden">Git 多平台换行符问题(LF or CRLF)</h1>
          <a id="logo" href="https://blog.konghy.cn/">旷世的忧伤</a>
          <p class="description">Huoty's Blog, Focus on Thinking</p>
        </div>
        <div id="nav-menu">
          
            <a href="https://blog.konghy.cn/" class="current"><i class="icon-home"> 首页</i></a>
          
            <a href="https://blog.konghy.cn/archives/"><i class="icon-archive"> 归档</i></a>
          
            <a href="https://blog.konghy.cn/tags/"><i class="icon-tags"> 标签</i></a>
          
            <a href="https://blog.konghy.cn/guestbook/"><i class="icon-guestbook"> 留言</i></a>
          
            <a href="https://blog.konghy.cn/aboutme/"><i class="icon-about"> 关于</i></a>
          
            <a href="https://blog.konghy.cn/feed.xml"><i class="icon-rss"> 订阅</i></a>
          
        </div>
      <script type="text/javascript">
      var menus=document.getElementById('nav-menu');
      var ishome = true;
      for (var i=1;i<menus.childElementCount;i++) {
        var path = location.href;
        var current = path.startsWith(menus.children[i].href);
        if (current) {
          menus.children[i].className ='current';
          ishome = false;
          break;
        }
      }
      if (ishome) {
        menus.children[0].className ='current';
      }
      </script>
      </div>

      <div id="layout" class="pure-g">
        <div class="pure-u-1 pure-u-md-3-4">
          <div class="content_container">
            <article class="post" itemscope="" itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">Git 多平台换行符问题(LF or CRLF)</h1>
    <p class="post-meta">
        <time datetime="2017-03-19T00:00:00+00:00" itemprop="datePublished">
            <i class="icon-post-date">Mar 19, 2017</i>
        </time>  |
        <span class="post-category">
            <i class="icon-post-category">
            
                <a href="https://blog.konghy.cn/category/#计算机科学">计算机科学</a>
            
            </i>
        </span>   |
        <span class="post-tag">
            <i class="icon-post-tag">
            
                <a href="https://blog.konghy.cn/tags/#git">git</a>
            
            </i>
        </span>
    </p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p>自从工作以后，基本上没有接触过 Windows 系统，偶尔使用 Windows 也是因为要写文档，Linux 下勉强可以用 WPS Office，但是格式与同事的不兼容，也算是迫不得已。而对我自己来说，大部分的文档都用 Mardown 来搞定。在很长一段时间里，我是很鄙视 Windows 的。</p>

<p>使用 Windows 系统时的诸多体验是让人讨厌的。感觉其大部分软件都很笨重，软件装得多了，磁盘就不够用了。不喜欢安装一个软件时捆绑安装一大堆无用的软件。不喜欢一些软件时不时的广告弹窗。</p>

<p>一些人说，玩 Linux 大部分时间都花在了折腾上，是的，的确是这样。首先是，Linux 的桌面不尽如人意，往往让人第一眼就无感。但是，Linux 也可以很漂亮,因为它是可高度定制的，从桌面环境到应用软件。我会经常尝试使用不同的发行版本，每重装、升级一次系统都要换上自己喜欢的桌面(做一堆的美化)，配置 Shell 环境，装上自己常用的软件，卸载掉一些不用的软件。有时候还会把系统玩蹦，然后一切都得重来一遍。其实，想想之前用 Windows 的时候，我也在折腾，要找一个漂亮的主题换上，要把部分特殊目录的图标改了，等等。也或许，我仅仅只是有些强迫症而已。</p>

<p>使用计算机的人，对操作系统的选择，大部分的原因还是源于习惯和需求。前段时间，由于工作上的需要，要在 Windows 上做一些工作。长时间用过 Linux 和 Mac OSX 后，再回归 Windows，感觉我已经不再排斥。或许是因为生活阅历、工作经验、年轮等的增长消磨了内心的一些偏激，让一些东西变得不再重要，更加懂得去包容。</p>

<p>目前，在开发中，使用 Git 作为版本管理工具还是比较流行的，大量的开源项目都在往 Github 迁移。Windows 上有 Git bash 客户端，基于 MinGW，有很多 GNU 工具可用，体验还不错。</p>

<p>在做完工作后，我尝试 <code>git add .</code>，想着这块工作可以告一段落了，而事实是：</p>
<div class="highlight"><pre><code class="language-" data-lang="">$ git add .
fatal: CRLF would be replaced by LF ...
</code></pre></div>
<p>一脸懵逼，Google 一下吧，看看是什么原因。发现，这已经是一个非常经典的问题了：</p>

<p><img src="./Git 多平台换行符问题(LF or CRLF) _ Huoty&#39;s Blog_files/c3c88275ly1fdsav3d6yjj20hs0d5afx.jpg" alt="CRLF would be replaced by LF"></p>

<p>早就听说过这个问题，总算是亲自踩到这个坑里了。</p>

<p><strong>文本文件所使用的换行符，在不同的系统平台上是不一样的</strong>。UNIX/Linux 使用的是 <code>0x0A（LF）</code>，早期的 Mac OS 使用的是 <code>0x0D（CR）</code>，后来的 OS X 在更换内核后与 UNIX 保持一致了。但 DOS/Windows 一直使用 <code>0x0D0A（CRLF）</code> 作为换行符。</p>

<p>跨平台协作开发是常有的，不统一的换行符确实对跨平台的文件交换带来了麻烦。最大的问题是，在不同平台上，换行符发生改变时，Git 会认为整个文件被修改，这就造成我们没法 <code>diff</code>，不能正确反映本次的修改。还好 Git 在设计时就考虑了这一点，其提供了一个 <code>autocrlf</code> 的配置项，用于在提交和检出时自动转换换行符，该配置有三个可选项：</p>

<ul>
<li><strong>true:</strong> 提交时转换为 LF，检出时转换为 CRLF</li>
<li><strong>false:</strong> 提交检出均不转换</li>
<li><strong>input:</strong> 提交时转换为LF，检出时不转换</li>
</ul>

<p>用如下命令即可完成配置：</p>
<div class="highlight"><pre><code class="language-" data-lang=""># 提交时转换为LF，检出时转换为CRLF
git config --global core.autocrlf true

# 提交时转换为LF，检出时不转换
git config --global core.autocrlf input

# 提交检出均不转换
git config --global core.autocrlf false
</code></pre></div>
<p>如果把 autocrlf 设置为 false 时，那另一个配置项 <code>safecrlf</code> 最好设置为 <strong>ture</strong>。该选项用于检查文件是否包含混合换行符，其有三个可选项：</p>

<ul>
<li><strong>true:</strong> 拒绝提交包含混合换行符的文件</li>
<li><strong>false:</strong> 允许提交包含混合换行符的文件</li>
<li><strong>warn:</strong> 提交包含混合换行符的文件时给出警告</li>
</ul>

<p>配置方法：</p>
<div class="highlight"><pre><code class="language-" data-lang=""># 拒绝提交包含混合换行符的文件
git config --global core.safecrlf true

# 允许提交包含混合换行符的文件
git config --global core.safecrlf false

# 提交包含混合换行符的文件时给出警告
git config --global core.safecrlf warn
</code></pre></div>
<p>到此，还并未解决我遇到的问题。实际上，我们有两种办法解决。</p>

<p>一种是将配置项改为如下的形式：</p>
<div class="highlight"><pre><code class="language-" data-lang="">$ git config --global core.autocrlf false
$ git config --global core.safecrlf false
</code></pre></div>
<p>这种方式是不推荐的，虽然代码能被提交，但是项目中的文件可能会包含两种格式的换行符。而且会有如上提到的问题，文件被视为整个被修改，无法 diff，之所以使用版本控制工具，最重要的原因之一就是其 diff 功能。</p>

<p>另一种办法是，手动将文件的换行符转化为 LF，这可以通过编辑器来完成，大部分编辑器都可以将文件的换行符风格设置为 unix 的形式。也可以使用 <code>dos2unix</code> 转换工具来完成，Windows 上 Git bash 客户端自带了该工具。其他系统上也可以安装该工具，例如 Ubuntu 上安装：</p>

<blockquote>
<p>sudo apt-get install dos2unix</p>
</blockquote>

<p>有了该工具，可以批量的把项目中的文件都转化一遍：</p>

<blockquote>
<p>find . -type f | xargs dos2unix</p>
</blockquote>

<p>或者</p>

<blockquote>
<p>find . -type f -exec dos2unix {} +</p>
</blockquote>

<p>如果涉及到在多个系统平台上工作，推荐将 git 做如下配置：</p>
<div class="highlight"><pre><code class="language-" data-lang="">$ git config --global core.autocrlf input
$ git config --global core.safecrlf true
</code></pre></div>
<p>也就是让代码仓库使用统一的换行符(LF)，如果代码中包含 CRLF 类型的文件时将无法提交，需要用 <code>dos2unix</code> 或者其他工具手动转换文件类型。当然，可以根据自己的需要进行更为合适的配置！</p>

<p>到此，问题解决。go home！</p>

<p><strong>参考资料:</strong></p>

<ul>
<li><a href="http://toub.es/2012/05/28/fatal-crlf-would-be-replaced-lf" target="_blank">http://toub.es/2012/05/28/fatal-crlf-would-be-replaced-lf</a></li>
<li><a href="https://github.com/cssmagic/blog/issues/22" target="_blank">https://github.com/cssmagic/blog/issues/22</a></li>
</ul>

  </div>

  <div id="donate">
    <a href="https://blog.konghy.cn/donate/" style="text-decoration: none">
      <button>$ 您的支持是作者写作最大的动力!</button>
    </a>
  </div>

  <!-- 分享按钮 start -->
<div class="bdsharebuttonbox"><a href="https://blog.konghy.cn/2017/03/19/git-lf-or-crlf/#" class="bds_more" data-cmd="more">分享到：</a><a href="https://blog.konghy.cn/2017/03/19/git-lf-or-crlf/#" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博">新浪微博</a><a href="https://blog.konghy.cn/2017/03/19/git-lf-or-crlf/#" class="bds_tqq" data-cmd="tqq" title="分享到腾讯微博">腾讯微博</a><a href="https://blog.konghy.cn/2017/03/19/git-lf-or-crlf/#" class="bds_fbook" data-cmd="fbook" title="分享到Facebook">Facebook</a><a href="https://blog.konghy.cn/2017/03/19/git-lf-or-crlf/#" class="bds_twi" data-cmd="twi" title="分享到Twitter">Twitter</a><a href="https://blog.konghy.cn/2017/03/19/git-lf-or-crlf/#" class="bds_qzone" data-cmd="qzone" title="分享到QQ空间">QQ空间</a><a href="https://blog.konghy.cn/2017/03/19/git-lf-or-crlf/#" class="bds_renren" data-cmd="renren" title="分享到人人网">人人网</a><a href="https://blog.konghy.cn/2017/03/19/git-lf-or-crlf/#" class="bds_copy" data-cmd="copy" title="分享到复制网址">复制网址</a></div>
<script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"2","bdSize":"16"},"share":{"bdSize":16},"image":{"viewList":["tsina","tqq","fbook","twi","qzone","renren","copy"],"viewText":"分享到：","viewSize":"16"}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/assets/js/share.baidu.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script>
<!-- 分享按钮 end -->


  <div class="post-nav">
    
    <a href="https://blog.konghy.cn/2017/03/16/how-python-deals-with-module-and-package-having-the-same-name/" class="pre"><i class="icon-post-pre"> Python 如何处理模块和包有相同名字的情况</i></a>
     
    <a href="https://blog.konghy.cn/2017/03/24/now-everything-is-the-best/" class="next">现在的一切便是最好的 <i class="icon-post-next"></i></a>
    
  </div>

</article>

            
          </div>
        </div>

        <div class="pure-u-1-4">
          <div id="sidebar">
            <div class="widget">
    <form id="search-form" class="search-form">
      <input id="query" type="text" placeholder="Search" class="search-form-input">
    </form>
</div>
<script type="text/javascript">
$(document).ready(function() {

    function find_posts(words, posts_data) {
        var matched_posts = [];

        posts_data.forEach(function(post) {
            var content = (new Array(post["title"], post["keywords"])).join(" ");
            words.forEach(function (word) {
                if (word === null || word === undefined || word == "") {
                    return;  // continue
                }
                var regex = new RegExp(word, 'i');
                if (content.match(regex) != null) {
                    matched_posts.push(post);
                }
            });
        });

        return matched_posts;
    }

    function show_posts(posts) {
        var html = '';
        if (posts.length > 0) {
            for (var i = 0; i < posts.length; i++) {
                post = posts[i];
                html += '<div class="post">';
                html += '<h2 class="post-title">';
                html += '<a href="' + post.url + '">' + post.title + '</a>';
                html += '</h2>';
                html += '<div class="post-meta"><i class="icon-post-date">';
                html += ' ' + post.date;
                html += '</i></div>';
                html += '<div class="post-content">' + post.summary + '</div>';
                html += '<p class="readmore">';
                html += '<a href="' + post.url + '">阅读更多</a>';
                html += '</p>';
                html += '</div>';
            }
        } else {
            html += "<h4>您输入的关键词没有搜索结果，请更换关键词！ O(∩_∩)O~</h4>"
        }
        $('.content_container').html(html);
        $('.content_container').show();
    }

    $('#search-form').submit(function() {
        var query = $('#query').val();
        var words = query.split(" ")

        $('#query').blur().attr('disabled', true);
        $('.content_container').hide();

        $.ajax({
            url: "/assets/data/posts.json",
            dataType: "json",
            timeout: 6000,  // 6 sec
            success: function(data) {
                matched_posts = find_posts(words, data);
                show_posts(matched_posts);
            }
        });

        $('#query').blur().attr('disabled', false);

        return false;
    });
});
</script>


            <div class="widget">
    <div class="widget-title"><i class="icon-edit"> 每日读诗</i></div><ul></ul>
    <span id="jinrishici-sentence">两岸桃花烘日出，四围高柳到天垂。</span>
    <script src="./Git 多平台换行符问题(LF or CRLF) _ Huoty&#39;s Blog_files/jinrishici.js" charset="utf-8"></script>
</div>


            <div class="widget">
    <div class="widget-title"><i class="icon-category"> 文章分类</i></div>
    <ul class="category-list">
      
        <li class="category-list-item">
          <a class="category-list-link" href="https://blog.konghy.cn/category/#我的日志">我的日志 (8)</a>
        </li>
      
        <li class="category-list-item">
          <a class="category-list-link" href="https://blog.konghy.cn/category/#美文收录">美文收录 (12)</a>
        </li>
      
        <li class="category-list-item">
          <a class="category-list-link" href="https://blog.konghy.cn/category/#文本编辑">文本编辑 (5)</a>
        </li>
      
        <li class="category-list-item">
          <a class="category-list-link" href="https://blog.konghy.cn/category/#Linux">Linux (33)</a>
        </li>
      
        <li class="category-list-item">
          <a class="category-list-link" href="https://blog.konghy.cn/category/#学习札记">学习札记 (3)</a>
        </li>
      
        <li class="category-list-item">
          <a class="category-list-link" href="https://blog.konghy.cn/category/#Web设计">Web设计 (6)</a>
        </li>
      
        <li class="category-list-item">
          <a class="category-list-link" href="https://blog.konghy.cn/category/#Python">Python (73)</a>
        </li>
      
        <li class="category-list-item">
          <a class="category-list-link" href="https://blog.konghy.cn/category/#计算机科学">计算机科学 (18)</a>
        </li>
      
        <li class="category-list-item">
          <a class="category-list-link" href="https://blog.konghy.cn/category/#数据库">数据库 (4)</a>
        </li>
      
        <li class="category-list-item">
          <a class="category-list-link" href="https://blog.konghy.cn/category/#容器技术">容器技术 (3)</a>
        </li>
      
    </ul>
</div>


            <div class="widget">
    <div class="widget-title"><i class="icon-star"> 推荐文章</i></div>
    <ul class="post-list">
        <li class="post-list-item"><a class="post-list-link" href="https://opus.konghy.cn/shell-tutorial/" target="_blank">Shell 程序设计教程</a></li>
        <li class="post-list-item"><a class="post-list-link" href="https://blog.konghy.cn/2015/05/07/forget-isbest-teacher/">忘记是最好的老师</a></li>
        <li class="post-list-item"><a class="post-list-link" href="https://blog.konghy.cn/urlbook/">常用网址收藏夹</a></li>
        <li class="post-list-item"><a class="post-list-link" href="https://blog.konghy.cn/2019/05/01/linux-server-maint/">Linux 服务器维护简易指南</a></li>
        <li class="post-list-item"><a class="post-list-link" href="https://blog.konghy.cn/2016/09/26/python-optimize/">Python 性能优化技巧</a></li>
        <li class="post-list-item"><a class="post-list-link" href="https://blog.konghy.cn/2016/09/01/linux-softwares/">Linux 一些有用或有趣的软件</a></li>
        <li class="post-list-item"><a class="post-list-link" href="https://blog.konghy.cn/2017/04/04/python-modules/">Python 模块收集</a></li>
        <li class="post-list-item"><a class="post-list-link" href="https://blog.konghy.cn/2018/05/06/git-notes/">Git 使用技巧</a></li>
        <li class="post-list-item"><a class="post-list-link" href="https://blog.konghy.cn/2019/11/23/vim-skill/">Vim 使用技巧</a></li>
    </ul>
</div>


            <div class="widget">
  <div class="widget-title"><i class="icon-code-hub"> 代码仓库</i></div>
  <ul class="codehub-list">
  
    <li class="codehub-list-item"><a href="https://github.com/kuanghy" title="Github" target="_blank">Github</a></li>
  
    <li class="codehub-list-item"><a href="https://gitee.com/kuanghy" title="Gitee" target="_blank">Gitee</a></li>
  
    <li class="codehub-list-item"><a href="https://coding.net/u/konghy" title="Coding" target="_blank">Coding</a></li>
  
  </ul>
</div>


            <div class="widget">
  <div class="widget-title"><i class="icon-link"> 友情链接</i></div>
  <ul class="link-list">
  
    <li class="link-list-item"><a href="http://opus.konghy.cn/" title="Huoty&#39;s Opus" target="_blank">Huoty's Opus</a></li>
  
    <li class="link-list-item"><a href="http://jekyllcn.com/" title="Jekyll 博客系统" target="_blank">Jekyll 博客系统</a></li>
  
    <li class="link-list-item"><a href="https://www.joinquant.com/" title="聚宽量化交易平台" target="_blank">聚宽量化交易平台</a></li>
  
    <li class="link-list-item"><a href="http://jeffjade.com/" title="晚晴幽草轩" target="_blank">晚晴幽草轩</a></li>
  
    <li class="link-list-item"><a href="https://www.guru99.com/" title="Meet Guru99" target="_blank">Meet Guru99</a></li>
  
  </ul>
</div>


            <div class="widget post-toc hide">
    <div class="widget-title"><i class="icon-post-toc"> 文章目录</i></div><ul></ul>
</div>
<script type="text/javascript">
function TOCize(toc, content, matchHeightTo) {
    if (!(toc && content && matchHeightTo)) return false

    var cnt = 0;

    var make = function(tag) {
        return document.createElement(tag)
    }

    var aniscroll = {
        to: function(top) {
            aniscroll.target = top;
            if (aniscroll.running) return;
            aniscroll.running = setInterval(aniscroll.tick, 20);
        },
        target: 0,
        running: 0,
        getTop: function() {
            return window.scrollY || window.pageYOffset || document.documentElement.scrollTop;
        },
        setTop: function(value) {
            (window['scrollTo'] && window.scrollTo(window.scrollX, value))
        },
        tick: function() {
            var oldST = aniscroll.getTop(), newST = ~~((oldST + aniscroll.target) / 2);
            aniscroll.setTop(newST);
            if (aniscroll.getTop() < newST || Math.abs(newST - aniscroll.target) < 10) {
                aniscroll.setTop(aniscroll.target);
                clearInterval(aniscroll.running)
                aniscroll.running = 0
            }
        }
    }

    function scrollToHeader(header, hash, ev) {
        var y = header.getBoundingClientRect().top + aniscroll.getTop();
        if (window.history['pushState']) {
            window.history.pushState({}, header.textContent, "#" + hash);
            aniscroll.to(y);
            ev.preventDefault();
        } else {
            var y2 = aniscroll.getTop();
            setTimeout(function() {
                aniscroll.setTop(y2);
                aniscroll.to(y);
            }, 0);
        }
    }

    var generateLink = function(h) {
        var q = make('a');
        cnt++;
        var hash = h.getAttribute('id');
        if (!hash) {
            hash = ('generated-hash-' + cnt);
            h.setAttribute('id', hash);
        }
        q.textContent = h.textContent;
        q.setAttribute('href', '#' + hash );
        q.addEventListener('click', scrollToHeader.bind(this, h, hash), false);
        return q;
    };

    var hs = content.querySelectorAll('h1, h2, h3, h4, h5, h6');
    var cul = null, plevel = 1;
    var uls = [make('ul')];
    for (var i=0;i<hs.length;i++) {
        var level = +hs[i].tagName.substr(1);
        var hi = hs[i];
        var ti = make('li');
        ti.appendChild(generateLink(hi));
        if (plevel < level) {
            do {
                uls.push(make('ul'));
                uls[uls.length-2].appendChild(uls[uls.length-1]);
            } while (++plevel < level);
        } else if (plevel > level) {
            do {
                cul = uls.pop();
            } while (--plevel > level);
        }
        cul = uls[uls.length-1];
        cul.appendChild(ti);
    }
    while(true) {
        var chs = uls[0].children;
        if (chs.length == 1 && chs[0].tagName == 'UL')
            uls.shift();
        else
            break;
    }

    if (!cnt) return false;

    var scrolldummy=make('div');
    toc.appendChild(scrolldummy);
    toc.appendChild(uls[0]);
    toc.style.display = 'block';

    var maxHeightTOC = '';
    var ppc = document.querySelector('.post');
    var s1 = function(){
        var scrollTop=aniscroll.getTop(), dummyClientTop=scrolldummy.getBoundingClientRect().top,
            margin = 10,c,d; // c = dummyHeight, d = TOC.maxHeight (+'px')
        if ((c = -dummyClientTop + margin) < 0) c = 0;
        if (c) {
            var wh = window.innerHeight
                || document.documentElement.clientHeight
                || document.body.clientHeight,
            cbox = matchHeightTo.getBoundingClientRect(),
            vq = cbox.bottom - dummyClientTop - uls[0].offsetHeight;
            if (c>vq) c=vq;
            d = (wh - (margin<<1)) + 'px';
        } else {
            d = "";
        }
        if (d != maxHeightTOC) { //status lock.
            maxHeightTOC = d;
            if (d) {
                uls[0].setAttribute('style', 'max-height:' + d + '; width:' + (toc.offsetWidth-20) + "px" );
            } else {
                uls[0].setAttribute("style","");
            }
        }
        scrolldummy.style.height = (c+'px');
    };
    window.addEventListener('scroll', s1, false);
    window.addEventListener('resize', s1, false);
}

TOCize(
    document.querySelector('.post-toc'),
    document.querySelector('.post-content'),
    document.querySelector('.post')
);
</script>

          </div>
        </div>
      </div>

      <div id="footer">
        Copyright © 2015-<span id="cur_year">2020</span> <a href="http://konghy.cn/" target="_blank">Huoty</a> - All Rights Reserved.
        Powered by <a href="http://jekyllrb.com/" target="_blank">Jekyll</a> @ <a href="https://github.com/kuanghy/luring" target="_blank">Github.com</a>
        <script type="text/javascript">var cur_date = new Date();document.getElementById("cur_year").innerHTML = cur_date.getFullYear();</script>
        
      </div>

      <a id="rocket" href="https://blog.konghy.cn/2017/03/19/git-lf-or-crlf/#top" class="show"></a>
      <script src="./Git 多平台换行符问题(LF or CRLF) _ Huoty&#39;s Blog_files/totop.js" type="text/javascript"></script>
    </div>

    <script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


    <script type="text/javascript">
        var links = document.links;
        for (var i = 0, linksLength = links.length; i < linksLength; i++) {
        if (links[i].hostname != window.location.hostname) {
               links[i].target = '_blank';
            }
        }
    </script>
  


<iframe id="blockbyte-bs-sidebar" class="notranslate" data-pos="right" src="./Git 多平台换行符问题(LF or CRLF) _ Huoty&#39;s Blog_files/saved_resource.html"></iframe><div id="blockbyte-bs-indicator" class="blockbyte-bs-fullHeight" style="width: 1px; height: 100%; top: 0%;"></div><div id="saladict-saladbowl-root" class="saladict-div saladict-external"><div class="saladict-external"></div></div></body></html>