/* {"build":"917","commit":"1c5857518fc14ad074752359745176943b717085","date":"2018-12-24T15:53:08Z"} */!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=305)}([function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,a=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===o.call(t)},s=function(t){if(!t||"[object Object]"!==o.call(t))return!1;var e,n=i.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&i.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;for(e in t);return void 0===e||i.call(t,e)};t.exports=function t(){var e,n,i,o,u,l,d=arguments[0],c=1,f=arguments.length,p=!1;for("boolean"==typeof d?(p=d,d=arguments[1]||{},c=2):("object"!==(void 0===d?"undefined":r(d))&&"function"!=typeof d||null==d)&&(d={});c<f;++c)if(null!=(e=arguments[c]))for(n in e)i=d[n],d!==(o=e[n])&&(p&&o&&(s(o)||(u=a(o)))?(u?(u=!1,l=i&&a(i)?i:[]):l=i&&s(i)?i:{},d[n]=t(p,l,o)):void 0!==o&&(d[n]=o));return d}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.reject=e.resolve=e.race=e.all=e.Promise=void 0;var r=n(51),i={},o=n(52);i.Promise=o,i.all=o.all.bind(o),i.race=o.race.bind(o),i.resolve=o.resolve.bind(o),i.reject=o.reject.bind(o);var a={Promise:void 0,all:void 0,race:void 0,resolve:void 0,reject:void 0};"function"==typeof r.Promise?(a.Promise=r.Promise,a.all=r.all.bind(r.Promise),a.race=r.race.bind(r.Promise),a.resolve=r.resolve.bind(r.Promise),a.reject=r.reject.bind(r.Promise)):(a.Promise=i.Promise,a.all=i.all,a.race=i.race,a.resolve=i.resolve,a.reject=i.reject);var s=e.Promise=a.Promise;e.all=a.all,e.race=a.race,e.resolve=a.resolve,e.reject=a.reject;e.default=s},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return"[object Array]"===Object.prototype.toString.call(t)},t.exports=e.default},function(t,e,n){var r,i;Object.defineProperty(e,"__esModule",{value:!0}),e.RATE_LIMITER_DOMAIN=e.INTERLEAVED_CONFIG_TO_DELETE=e.CAN_PLAY_TYPE_SCORES=e.INTERLEAVED_QUERY_PARAMS_TO_DELETE=e.WITHOUT_CREDENTIALS_LIST=e.WITH_CREDENTIALS_LIST=e.OMIT_DOMAIN_ENVS=e.ENV_TYPES=e.AD_TYPES=e.BREAKPOINTS=e.PLAYER_DIMENSIONS_TYPE=e.WITHOUT_CREDENTIALS_DEFAULT=e.WITH_CREDENTIALS_MOBILE_APP=e.WITH_CREDENTIALS_DEFAULT=e.BL_SCORE_EVENTS=e.IMA_SETTINGS_LOAD_VIDEO_TIMEOUT=e.IMA_SETTINGS_VAST_LOAD_TIMEOUT=e.IMA_SETTINGS_NUM_REDIRECTS=e.EXCLUDED_TRACKING_ACTIONS=e.DISABLE_FLASH_KEY_NAME=e.DYNAMIC_VALUES=e.APS=e.DEFAULT_BILLED_EVENT=e.BITWISE_REPORT_TYPES=e.JS_THIRD_PARTY_PIXEL=e.IFRAME_THIRD_PARTY_PIXEL=e.IMAGE_THIRD_PARTY_PIXEL=e.END_CARD_DEFAULT_TIME=e.END_CARD_EVENTS=e.IMA_FLASH_LOADER_URL=e.IMA_SDK_LOADER_URL=e.MEDIA_FILES=e.WATERFALL_REQUEST_METHOD=e.WATERFALL_OBJECT=e.THIRD_PARTY_TRACKING=e.AD_SOURCE_STATUS=e.SAM_CONFIG=e.VPAID_PROPERTIES=e.VPAID_METHODS=e.EVENTS_BLACKLIST=e.EVENTS_SHORT_VERSION=e.VPAID_TO_VAST_EVENTS=e.ERROR_CATEGORY_RATE_LIMITER=e.ERROR_CATEGORY_PREBID=e.ERROR_CODES_CATEGORIES=e.ERROR_CODES=e.ERRORS=e.AD_SERVER_REPORTS=e.REPORT_TYPE=e.REPORT_CATEGORIES=e.VIEW_MODE=e.DEFAULT_CHANNEL_TIMEOUT=e.DISABLE_BUFFERING_VAST_CLICK=e.VPAID_AD_IMPRESSION_TIMEOUT=e.VPAID_AD_STARTED_TIMEOUT=e.VPAID_AD_LOADED_TIMEOUT=e.VPAID_RESPONSE_TIMEOUT=e.TRACK_EVENT_CAP=e.WAIT_FOR_DOWNLOADS=e.AD_SOURCE_REQUEST_TO=e.QUERY_PARAMS_SHORT=e.QUERY_PARAMS=e.EVENT_DELAY_BEFORE_DONE=e.DEFAULT_EVENT_MANAGER_DOMAIN=e.VERSION=e.ADS_LOGGER_THRESHOLD=e.ADS_LOGGER_TOKEN=e.ADS_LOGGER_ENDPOINT=e.FLASH_PLAYER_ENDPOINT=e.VPAID_FLASH_ENDPOINT=void 0;var o=s(n(4)),a=s(n(17));function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.VPAID_FLASH_ENDPOINT="https://"+a.default.sdk+"/swf/v1.9/VPAIDFlash.swf",e.FLASH_PLAYER_ENDPOINT="https://"+a.default.sdk+"/swf/v1.9/sr.ads.swf",e.ADS_LOGGER_ENDPOINT="https://vast-logger.streamrail.net/?pt=ads_manager_logs",e.ADS_LOGGER_TOKEN="0UV6rcxyirOhAE",e.ADS_LOGGER_THRESHOLD=5,e.VERSION="917",e.DEFAULT_EVENT_MANAGER_DOMAIN=a.default.eventManager,e.EVENT_DELAY_BEFORE_DONE=200;var l=e.QUERY_PARAMS={ORGANIZATION:"org",TRAFFIC_CHANNEL:"tc",TRAFFIC_CHANNEL_NAME:"tc_name",COST:"cost",DOMAIN:"domain",AD_POSITION:"pos",PAGE_URL:"page_url",WIDTH:"width",HEIGHT:"height",AUTOPLAY:"autoplay",MUTE:"mute",CONTENT_DURATION:"video_duration",CONTENT_DESCRIPTION:"video_description",CONTENT_URL:"video_url",CONTENT_ID:"video_id",CONTENT_TITLE:"video_title",USER_LATITUDE:"user_lat",USER_LONGITUDE:"user_lon",USER_IP:"ip",USER_AGENT:"ua",PLAYER_ID:"playerid",PLAYER_NAME:"playername",SUB_ID:"sub_id",LOOP:"loop",SAM_JS_VERSION:"sam_js_ver",APP_NAME:"appname",IFA:"ifa",BUNDLE_ID:"bundleid",ENV:"env",SID:"sid",TRAFFIC_CHANNEL_DATA:"tc_data",APP_STORE_URL:"app_store_url",APP_CATEGORY:"app_category",COUNTRY_CODE:"cc",PLAYER_VERSION:"pv",NEST_LEVEL:"ns",DO_NOT_TRACK:"dnt",USER_CONSENT:"user_consent",GDPR:"gdpr"},d=(e.QUERY_PARAMS_SHORT={ORGANIZATION:"org",TRAFFIC_CHANNEL:"tc",TRAFFIC_CHANNEL_NAME:"tcn",COST:"tcc",DOMAIN:"domain",AD_POSITION:"pos",PAGE_URL:"u",WIDTH:"w",HEIGHT:"h",AUTOPLAY:"ap",MUTE:"m",CONTENT_DURATION:"vdur",CONTENT_DESCRIPTION:"vdesc",CONTENT_URL:"vurl",CONTENT_ID:"vid",CONTENT_TITLE:"vtitle",USER_LATITUDE:"lat",USER_LONGITUDE:"lon",USER_IP:"ip",USER_AGENT:"ua",PLAYER_ID:"pid",PLAYER_NAME:"pn",SUB_ID:"subid",SAM_JS_VERSION:"sjs",APP_NAME:"app_name",IFA:"ifa",BUNDLE_ID:"bundle_id",ENV:"env",SID:"sid",TRAFFIC_CHANNEL_DATA:"tc_data",APP_STORE_URL:"app_store_url",APP_CATEGORY:"app_category",COUNTRY_CODE:"cc",PLAYER_VERSION:"pv",NEST_LEVEL:"ns",DO_NOT_TRACK:"dnt",OS:"os",OS_VERSION:"osv",BROWSER:"br",BROWSER_VERSION:"brv",USER_CONSENT:"uc",IS_UID:"isu"},e.AD_SOURCE_REQUEST_TO=15e3,e.WAIT_FOR_DOWNLOADS=2e3,e.TRACK_EVENT_CAP=100,e.VPAID_RESPONSE_TIMEOUT=15e3,e.VPAID_AD_LOADED_TIMEOUT=3e4,e.VPAID_AD_STARTED_TIMEOUT=3e4,e.VPAID_AD_IMPRESSION_TIMEOUT=1e4,e.DISABLE_BUFFERING_VAST_CLICK=!1,e.DEFAULT_CHANNEL_TIMEOUT=12e4,e.VIEW_MODE={NORMAL:"normal",FULLSCREEN:"fullscreen",THUMBNAIL:"thumbnail"},e.REPORT_CATEGORIES={AD_SERVER:"adserver",AD_UNIT:"adunit"},e.REPORT_TYPE={VPAID_JS:"vpaid-js"},e.AD_SERVER_REPORTS={REQUEST:"req",BID:"bid",LOSE:"lose",ERROR:"err",WIN:"win",SCRIPT_INIT:"am",INIT_ERROR:"no-ad-params"}),c=(e.ERRORS={INVALID_DOM_CONTAINER_EL:"invalid container HtmlElement",INVALID_DOM_VIDEO_EL:"invalid HTMLVideoElement",MISSING_CALLBACK:"missing valid callback",INVALID_MEDIA_FILE:"invalid MediaFile",NO_ADS:"no ads"},e.ERROR_CODES={DEFAULT:901,UNKNOWN:999,FLASH_MEDIA_FILE_NOT_FOUND:100,HANDSHAKE_VERSION_MISMATCH:101,LOAD_AD_TO:102,START_AD_TO:103,VPAID_ERROR:104,SUPPORTED_MEDIA_FILE_NOT_FOUND:105,CANNOT_START_FLASH_PLAYER:106,MISSING_SLOT_OR_VIDEO_SLOT:107,AD_IMPRESSION_TO:108,MEDIA_ERROR:109,EXCEPTION:110,CHANNEL_TIMEOUT:111,FLASH_MARKED_AS_DISABLED:112,LOAD_AD_UNIT_FAILED:113,LOAD_AD_UNIT_NO_GET_VPAID:114,LOAD_AD_UNIT_NOT_COMPLAINT:115,LOAD_AD_UNIT_NO_IFRAME:116,LOAD_AD_UNIT_TIMEOUT:117,LOAD_AD_UNIT_JS_ERROR:118,VPAID_STOPPED_WITHOUT_IMPRESSION:119,ERROR_PARSING_XML:200,NO_AD_IN_VAST_TREE:201,VAST_VERSION_NOT_SUPPORTED:202,INLINE_AND_WRAPPER_IN_RESPONSE:203,INLINE_AND_WRAPPER_NOT_IN_RESPONSE:204,MISSING_CREATIVE_AND_VIDEO_IN_INLINE:205,MISSING_CREATIVE_IN_INLINE:206,MISSING_VASTADTAGURI_IN_WRAPPER:207,AD_TYPE_NOT_SUPPORTED:208,OFFSET_ATTRIBUTE_ERROR:209,AD_SOURCE_REQUEST_TO:210,SPOTX_DIRECT_SDK_INTERNAL_ERROR:211,IMA_ADS_LOAD_ERROR_HANDLER:300,HTTP_ERROR:404,NO_ADS:500,AD_SOURCE_RATE_LIMITED:678,AD_SOURCE_REPLACED_BY_VAST:700,AD_SOURCE_NO_FILL_REQUEST_CAP:802,AD_SOURCE_DETECTED_SIZE_MISS_MATCH:803,AD_SOURCE_DETECTED_DIMENSIONS_MISS_MATCH:804},e.ERROR_CODES_CATEGORIES={"prebid-error":[200,201,202,203,204,205,206,207,208,209,210,211,404,999],"targeting-error":[802,803,804],"tech-error":[100,101,105,106,107,109,110,112,113,114,115,116,117,118,901],"vpaid-error":[104,119,300],"timeout-error":[102,103,108,111,700],"no-ads":[500],"rl-error":[678]},e.ERROR_CATEGORY_PREBID="prebid-error",e.ERROR_CATEGORY_RATE_LIMITER="rl-error",e.VPAID_TO_VAST_EVENTS={AdStarted:"creativeView",AdSkipped:"skip",AdUnMute:"unmute",AdMute:"mute",AdVideoStart:"start",AdVideoFirstQuartile:"firstQuartile",AdVideoMidpoint:"midpoint",AdVideoThirdQuartile:"thirdQuartile",AdVideoComplete:"complete",AdUserAcceptInvitation:"acceptInvitation",AdUserMinimize:"collapse",AdUserClose:"close",AdPaused:"pause",AdPlaying:"resume",AdError:"error"},e.EVENTS_SHORT_VERSION={AdStarted:"as",AdLoaded:"al",AdImpression:"ai",AdClickThru:"ct",AdVideoComplete:"avc",AdVideoStart:"avs",am:"am",win:"win",END_CARD_VIEW:"ecv",END_CARD_CLICK:"ecc"}),f=(e.EVENTS_BLACKLIST=["req",o.default.AdStopped,o.default.AdPaused,o.default.AdSkipped,o.default.AdSizeChange,o.default.AdLog,o.default.AdLinearChange,o.default.AdUserClose,o.default.AdPlaying,o.default.AdExpandedChange,o.default.AdSkippableStateChange,o.default.AdRemainingTimeChange,o.default.AdVolumeChange,o.default.AdDurationChange,o.default.AdUserAcceptInvitation,o.default.AdInteraction],e.VPAID_METHODS=["resizeAd","pauseAd","resumeAd","expandAd","collapseAd","skipAd"],e.VPAID_PROPERTIES=["adLinear","adWidth","adHeight","adExpanded","adSkippableState","adRemainingTime","adDuration","adVolume","adCompanions","adIcons"],e.SAM_CONFIG={QUERY_PARAMS:"qs",CHANNEL_TIMEOUT:"timeout",WATERFALL:"waterfall",CONFIG:"config",HALFPIPE_HOSTNAME:"halfpipe_hostname",MODULE_VERSION:"module_version",DYNAMIC_VALUES:"dynamicValues"},e.AD_SOURCE_STATUS={LOADING:"loading",ERROR:"error",SUCCESS:"success"},e.THIRD_PARTY_TRACKING={AD_SOURCE_NAME:"[SR_AD_SOURCE_NAME]",AD_SOURCE_ID:"[SR_AD_SOURCE_ID]",AD_SOURCE_RATE:"[SR_AD_SOURCE_RATE]",TRAFFIC_CHANNEL_NAME:"[SR_TRAFFIC_CHANNEL_NAME]",TRAFFIC_CHANNEL_ID:"[SR_TRAFFIC_CHANNEL_ID]",PAGE_URL:"[PAGE_URL]",DOMAIN:"[DOMAIN]",CUSTOM_PARAM:"[SR_CUSTOM_PARAM_IDX]"},e.WATERFALL_OBJECT={TIERS:"tiers",WATERFALL_ID:"waterfallId",WATERFALL_NAME:"waterfallName",REQUEST_METHOD:"requestMethod",WATERFALL_DATA:"waterfall_data"},e.WATERFALL_REQUEST_METHOD={SERIAL:"serial",PARALLEL:"parallel"},e.MEDIA_FILES={X_FLV:"video/x-flv",FLV:"video/flv",MP4:"video/mp4",X_MP4:"video/x-mp4"},e.IMA_SDK_LOADER_URL="https://imasdk.googleapis.com/js/sdkloader/ima3.js",e.IMA_FLASH_LOADER_URL="https://"+a.default.sdk+"/swf/v1.9/IMALoader.swf",e.END_CARD_EVENTS={EndCardView:"EndCardView"},e.END_CARD_DEFAULT_TIME=5e3,e.IMAGE_THIRD_PARTY_PIXEL="img",e.IFRAME_THIRD_PARTY_PIXEL="iframe",e.JS_THIRD_PARTY_PIXEL="js",e.BITWISE_REPORT_TYPES={REQUEST:1,IMPRESSION:2,USER_COMPLETE_CAP:4,USER_IMPRESSION_CAP:8,IMPRESSION_BETWEEN_FT:16,COMPLETION:128,COMPLETION_BETWEEN_FT:256},e.DEFAULT_BILLED_EVENT=c[o.default.AdImpression],e.APS={MODULE_VERSION:["m","module_version"],HALFPIPE_HOSTNAME:["h","halfpipe_hostname"],WATERFALL:["w","waterfall"],WATERFALL_NAME:["n","waterfallName"],WATERFALL_ID:["i","waterfallId"],TIERS:["t","tiers"],TIER:["t","tier"],AD_SOURCES:["a","adSources"],ID:["i","id"],URL:["u","url"],BLID:["bl","BLId"],REQUEST_METHOD:["r","requestMethod"],SIZE:["s","size"],CONFIG:["c","config"],QUERY_PARAMS:["qs","qs"],TIMEOUT:["t","timeout"],SERIAL:["s","serial"],PARALLEL:["p","parallel"],EM_REPORT_TYPE:["e","emReportType"],DISPLAY_END_CARD:["d","displayEndCard"],END_CARD_TIME:["et","endCardTime"],THIRD_PARTY_PIXELS:["t","thirdPartyPixels"],EVENT:["e","event"],TYPE:["t","type"],SAMPLE:["s","sample"],RATE:["r","rate"],COST:["c","cost"],FROM_BL:["f","fromBL"],NO_FILL_REQUEST_CAP:["n","noFillRequestCap"],BILLED_EVENT:["b","billedEvent"],DISABLE_BUFFERING_VAST_CLICK:["dbvc","disableBufferingVastClick"],BREAKPOINT:["brp","breakpoint"],BREAKPOINT_FOR:["brpf","breakpointFor"],CLICK_THRU_TEXT:["ctt","clickThruText"],BL:["b","bl"],SID:["s","sid"],NESTED:["ns","nested"],BUNDLE_ID:["b","bundleId"],SER:["q","ser"],BL_SCORE:["bs","blScore"],NESTED_MEDIA_FILE:["mf","mediaFiles"],NESTED_AD_PARAMETERS:["ap","adParameters"],DYNAMIC_VALUES:["z","dynamicValues"],AD_SOURCE_LOGGING:["l","adsLogger"],PLAYER_DIMENSIONS:["pd","playerDimensions"],PLAYER_DIMENSIONS_REL:["r","rel"],PLAYER_DIMENSIONS_VALUES:["v","values"],INTERLEAVED_AD_SOURCE_TC_OBJECT:["of","of"],PARENT_AD_SOURCE:["p","parentAdSource"]},e.DYNAMIC_VALUES={SELLER_TRAFFIC_CHANNEL:"stc"},e.DISABLE_FLASH_KEY_NAME="disableFlash",e.EXCLUDED_TRACKING_ACTIONS={adunit:[o.default.AdRemainingTimeChange,o.default.AdVolumeChange,o.default.AdDurationChange],adserver:[]},e.IMA_SETTINGS_NUM_REDIRECTS=6,e.IMA_SETTINGS_VAST_LOAD_TIMEOUT=11e3,e.IMA_SETTINGS_LOAD_VIDEO_TIMEOUT=12e3,e.BL_SCORE_EVENTS=[d.ERROR,d.BID,d.WIN,d.LOSE,o.default.AdImpression],e.WITH_CREDENTIALS_DEFAULT="WyJhZC4zNjB5aWVsZC5jb20iLCJhZC5kb3VibGVjbGljay5uZXQiLCJhZC5zeHAuc21hcnRjbGlwLm5ldCIsImFkcy5hZGFwdHYuYWR2ZXJ0aXNpbmcuY29tIiwiYWRzLmNvbnRleHR3ZWIuY29tIiwiYWRzLm5leGFnZS5jb20iLCJhZHMuc3RpY2t5YWRzdHYuY29tIiwiYWRzLnRyZW1vcmh1Yi5jb20iLCJhZHguYWRmb3JtLm5ldCIsImFsdGl0dWRlLWFyZW5hLmNvbSIsImFwLmxpaml0LmNvbSIsImFwaS52aXJhbGl6ZS50diIsImFyZW5hLmFsdGl0dWRlcGxhdGZvcm0uY29tIiwiYXMuZXUuYW5nc3J2ci5jb20iLCJhc2YtdG0uZXZlcmVzdHRlY2gubmV0IiwiYmlkLmcuZG91YmxlY2xpY2submV0IiwiYnMuc2VydmluZy1zeXMuY29tIiwiYnRybGwuY29tIiwiYy5hZGZvcmdlaW5jLmNvbSIsImNhc2FsZW1lZGlhLmNvbSIsImRhbmliZXJpYWFnLnNvbHV0aW9uLndlYm9yYW1hLmZyIiwiZGFzaGJpZGEuY29tIiwiZGVzLnNtYXJ0Y2xpcC5uZXQiLCJmdy5hZHNhZmVwcm90ZWN0ZWQuY29tIiwiaWFkLXVzYWRtbS5kb3RvbWkuY29tIiwiaWIuYWRueHMuY29tIiwiaW1hM3ZwYWlkLmFwcHNwb3QuY29tIiwiaW5zaWdodC5hZHNydnIub3JnIiwiaW9tcy5iZm1pby5jb20iLCJsa3FkLm5ldCIsImxvb3BtZS5tZSIsIm1lZ2EudmFzdC5tZWdhLXRhZ3MuY29tIiwibm9kZS1wMmUtYmM0M2VyLnNpdGVzY291dC5jb20iLCJvcGVueC5uZXQiLCJvcHRpbWF0aWMuY29tIiwib3B0aW1pemVkLWJ5LnJ1Ymljb25wcm9qZWN0LmNvbSIsInAuYWxnb3ZpZC5jb20iLCJwaXhlbC5hZHNhZmVwcm90ZWN0ZWQuY29tIiwicHIueWJwLnlhaG9vLmNvbSIsInByb2QtZS5zcHJ0YWQuY29tIiwicHViYWRzLmcuZG91YmxlY2xpY2submV0IiwicHVibWF0aWMuY29tIiwicXVhc2FyLmNvdWxsLmNvbSIsInJlcS50aWRhbHR2LmNvbSIsInJ0Yi1zZWxsZXIuY29tIiwicnRiLXh2Lm9wZW54Lm5ldCIsInJ0Yi50dWJlbW9ndWwuY29tIiwicnRyLmlubm92aWQuY29tIiwic2VhcmNoLnNwb3R4Y2hhbmdlLmNvbSIsInNlcnZlZGJ5LmZsYXNodGFsa2luZy5jb20iLCJzbWFydGFkc2VydmVyLmNvbSIsInNzcC5hbnljbGlwLW1lZGlhLmNvbSIsInN0LnZpZGVvamFtLnR2Iiwic3RyZWFtcmFpbC5uZXQiLCJzdXJmLnJvbGxtb2IuY29tIiwic3Zhc3R4Lm1vYXRhZHMuY29tIiwidC5hZHguaW8iLCJ0YWdzLnJsbGNsbC5jb20iLCJ2YXN0LmFkc2FmZXByb3RlY3RlZC5jb20iLCJ2YXN0LmRlbGlhZHMuY29tIiwidmFzdC5kb3VibGV2ZXJpZnkuY29tIiwidmFzdC5leHRyZW1lcmVhY2guaW8iLCJ2YXN0Lm1hbmdvbWVkaWFhZHMuY29tIiwidmFzdC5tYXRodGFnLmNvbSIsInZhc3Quc3BvdGltLm1hcmtldCIsInZhc3QudmVydGFtZWRpYS5jb20iLCJ2YXN0LnZpZGVlLnR2IiwidmFzdC52bXMuY2lnbmFsaW8uY29tIiwidmFzdC55YXNoaS5jb20iLCJ2aWQuc3ByaW5nc2VydmUuY29tIiwidmlkZW8uYm5tbGEuY29tIiwidm9rZW4uZXllcmV0dXJuLmNvbSIsIndsLnExbWVkaWEuY29tIl0="),p=e.WITH_CREDENTIALS_MOBILE_APP="WyJhZC4zNjB5aWVsZC5jb20iLCJhZC5kb3VibGVjbGljay5uZXQiLCJhZC5zeHAuc21hcnRjbGlwLm5ldCIsImFkcy5hZGFwdHYuYWR2ZXJ0aXNpbmcuY29tIiwiYWRzLmNvbnRleHR3ZWIuY29tIiwiYWRzLm5leGFnZS5jb20iLCJhZHMuc3RpY2t5YWRzdHYuY29tIiwiYWR4LmFkZm9ybS5uZXQiLCJhbHRpdHVkZS1hcmVuYS5jb20iLCJhcC5saWppdC5jb20iLCJhcGkudmlyYWxpemUudHYiLCJhcmVuYS5hbHRpdHVkZXBsYXRmb3JtLmNvbSIsImFzLmV1LmFuZ3NydnIuY29tIiwiYXNmLXRtLmV2ZXJlc3R0ZWNoLm5ldCIsImJpZC5nLmRvdWJsZWNsaWNrLm5ldCIsImJzLnNlcnZpbmctc3lzLmNvbSIsImJ0cmxsLmNvbSIsImMuYWRmb3JnZWluYy5jb20iLCJjYXNhbGVtZWRpYS5jb20iLCJkYW5pYmVyaWFhZy5zb2x1dGlvbi53ZWJvcmFtYS5mciIsImRhc2hiaWRhLmNvbSIsImRlcy5zbWFydGNsaXAubmV0IiwiZncuYWRzYWZlcHJvdGVjdGVkLmNvbSIsImlhZC11c2FkbW0uZG90b21pLmNvbSIsImliLmFkbnhzLmNvbSIsImltYTN2cGFpZC5hcHBzcG90LmNvbSIsImluc2lnaHQuYWRzcnZyLm9yZyIsImlvbXMuYmZtaW8uY29tIiwibGtxZC5uZXQiLCJsb29wbWUubWUiLCJtZWdhLnZhc3QubWVnYS10YWdzLmNvbSIsIm5vZGUtcDJlLWJjNDNlci5zaXRlc2NvdXQuY29tIiwib3BlbngubmV0Iiwib3B0aW1hdGljLmNvbSIsIm9wdGltaXplZC1ieS5ydWJpY29ucHJvamVjdC5jb20iLCJwLmFsZ292aWQuY29tIiwicGl4ZWwuYWRzYWZlcHJvdGVjdGVkLmNvbSIsInByLnlicC55YWhvby5jb20iLCJwcm9kLWUuc3BydGFkLmNvbSIsInB1YmFkcy5nLmRvdWJsZWNsaWNrLm5ldCIsInB1Ym1hdGljLmNvbSIsInF1YXNhci5jb3VsbC5jb20iLCJyZXEudGlkYWx0di5jb20iLCJydGItc2VsbGVyLmNvbSIsInJ0Yi14di5vcGVueC5uZXQiLCJydGIudHViZW1vZ3VsLmNvbSIsInJ0ci5pbm5vdmlkLmNvbSIsInNlYXJjaC5zcG90eGNoYW5nZS5jb20iLCJzZXJ2ZWRieS5mbGFzaHRhbGtpbmcuY29tIiwic21hcnRhZHNlcnZlci5jb20iLCJzc3AuYW55Y2xpcC1tZWRpYS5jb20iLCJzdC52aWRlb2phbS50diIsInN0cmVhbXJhaWwubmV0Iiwic3VyZi5yb2xsbW9iLmNvbSIsInN2YXN0eC5tb2F0YWRzLmNvbSIsInQuYWR4LmlvIiwidGFncy5ybGxjbGwuY29tIiwidmFzdC5hZHNhZmVwcm90ZWN0ZWQuY29tIiwidmFzdC5kZWxpYWRzLmNvbSIsInZhc3QuZG91YmxldmVyaWZ5LmNvbSIsInZhc3QuZXh0cmVtZXJlYWNoLmlvIiwidmFzdC5tYW5nb21lZGlhYWRzLmNvbSIsInZhc3QubWF0aHRhZy5jb20iLCJ2YXN0LnNwb3RpbS5tYXJrZXQiLCJ2YXN0LnZlcnRhbWVkaWEuY29tIiwidmFzdC52aWRlZS50diIsInZhc3Qudm1zLmNpZ25hbGlvLmNvbSIsInZhc3QueWFzaGkuY29tIiwidmlkLnNwcmluZ3NlcnZlLmNvbSIsInZpZGVvLmJubWxhLmNvbSIsInZva2VuLmV5ZXJldHVybi5jb20iLCJ3bC5xMW1lZGlhLmNvbSJd",h=e.WITHOUT_CREDENTIALS_DEFAULT="WyJybC5zdHJlYW1yYWlsLm5ldCJd",_=(e.PLAYER_DIMENSIONS_TYPE={RANGE:"r",EQUAL:"eq",NOT_EQUAL:"neq"},e.BREAKPOINTS={MAX:"max"},e.AD_TYPES={IMA:"ima",VPAID:"vpaid",VAST:"vast"},e.ENV_TYPES={DESKTOP:["d","desktop"],MOBILE_WEB:["mw","mobile_web"],MOBILE_APP:["ma","mobile_app"],CTV:["c","ctv"]});e.OMIT_DOMAIN_ENVS=_.MOBILE_APP.concat(_.CTV),e.WITH_CREDENTIALS_LIST=(u(r={},_.DESKTOP[0],f),u(r,_.MOBILE_WEB[0],f),u(r,_.MOBILE_APP[0],p),u(r,_.CTV[0],p),r),e.WITHOUT_CREDENTIALS_LIST=(u(i={},_.DESKTOP[0],h),u(i,_.MOBILE_WEB[0],h),u(i,_.MOBILE_APP[0],h),u(i,_.CTV[0],h),i),e.INTERLEAVED_QUERY_PARAMS_TO_DELETE=[l.ORGANIZATION,l.TRAFFIC_CHANNEL,l.TRAFFIC_CHANNEL_NAME,l.COST,l.PLAYER_ID,l.PLAYER_NAME,l.SUB_ID,l.TRAFFIC_CHANNEL_DATA,l.PLAYER_VERSION,l.NEST_LEVEL],e.CAN_PLAY_TYPE_SCORES={"":0,maybe:1,probably:2},e.INTERLEAVED_CONFIG_TO_DELETE=[],e.RATE_LIMITER_DOMAIN="rl.streamrail.net"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default={AdLoaded:"AdLoaded",AdStarted:"AdStarted",AdStopped:"AdStopped",AdSkipped:"AdSkipped",AdLinearChange:"AdLinearChange",AdSizeChange:"AdSizeChange",AdExpandedChange:"AdExpandedChange",AdSkippableStateChange:"AdSkippableStateChange",AdRemainingTimeChange:"AdRemainingTimeChange",AdDurationChange:"AdDurationChange",AdVolumeChange:"AdVolumeChange",AdImpression:"AdImpression",AdVideoStart:"AdVideoStart",AdVideoFirstQuartile:"AdVideoFirstQuartile",AdVideoMidpoint:"AdVideoMidpoint",AdVideoThirdQuartile:"AdVideoThirdQuartile",AdVideoComplete:"AdVideoComplete",AdClickThru:"AdClickThru",AdInteraction:"AdInteraction",AdUserAcceptInvitation:"AdUserAcceptInvitation",AdUserMinimize:"AdUserMinimize",AdUserClose:"AdUserClose",AdPaused:"AdPaused",AdPlaying:"AdPlaying",AdLog:"AdLog",AdError:"AdError",AdUnMute:"AdUnMute",AdMute:"AdMute",AdBufferingClickThru:"AdBufferingClickThru",AdBreakpoint:"AdBreakpoint",creativeView:"creativeView"};e.QUARTILE_EVENTS=["AdVideoFirstQuartile","AdVideoMidpoint","AdVideoThirdQuartile","AdVideoComplete"]},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});e.LOADSTART="loadstart",e.PROGRESS="progress",e.SUSPEND="suspend",e.ABORT="abort",e.ERROR="error",e.EMPTIED="emptied",e.STALLED="stalled",e.LOADEDMETADATA="loadedmetadata",e.LOADEDDATA="loadeddata",e.CANPLAY="canplay",e.CANPLAYTHROUGH="canplaythrough",e.PLAYING="playing",e.WAITING="waiting",e.SEEKING="seeking",e.SEEKED="seeked",e.ENDED="ended",e.DURATIONCHANGE="durationchange",e.TIMEUPDATE="timeupdate",e.PLAY="play",e.PAUSE="pause",e.RATECHANGE="ratechange",e.RESIZE="resize",e.VOLUMECHANGE="volumechange",e.FULLSCREENCHANGE="fullscreenchange"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){t&&(t.classList?t.classList.add(e):t.className+=" "+e)},t.exports=e.default},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});e.CONTROL_BAR_EVENTS={playControlClicked:"playControlClicked",pauseControlClicked:"pauseControlClicked",muteControlClick:"muteControlClick",unmuteControlClick:"unmuteControlClick",progressBarClick:"progressBarClick"},e.SKIP_BUTTON_EVENTS={skipButtonClicked:"skipButtonClicked",skippableStateChange:"skippableStateChange"},e.ADS_PLAYER_EVENTS={loopend:"loopend"},e.CONTENT_PLAYER_EVENTS={contentloopend:"contentloopend",contentend:"contentend"},e.PLAYER_EVENTS={playerDone:"playerDone",playerReady:"playerReady",playerNoAds:"playerNoAds",playerContentDone:"playerContentDone"},e.PLUGINS_EVENTS={viewportchange:"viewportchange",viewabilitychange:"viewabilitychange",viewable:"viewable",nonviewable:"nonviewable",intextreveal:"intextreveal",intextfold:"intextfold",stickychange:"stickychange",stick:"stick",unstick:"unstick"},e.SCHEDULING_TYPES={breakingAds:"breakingAds",adsOnly:"",preRoll:"preRoll"},e.DEFAULT_SKIP_COUNTING_TEXT="Skip in",e.DEFAULT_SKIP_TEXT="Skip Ad",e.DEFAULT_SKIP_TIME=5,e.KNOWN_FLASH_AD_VOLUME_METHODS=["lkqdSetAdVolume","videe_setAdVolume"],e.MAX_LOOPS=1/0,e.UNKNOWN_TIME=-2,e.MIN_TIME_SHOW_CONTROL_BAR=3e3,e.HLS_CONTENT_TYPE="application/vnd.apple.mpegurl"},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,l=[],d=!1,c=-1;function f(){d&&u&&(d=!1,u.length?l=u.concat(l):c=-1,l.length&&p())}function p(){if(!d){var t=s(f);d=!0;for(var e=l.length;e;){for(u=l,l=[];++c<e;)u&&u[c].run();c=-1,e=l.length}u=null,d=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function _(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new h(t,e)),1!==l.length||d||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=_,i.addListener=_,i.once=_,i.off=_,i.removeListener=_,i.removeAllListeners=_,i.emit=_,i.prependListener=_,i.prependOnceListener=_,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.formatTime=e.createControl=e.safeMediaMethod=e.waitForEvent=e.canAutoplay=void 0,e.createContainerWithStyles=function(t){var e=document.createElement("div");e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.width="100%",e.style.height="100%",e.style.zIndex=0,t&&(0,r.default)(e,t);return e},e.createPlayerInIframe=function(t,e){return new l.default(function(n){var r=document.getElementById(e.containerID)||document.body,i=m(t),o=(new f.default).NewGuid(),l=(0,a.default)(o,e.width,e.height),c={srJsPath:i,iframeID:o,options:JSON.stringify(e)};window["sr_player_cb_"+o]=function(t){t.then(function(t){l.width=t.width,l.height=t.height,n(t)})},r.innerHTML="",r.appendChild(l),(0,s.default)(l,(0,u.default)(d.default,c))})},e.createSamIframe=function(t){var e=t.width,n=t.height,r=t.scriptNamePrefix,i=t.container,o=t.loadSrVideo;return new l.default(function(t){var l="";if(o){var d=m(r),p=d.substring(0,d.lastIndexOf("/"))+"/srv.js";l='<script src="'+p+'"><\/script>'}var h=(new f.default).NewGuid(),_=(0,a.default)(h,e,n),v={srvScriptTag:l,iframeID:h};window["sam_cb_"+h]=function(){t(_),delete window["sam_cb_"+h],_=null},i.appendChild(_),(0,s.default)(_,(0,u.default)(c.default,v))})},e.htmlDecode=function(t){var e=document.createElement("a");return e.innerHTML=t,e.textContent},e.findIFrames=function t(e,n){n=n||[];e&&e.querySelectorAll&&Array.prototype.slice.call(e.querySelectorAll("iframe"),0).forEach(function(e){try{e&&e.contentDocument&&(n.push(e.contentDocument),t(e.contentDocument,n))}catch(t){}});return n},e.silenceNoisyElements=function(t){t&&t.querySelectorAll&&(Array.prototype.slice.call(t.querySelectorAll("object"),0).forEach(function(t){p.KNOWN_FLASH_AD_VOLUME_METHODS.forEach(function(e){"function"==typeof t[e]&&t[e](0)})}),Array.prototype.slice.call(t.querySelectorAll("video, sr-video, audio"),0).forEach(function(t){t.volume=0,t.muted=!0,t.setAttribute("muted","muted")}))},e.oneTimeCall=function(t){var e=!1,n=t.name||"oneTimeWrapped";return function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n;return t}({},n,function(){e||(e=!0,t.apply(void 0,arguments))})[n]},e.rafify=function(t){return t.reverse().reduce(function(t,e){return function(){return requestAnimationFrame(function(){e(),t()})}},function(){})()},e.getStyle=function(t,e){e?e.forEach||(e=Object.keys(e)):e=[];return e.reduce(function(e,n){return e[n]=t.style[n],e},{})},e.setStyle=function(t,e){Object.keys(e).forEach(function(n){void 0===e[n]||null===e[n]||""===e[n]?t.style[n]=null:t.style[n]=e[n]})},e.clearStyle=function(t,e){e&&(e.forEach||(e=Object.keys(e)),e.forEach(function(e){t.style[e]=null}))},e.proxify=function(t){if("function"==typeof window.Proxy)return new window.Proxy(t,{get:function(t,e){return t[e]},set:function(t,e,n){return t[e]=n,!0}});return t};var r=_(n(6)),i=_(n(91)),o=_(n(140)),a=_(n(41)),s=_(n(42)),u=_(n(92)),l=_(n(1)),d=_(n(141)),c=_(n(142)),f=_(n(40)),p=n(7),h=_(n(143));function _(t){return t&&t.__esModule?t:{default:t}}var v;e.canAutoplay=(v=void 0,function(t){return"boolean"==typeof v?l.default.resolve(v):(0,h.default)(t).then(function(t){return v=t,t})}),e.waitForEvent=function(t){var e=t.element,n=t.event,r=t.timeout;return new l.default(function(t){var i=!1,o=null,a=function(){i||(i=!0,clearInterval(o),e.removeEventListener(n,a),t(),a=null)};o=setTimeout(a,r),e.addEventListener(n,a,{once:!0})})},e.safeMediaMethod=function(t,e){var n=t[e]();return n&&n.catch&&n.catch(function(){}),n},e.createControl=function(){var t=document.createElement("div");return(0,r.default)(t,"sr-blade-control"),t},e.formatTime=function(t){try{t=parseInt(t,10);var e=parseInt(t/60,10)%60;if(isNaN(t)||isNaN(e))return"0:00";var n=t%60;return e+":"+(n=n>9?n.toString():0!==n?"0"+n:"00")}catch(t){return"0:00"}};function m(t){return(0,i.default)(t)||function(t){return(0,o.default)()+"/blade/"+t+("."!==t[t.length-1]?".":"")+"js"}(t)}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if(t)return t.uRL?t.uRL.keyValue:t.keyValue;return},t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.createQueryString=function(t){var e="?";for(var n in t)t.hasOwnProperty(n)&&(e+=n+"="+t[n]+"&");return e=e.slice(0,-1)},e.getAdParametersValue=function(t,e){return t[e[0]]||t[e[1]]},e.incrementAdSourceNoFill=function(t){p.noFill=p.noFill||{},p.noFill[t]=(p.noFill[t]||0)+1},e.didReachAdSourceNoFillRequestCap=function(t){return t.noFillRequestCap&&p.noFill&&p.noFill[t.id]&&p.noFill[t.id]>=t.noFillRequestCap},e.getUserSessionId=function(){return p.sid},e.setUserSessionId=function(t){p.sid=t},e.normalizePageUrl=function(t){t&&!(0,u.default)(t)&&(t="http://"+t);return t},e.getCredentialsLists=function(t){var e=r.WITH_CREDENTIALS_LIST[t]||r.WITH_CREDENTIALS_LIST[_(t)],n=r.WITHOUT_CREDENTIALS_LIST[t]||r.WITHOUT_CREDENTIALS_LIST[_(t)],i=void 0,o=void 0;i=e?JSON.parse(atob(e)):JSON.parse(atob(r.WITH_CREDENTIALS_DEFAULT));o=n?JSON.parse(atob(n)):JSON.parse(atob(r.WITHOUT_CREDENTIALS_DEFAULT));return{withCredentials:i,withoutCredentials:o}},e.normalizeValue=function(t){return void 0!==t?t:""},e.getAdSourceType=function(t,e){if(t.isIMA)return"ima";if(t.isVPAID)return t.isVAST?"vast+vpaid "+e.VPAIDType:"vpaid "+e.VPAIDType;return"vast"},e.convertToShortEnv=_,e.handleRateLimit=function(t,e,n){return new c.default(function(o,a){var s=(0,l.default)(t.url);if(s!==r.RATE_LIMITER_DOMAIN)o(!1);else{var u=(0,i.injectMacros)(t.url+"&r=0",e,n);(0,d.default)(u).then(function(){o(!0)}).catch(a)}})};var r=n(3),i=n(61),o=f(n(4)),a=f(n(28)),s=f(n(60)),u=f(n(82)),l=f(n(34)),d=f(n(27)),c=f(n(1));function f(t){return t&&t.__esModule?t:{default:t}}var p=(0,a.default)("session",(0,s.default)()),h={};function _(t){var e=void 0;switch(t){case r.ENV_TYPES.DESKTOP[1]:e=r.ENV_TYPES.DESKTOP[0];break;case r.ENV_TYPES.MOBILE_WEB[1]:e=r.ENV_TYPES.MOBILE_WEB[0];break;case r.ENV_TYPES.MOBILE_APP[1]:e=r.ENV_TYPES.MOBILE_APP[0];break;case r.ENV_TYPES.CTV[1]:e=r.ENV_TYPES.CTV[0]}return e}h.retrieveCallingURL=function(t){for(var e=document.getElementsByTagName("script"),n="",r=0;r<e.length;r+=1)if(-1!==e[r].src.indexOf(t)){n=e[r].src;break}return n},h.parseQueryString=function(t){var e={};return t.indexOf("?")<0?e:(t.slice(t.indexOf("?")+1).split("&").forEach(function(t){var n=t.split("=");e[n[0]]=decodeURIComponent(n[1])}),e)},h.extractQueryParam=function(t){try{var e=h.retrieveCallingURL("sr.ads.manager");return h.parseQueryString(e)[t]}catch(t){return"ERROR"}},h.bindEvents=function(t,e,n){var r={};if(t)for(var i in n)if(n.hasOwnProperty(i))try{!function(n){var i=function(t){e(n,t)};t.addEventListener?t.addEventListener(n,i):t.on&&t.on(n,i),r[n]=i}(n[i])}catch(t){}return r},h.unbindEvents=function(t,e,n){if(!n&&e&&(n=Object.keys(e).reduce(function(t,e){return t[e]=e,t},{})),t)for(var r in n)n.hasOwnProperty(r)&&(i=r,t.removeEventListener?t.removeEventListener(i,e[i]):t.off&&t.off(i,e[i]));var i},h.bindVPAIDEvents=function(t,e){return h.bindEvents(t,e,o.default)},h.unbindVPAIDEvents=function(t,e){return h.unbindEvents(t,e,o.default)},h.shouldUpdateAdProperties=function(t){return t===o.default.AdLoaded||t===o.default.AdStarted||t===o.default.AdImpression||t.indexOf("Change")>-1},h.getAdPropertiesToUpdate=function(t){return t===o.default.AdStarted||t===o.default.AdImpression?r.VPAID_PROPERTIES:t===o.default.AdLoaded||t===o.default.AdLinearChange?["adLinear"]:t===o.default.AdDurationChange?["adDuration"]:t===o.default.AdSkippableStateChange?["adSkippableState"]:t===o.default.AdExpandedChange?["adExpanded"]:t===o.default.AdRemainingTimeChange?["adRemainingTime"]:t===o.default.AdVolumeChange?["adVolume"]:t===o.default.AdSizeChange?["adWidth","adHeight"]:[]},h.decryptAdParameters=function(t){try{return JSON.parse(t)}catch(e){return t=t.replace(/@/g,"Y").replace(/#\^/g,"A").replace(/~!/g,"="),JSON.parse(atob(t))}},h.getErrorCodeCategory=function(t){for(var e in t=parseInt(t),r.ERROR_CODES_CATEGORIES)if(r.ERROR_CODES_CATEGORIES.hasOwnProperty(e)&&r.ERROR_CODES_CATEGORIES[e].indexOf(t)>-1)return e;return"invalid"},h.extractCustomParams=function(t,e){for(var n=0;n<10;n++)e.hasOwnProperty("param"+n)&&(t["param"+n]=e["param"+n])},h.getQueryParam=function(t,e){var n=t[r.QUERY_PARAMS[e]]||t[r.QUERY_PARAMS_SHORT[e]]||"";return 0===n.indexOf("[")&&n.indexOf("]")===n.length-1&&(n=""),n},h.canPlayWithFlash=function(t){return!(!t||!t.type)&&(t.type===r.MEDIA_FILES.X_FLV||t.type===r.MEDIA_FILES.FLV||t.type===r.MEDIA_FILES.X_MP4||t.type===r.MEDIA_FILES.MP4)},h.convertAdEventToVPAIDEvent=function(t,e){var n=void 0;switch(e.type){case t.ima.AdEvent.Type.LOADED:n=o.default.AdLoaded;break;case t.ima.AdEvent.Type.STARTED:n=o.default.AdStarted;break;case t.ima.AdEvent.Type.FIRST_QUARTILE:n=o.default.AdVideoFirstQuartile;break;case t.ima.AdEvent.Type.MIDPOINT:n=o.default.AdVideoMidpoint;break;case t.ima.AdEvent.Type.THIRD_QUARTILE:n=o.default.AdVideoThirdQuartile;break;case t.ima.AdEvent.Type.COMPLETE:n=o.default.AdVideoComplete;break;case t.ima.AdEvent.Type.VOLUME_CHANGED:n=o.default.AdVolumeChange;break;case t.ima.AdEvent.Type.PAUSED:n=o.default.AdPaused;break;case t.ima.AdEvent.Type.RESUMED:n=o.default.AdPlaying;break;case t.ima.AdEvent.Type.CLICK:n=o.default.AdClickThru;break;case t.ima.AdEvent.Type.DURATION_CHANGED:n=o.default.AdDurationChange;break;case t.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED:n=o.default.AdSkippableStateChange;break;case t.ima.AdEvent.Type.STOPPED:n=o.default.AdStopped;break;case t.ima.AdEvent.Type.SKIPPED:n=o.default.AdSkipped;break;case t.ima.AdEvent.Type.SIZE_CHANGED:n=o.default.AdSizeChange;break;case t.ima.AdEvent.Type.LOG:n=o.default.AdLog;break;case t.ima.AdEvent.Type.USER_ACCEPTED_INVITATION:n=o.default.AdUserAcceptInvitation;break;case t.ima.AdEvent.Type.USER_CLOSED:n=o.default.AdUserClose;break;case t.ima.AdEvent.Type.USER_MINIMIZED:n=o.default.AdUserMinimize;break;case t.ima.AdEvent.Type.EXPANDED_CHANGED:n=o.default.AdExpandedChange;break;case t.ima.AdEvent.Type.INTERACTION:n=o.default.AdInteraction;break;case t.ima.AdErrorEvent.Type.AD_ERROR:case t.ima.AdError.Type.AD_LOAD:case t.ima.AdError.Type.AD_PLAY:n=o.default.AdError}return n},h.chooseCompanion=function(t,e,n){var r=null;if(t){var i=e/n,o=null;t.filter(function(t){return t.staticResource}).forEach(function(t){var e=t.width/t.height,n=Math.pow(i-e,2);(!o||o>n)&&(o=n,r=t)})}return r},h.createEndCardDiv=function(){var t=document.createElement("div");return t.style.position="absolute",t.style.left=0,t.style.top=0,t.style.right=0,t.style.bottom=0,t.style.width="100%",t.style.height="100%",t.style.backgroundColor="black",t},h.createEndCardStaticResource=function(t){var e=document.createElement("img");return e.style.display="block",e.style.maxWidth="100%",e.style.maxHeight="100%",e.src=t,e},h.createEndCardLink=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=document.createElement("a");return n.href=t||"javascript:void(0)",n.target=e?"_blank":"",n.style.display="block",n.style.margin="auto",n.style.position="relative",n.style.top="50%",n.style.transform="translateY(-50%)",n},h.changeAttr=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(t){var i=!0;r&&(!1===n||""===n?"function"==typeof t.removeAttribute&&(t.removeAttribute(e),""===n&&(i=!1)):"function"==typeof t.setAttribute&&(!0===n?t.setAttribute(e,e):t.setAttribute(e,n))),i&&(t[e]=n)}},h.safeMediaMethod=function(t,e){var n=t[e]();return n&&n.catch&&n.catch(function(){}),n},e.default=h},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(22),o=(r=i)&&r.__esModule?r:{default:r};var a={},s=["#FFCDD2","#F48FB1","#E1BEE7","#E57373","#EA80FC","#B39DDB","#9FA8DA","#64B5F6","#B3E5FC","#4FC3F7","#80DEEA","#E0F7FA","#B2DFDB","#E0F2F1","#CFD8DC","#90A4AE","#FBE9E7","#EFEBE9","#EEEEEE","#E0E0E0","#FFCC80","#FFF9C4","#DCE775","#DCEDC8","#A5D6A7"],u=["#E53935","#880E4F","#7B1FA2","#9575CD","#7986CB","#283593","#2196F3","#1565C0","#039BE5","#0097A7","#009688","#43A047","#689F38","#757575","#424242","#A1887F","#78909C","#546E7A","#263238"],l=0===Math.floor(2*Math.random())?"#000000":"#FFFFFF",d="#000000"===l?s[Math.floor(Math.random()*s.length)]:u[Math.floor(Math.random()*u.length)],c=new o.default({target:"sam",color:l,bgColor:d});a.log=function(t){c.log(t)},a.setId=function(t){a.id=t},e.default=a,t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){if(window.location.href.indexOf("nomobile=1")>-1)return!1;if(window.location.href.indexOf("forcemobile=1")>-1)return!0;if(i&&"null"!==i)return!0;var t=r.os?r.os.name:"";if(o.indexOf(t.toLowerCase())>-1)return!0;var e=!1;return n=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(n)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(n.substr(0,4)))&&(e=!0),e;var n};var r=new(n(25))(window.navigator.userAgent).getResult(),i=r.device.type,o=["android","ios","windows phone","blackberry"];t.exports=e.default},function(t,e,n){"use strict";var r=n(29);t.exports=function(t){if(!r(t))throw new TypeError("Cannot use null or undefined");return t}},function(t,e,n){"use strict";t.exports=function(t){if("function"!=typeof t)throw new TypeError(t+" is not a function");return t}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){t&&(t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," "))},t.exports=e.default},function(t,e,n){(function(e){var r=n(53),i=e.env.SDK_DOMAIN||r.sdk,o=e.env.COLLECTOR_DOMAIN||r.collector,a=e.env.REMOTE_CONFIG1_DOMAIN||r.remoteConfig1,s=e.SSP_DOMAIN||r.ssp,u=e.FF_DOMAIN||r.ff,l=e.FFCDN_DOMAIN||r.ffcdn,d=e.EVENT_MANAGER_DOMAIN||r.eventManager;t.exports={sdk:i,collector:o,remoteConfig1:a,remoteConfig2:"api.vidiom.net",ssp:s,ff:u,ffcdn:l,eventManager:d}}).call(this,n(8))},function(t,e,n){"use strict";t.exports=n(167)()?Symbol:n(168)},function(t,e){function n(t,e,n){this.message=t||"VAST Error",this.vastResponse=n,e&&(this.code=e)}Object.defineProperty(e,"__esModule",{value:!0}),n.prototype=new Error,n.prototype.name="VAST Error",n.prototype.toString=function(){return this.message+" ("+this.code+")"},e.default=n;e.ERROR_PARSING_XML=n.ERROR_PARSING_XML=200,e.NO_AD_IN_VAST_TREE=n.NO_AD_IN_VAST_TREE=201,e.VAST_VERSION_NOT_SUPPORTED=n.VAST_VERSION_NOT_SUPPORTED=202,e.INLINE_AND_WRAPPER_IN_RESPONSE=n.INLINE_AND_WRAPPER_IN_RESPONSE=203,e.INLINE_AND_WRAPPER_NOT_IN_RESPONSE=n.INLINE_AND_WRAPPER_NOT_IN_RESPONSE=204,e.MISSING_CREATIVE_AND_VIDEO_IN_INLINE=n.MISSING_CREATIVE_AND_VIDEO_IN_INLINE=205,e.MISSING_CREATIVE_IN_INLINE=n.MISSING_CREATIVE_IN_INLINE=206,e.MISSING_VASTADTAGURI_IN_WRAPPER=n.MISSING_VASTADTAGURI_IN_WRAPPER=207,e.AD_TYPE_NOT_SUPPORTED=n.AD_TYPE_NOT_SUPPORTED=208,e.OFFSET_ATTRIBUTE_ERROR=n.OFFSET_ATTRIBUTE_ERROR=209,e.AD_SOURCE_REQUEST_TO=n.AD_SOURCE_REQUEST_TO=210,e.MISSING_AD_TAG_URL=n.MISSING_AD_TAG_URL=211,e.HTTP_ERROR=n.HTTP_ERROR=404},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return"string"==typeof t},t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return"IE"===r.browser.name&&r.browser.version<10};var r=new(n(25))(window.navigator.userAgent).getResult();t.exports=e.default},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n="",r=!1,i="general",o="#A0368E",a="#FFFFFF",s=function(){var t=!1;try{t=!!window.top.document}catch(e){t=!1}return t},u=s(),l=function(){return u&&s()},d=f();function c(t){var e=window[t];return void 0===e&&l()&&(e=window.top[t]),e}function f(t){var e=c("debugSrInternals");return e||(e=window.location.search&&(window.location.search.indexOf("forceConsole")>-1||window.location.search.indexOf("debugSrInternals")>-1)),!e&&l()&&(e=window.top.location.search&&(window.top.location.search.indexOf("forceConsole")>-1||window.top.location.search.indexOf("debugSrInternals")>-1)),e&&t&&(c("debugSrInternalsTargetsWhiteList")&&(e=-1!==c("debugSrInternalsTargetsWhiteList").indexOf(t)),e&&c("debugSrInternalsTargetsBlackList")&&(e=-1===c("debugSrInternalsTargetsBlackList").indexOf(t))),window.console&&!!e}function p(t){var e=c("debugSrInternals");return e&&(c("debugSrInternalsRegExpWhiteList")&&(e=c("debugSrInternalsRegExpWhiteList").some(function(e){return e.test(t)})),e&&c("debugSrInternalsRegExpBlackList")&&(e=c("debugSrInternalsRegExpBlackList").every(function(e){return!e.test(t)}))),e}function h(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:a;d&&f(e)&&p(t)&&window.console.log("%cSR::"+(n?n+"::":"")+e+":: "+t,"color: "+r+"; background: "+s)}function _(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:a;d&&f(e)&&p(t)&&window.console.debug("%cSR::"+(n?n+"::":"")+e+":: "+t,"color: "+r+"; background: "+s)}function v(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:a;d&&f(e)&&p(t)&&window.console.warn("%cSR::"+(n?n+"::":"")+e+":: "+t,"color: "+r+"; background: "+s)}function m(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:a;d&&f(e)&&p(t)&&window.console.error("%cSR::"+(n?n+"::":"")+e+":: "+t,"color: "+r+"; background: "+s)}function y(t){t&&!r&&(n=t,r=!0)}e.log=h,e.debug=_,e.warn=v,e.error=m,e.setGlobalTarget=y;var A=function(){function t(e){var n=e.target,r=e.color,i=e.bgColor,o=e.globalTarget;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._target=n,this._color=r,this._bgColor=i,y(o)}return t.prototype.debug=function(t){_(t,this._target,this._color,this._bgColor)},t.prototype.log=function(t){h(t,this._target,this._color,this._bgColor)},t.prototype.warn=function(t){v(t,this._target,this._color,this._bgColor)},t.prototype.error=function(t){m(t,this._target,this._color,this._bgColor)},t.setGlobalTarget=function(t){y(t)},t.isEnabled=function(){return f()},t}();e.default=A},function(t,e,n){"use strict";var r=n(57),i=n(98),o=n(163),a=n(58);(t.exports=function(t,e){var n,o,s,u,l;return arguments.length<2||"string"!=typeof t?(u=e,e=t,t=null):u=arguments[2],null==t?(n=s=!0,o=!1):(n=a.call(t,"c"),o=a.call(t,"e"),s=a.call(t,"w")),l={value:e,configurable:n,enumerable:o,writable:s},u?r(i(u),l):l}).gs=function(t,e,n){var s,u,l,d;return"string"!=typeof t?(l=n,n=e,e=t,t=null):l=arguments[3],null==e?e=void 0:o(e)?null==n?n=void 0:o(n)||(l=n,n=void 0):(l=e,e=n=void 0),null==t?(s=!0,u=!1):(s=a.call(t,"c"),u=a.call(t,"e")),d={get:e,set:n,configurable:s,enumerable:u},l?r(i(l),d):d}},function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty,i="~";function o(){}function a(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function s(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(i=!1)),s.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)r.call(t,e)&&n.push(i?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},s.prototype.listeners=function(t,e){var n=i?i+t:t,r=this._events[n];if(e)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var o=0,a=r.length,s=new Array(a);o<a;o++)s[o]=r[o].fn;return s},s.prototype.emit=function(t,e,n,r,o,a){var s=i?i+t:t;if(!this._events[s])return!1;var u,l,d=this._events[s],c=arguments.length;if(d.fn){switch(d.once&&this.removeListener(t,d.fn,void 0,!0),c){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,e),!0;case 3:return d.fn.call(d.context,e,n),!0;case 4:return d.fn.call(d.context,e,n,r),!0;case 5:return d.fn.call(d.context,e,n,r,o),!0;case 6:return d.fn.call(d.context,e,n,r,o,a),!0}for(l=1,u=new Array(c-1);l<c;l++)u[l-1]=arguments[l];d.fn.apply(d.context,u)}else{var f,p=d.length;for(l=0;l<p;l++)switch(d[l].once&&this.removeListener(t,d[l].fn,void 0,!0),c){case 1:d[l].fn.call(d[l].context);break;case 2:d[l].fn.call(d[l].context,e);break;case 3:d[l].fn.call(d[l].context,e,n);break;case 4:d[l].fn.call(d[l].context,e,n,r);break;default:if(!u)for(f=1,u=new Array(c-1);f<c;f++)u[f-1]=arguments[f];d[l].fn.apply(d[l].context,u)}}return!0},s.prototype.on=function(t,e,n){var r=new a(e,n||this),o=i?i+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],r]:this._events[o].push(r):(this._events[o]=r,this._eventsCount++),this},s.prototype.once=function(t,e,n){var r=new a(e,n||this,!0),o=i?i+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],r]:this._events[o].push(r):(this._events[o]=r,this._eventsCount++),this},s.prototype.removeListener=function(t,e,n,r){var a=i?i+t:t;if(!this._events[a])return this;if(!e)return 0==--this._eventsCount?this._events=new o:delete this._events[a],this;var s=this._events[a];if(s.fn)s.fn!==e||r&&!s.once||n&&s.context!==n||(0==--this._eventsCount?this._events=new o:delete this._events[a]);else{for(var u=0,l=[],d=s.length;u<d;u++)(s[u].fn!==e||r&&!s[u].once||n&&s[u].context!==n)&&l.push(s[u]);l.length?this._events[a]=1===l.length?l[0]:l:0==--this._eventsCount?this._events=new o:delete this._events[a]}return this},s.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&(0==--this._eventsCount?this._events=new o:delete this._events[e])):(this._events=new o,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prototype.setMaxListeners=function(){return this},s.prefixed=i,s.EventEmitter=s,t.exports=s},function(t,e,n){(function(t){var r,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(o,a){"use strict";var s="model",u="name",l="type",d="vendor",c="version",f="mobile",p="tablet",h={extend:function(t,e){for(var n in e)-1!=="browser cpu device engine os".indexOf(n)&&e[n].length%2==0&&(t[n]=e[n].concat(t[n]));return t},has:function(t,e){return"string"==typeof t&&-1!==e.toLowerCase().indexOf(t.toLowerCase())},lowerize:function(t){return t.toLowerCase()},major:function(t){return"string"===(void 0===t?"undefined":i(t))?t.split(".")[0]:void 0}},_={rgx:function(){for(var t,e,n,r,o,a,s,u=0,l=arguments;u<l.length&&!a;){var d=l[u],c=l[u+1];if("undefined"===(void 0===t?"undefined":i(t)))for(r in t={},c)"object"===(void 0===(o=c[r])?"undefined":i(o))?t[o[0]]=void 0:t[o]=void 0;for(e=n=0;e<d.length&&!a;)if(a=d[e++].exec(this.getUA()))for(r=0;r<c.length;r++)s=a[++n],"object"===(void 0===(o=c[r])?"undefined":i(o))&&o.length>0?2==o.length?"function"==i(o[1])?t[o[0]]=o[1].call(this,s):t[o[0]]=o[1]:3==o.length?"function"!==i(o[1])||o[1].exec&&o[1].test?t[o[0]]=s?s.replace(o[1],o[2]):void 0:t[o[0]]=s?o[1].call(this,s,o[2]):void 0:4==o.length&&(t[o[0]]=s?o[3].call(this,s.replace(o[1],o[2])):void 0):t[o]=s||void 0;u+=2}return t},str:function(t,e){for(var n in e)if("object"===i(e[n])&&e[n].length>0){for(var r=0;r<e[n].length;r++)if(h.has(e[n][r],t))return"?"===n?void 0:n}else if(h.has(e[n],t))return"?"===n?void 0:n;return t}},v={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},m={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[u,c],[/\s(opr)\/([\w\.]+)/i],[[u,"Opera"],c],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi)\/([\w\.-]+)/i],[u,c],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[u,"IE"],c],[/(edge)\/((\d+)?[\w\.]+)/i],[u,c],[/(yabrowser)\/([\w\.]+)/i],[[u,"Yandex"],c],[/(comodo_dragon)\/([\w\.]+)/i],[[u,/_/g," "],c],[/FBAV\/([\w\.]+);/i],[c,[u,"Facebook"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i,/(uc\s?browser|qqbrowser)[\/\s]?([\w\.]+)/i],[u,c],[/(dolfin)\/([\w\.]+)/i],[[u,"Dolphin"],c],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[u,"Chrome"],c],[/XiaoMi\/MiuiBrowser\/([\w\.]+)/i],[c,[u,"MIUI Browser"]],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)/i],[c,[u,"Android Browser"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[c,[u,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[c,u],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[u,[c,_.str,v.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[u,c],[/(navigator|netscape)\/([\w\.-]+)/i],[[u,"Netscape"],c],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[u,c]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",h.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",h.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[["architecture",h.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[s,d,[l,p]],[/applecoremedia\/[\w\.]+ \((ipad)/],[s,[d,"Apple"],[l,p]],[/(apple\s{0,1}tv)/i],[[s,"Apple TV"],[d,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[d,s,[l,p]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[s,[d,"Amazon"],[l,p]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[s,_.str,v.device.amazon.model],[d,"Amazon"],[l,f]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[s,d,[l,f]],[/\((ip[honed|\s\w*]+);/i],[s,[d,"Apple"],[l,f]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[d,s,[l,f]],[/\(bb10;\s(\w+)/i],[s,[d,"BlackBerry"],[l,f]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7)/i],[s,[d,"Asus"],[l,p]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[d,"Sony"],[s,"Xperia Tablet"],[l,p]],[/(?:sony)?(?:(?:(?:c|d)\d{4})|(?:so[-l].+))\sbuild\//i],[[d,"Sony"],[s,"Xperia Phone"],[l,f]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[d,s,[l,"console"]],[/android.+;\s(shield)\sbuild/i],[s,[d,"Nvidia"],[l,"console"]],[/(playstation\s[3portablevi]+)/i],[s,[d,"Sony"],[l,"console"]],[/(sprint\s(\w+))/i],[[d,_.str,v.device.sprint.vendor],[s,_.str,v.device.sprint.model],[l,f]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[d,s,[l,p]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[d,[s,/_/g," "],[l,f]],[/(nexus\s9)/i],[s,[d,"HTC"],[l,p]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[s,[d,"Microsoft"],[l,"console"]],[/(kin\.[onetw]{3})/i],[[s,/\./g," "],[d,"Microsoft"],[l,f]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i],[s,[d,"Motorola"],[l,f]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[s,[d,"Motorola"],[l,p]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n8000|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[d,"Samsung"],s,[l,p]],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-n900))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[d,"Samsung"],s,[l,f]],[/(samsung);smarttv/i],[d,s,[l,"smarttv"]],[/\(dtv[\);].+(aquos)/i],[s,[d,"Sharp"],[l,"smarttv"]],[/sie-(\w+)*/i],[s,[d,"Siemens"],[l,f]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[d,"Nokia"],s,[l,f]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[s,[d,"Acer"],[l,p]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[d,"LG"],s,[l,p]],[/(lg) netcast\.tv/i],[d,s,[l,"smarttv"]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i],[s,[d,"LG"],[l,f]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[s,[d,"Lenovo"],[l,p]],[/linux;.+((jolla));/i],[d,s,[l,f]],[/((pebble))app\/[\d\.]+\s/i],[d,s,[l,"wearable"]],[/android.+;\s(glass)\s\d/i],[s,[d,"Google"],[l,"wearable"]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus)?[\s_]*(?:\d\w)?)\s+build/i],[[s,/_/g," "],[d,"Xiaomi"],[l,f]],[/(mobile|tablet);.+rv\:.+gecko\//i],[[l,h.lowerize],d,s]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[c,[u,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[u,c],[/rv\:([\w\.]+).*(gecko)/i],[c,u]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[u,c],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*|windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[u,[c,_.str,v.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[u,"Windows"],[c,_.str,v.os.windows.version]],[/\((bb)(10);/i],[[u,"BlackBerry"],c],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[u,c],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[u,"Symbian"],c],[/\((series40);/i],[u],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[u,"Firefox OS"],c],[/(nintendo|playstation)\s([wids3portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[u,c],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[u,"Chromium OS"],c],[/(sunos)\s?([\w\.]+\d)*/i],[[u,"Solaris"],c],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[u,c],[/(ip[honead]+)(?:.*os\s*([\w]+)*\slike\smac|;\sopera)/i],[[u,"iOS"],[c,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[u,"Mac OS"],[c,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(haiku)\s(\w+)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[u,c]]},y=function t(e,n){if(!(this instanceof t))return new t(e,n).getResult();var r=e||(o&&o.navigator&&o.navigator.userAgent?o.navigator.userAgent:""),i=n?h.extend(m,n):m;return this.getBrowser=function(){var t=_.rgx.apply(this,i.browser);return t.major=h.major(t.version),t},this.getCPU=function(){return _.rgx.apply(this,i.cpu)},this.getDevice=function(){return _.rgx.apply(this,i.device)},this.getEngine=function(){return _.rgx.apply(this,i.engine)},this.getOS=function(){return _.rgx.apply(this,i.os)},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(t){return r=t,this},this.setUA(r),this};y.VERSION="0.7.8",y.BROWSER={NAME:u,MAJOR:"major",VERSION:c},y.CPU={ARCHITECTURE:"architecture"},y.DEVICE={MODEL:s,VENDOR:d,TYPE:l,CONSOLE:"console",MOBILE:f,SMARTTV:"smarttv",TABLET:p,WEARABLE:"wearable",EMBEDDED:"embedded"},y.ENGINE={NAME:u,VERSION:c},y.OS={NAME:u,VERSION:c},"undefined"!==i(e)?("undefined"!==i(t)&&t.exports&&(e=t.exports=y),e.UAParser=y):"function"===i(n(79))&&n(80)?void 0===(r=function(){return y}.call(e,n,e,t))||(t.exports=r):o.UAParser=y}("object"===("undefined"==typeof window?"undefined":i(window))?window:void 0)}).call(this,n(78)(t))},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if(!t)return t;var e=t;try{for(;e!==decodeURIComponent(e);)e=decodeURIComponent(e)}catch(t){}return e},t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new o.default(function(n,o,d){var c=(0,l.default)(t),f=(0,r.default)();f.open("GET",c,!0),(0,a.default)(f,e),f[(0,s.default)()?"onload":"onreadystatechange"]=(0,i.default)(f,c,n,o),f.onerror=function(){o(new u.default(f,c))},f.url=c,f.send(),d(function(){return f.abort()})})};var r=d(n(30)),i=d(n(54)),o=d(n(1)),a=d(n(55)),s=d(n(21)),u=d(n(31)),l=d(n(69));function d(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e){var n,r="SR_NS";n="undefined"!=typeof window?window:{},t.exports=function(t,e){var i,o,a;if(!(e=e||n))return!1;for(o=(i=(t=t?r+"."+t:r).split(".")).shift();o;)a=e[o]||{},e=e[o]=a,o=i.shift();return a}},function(t,e,n){"use strict";var r=n(94)();t.exports=function(t){return t!==r&&null!==t}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.XMLHttpRequestConstructor=void 0,e.default=s;var r,i=n(21),o=(r=i)&&r.__esModule?r:{default:r};var a=[function(){return new XMLHttpRequest},function(){return new window.ActiveXObject("Msxml2.XMLHTTP")},function(){return new window.ActiveXObject("Msxml3.XMLHTTP")},function(){return new window.ActiveXObject("Microsoft.XMLHTTP")}];function s(){var t=function(){for(var t=!1,e=0;e<a.length;e++){try{t=a[e]()}catch(t){continue}break}return t}();if((0,o.default)()||!t){if(!window.XDomainRequest)throw new Error("ERR_NO_XDOMAIN_REQUEST");(t=new window.XDomainRequest).onprogress=function(){}}return t}e.XMLHttpRequestConstructor=s().constructor},function(t,e){function n(t,e){var n="",r=window&&window.location&&window.location.href;t&&t.statusText?n=t.statusText:t&&t.status&&(n=t.status.toString()),this.message="XHRError: "+(n?n+", ":"")+"req: "+e+", current: "+r,this.xhr=t,t&&t.status&&(this.code=t.status,this.status=t.status)}Object.defineProperty(e,"__esModule",{value:!0}),n.prototype=new Error,n.prototype.name="XHRError",e.default=n,t.exports=e.default},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=void 0;t&&("string"==typeof t?e="#"===t[0]?document.getElementById(t.slice(1)):document.querySelector(t):t.tagName&&(e=t),e&&e.parentNode&&"function"==typeof e.parentNode.removeChild&&e.parentNode.removeChild(e));return e},t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.addMacrosToAdTag=function(t,e){if(t.url&&0===t.url.indexOf("<?xml"))return t;return t=function(t,e){var n=t.url;return e&&Object.keys(e).forEach(function(t){var r=e[t];""!==r&&null!==r&&void 0!==r&&(n=(0,u.default)(n,t,encodeURIComponent((0,o.default)(r))))}),t.url=n,t}(t,e.macros)},e.expandMacros=function(t){if(t.macros)for(var e=Object.keys(t.macros),n=0;n<e.length;n++){var r=e[n];t["macros_"+r]=t.macros[r]}return t},e.handleMacrosDimensions=function(t,e){var n=void 0;if(t.macros){var r=t.macros[e];r&&r!=="${"+e.toUpperCase()+"}"&&(n=parseInt(r),!isNaN(n)&&n>0&&(t[e]=n))}return t},e.injectPlaceholders=function(t,e){if(t.tags)for(var n=0;n<t.tags.length;n++)"string"==typeof t.tags[n]&&(t.tags[n]={url:t.tags[n]}),!1!==t.tags[n].macros&&(t.tags[n]=h(t.tags[n],e));else t.tag&&("string"==typeof t.tag&&(t.tag={url:t.tag}),!1!==t.tag.macros&&(t.tag=h(t.tag,e)))},e.getDomain=c,e.getDetectedDomain=f,e.getMacroValues=function(t){try{var e=O(t);return{subid:b(t),ddomain:f(),domain:c(e),page_url:e}}catch(t){return{}}},e.getMacro=S,e.getSubId=b,e.getIFA=T,e.getBundleId=I,e.getAppName=R,e.getPageUrl=O,e.getParameterByName=function(t,e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+e.toLowerCase()+"=([^&#]*)").exec(t&&t.toLowerCase());return null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))},e.injectAdServerVars=function(t,e){if(t.tags)for(var n=0;n<t.tags.length;n++)"string"==typeof t.tags[n]&&(t.tags[n]={url:t.tags[n]}),!1!==t.tags[n].macros&&(t.tags[n]=w(t.tags[n],e));else t.tag&&("string"==typeof t.tag&&(t.tag={url:t.tag}),!1!==t.tag.macros&&(t.tag=w(t.tag,e)))};var r=d(n(39)),i=d(n(82)),o=d(n(26)),a=d(n(34)),s=d(n(83)),u=d(n(84)),l=d(n(85));function d(t){return t&&t.__esModule?t:{default:t}}function c(t){return t?(0,s.default)((0,a.default)(t)):""}function f(){return(0,s.default)((0,a.default)((0,l.default)()))}function p(t,e,n,r){if(n||!r)for(var i=0;i<e.length;i++){var o=new RegExp(e[i].replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),"g");t.url=t.url.replace(o,encodeURIComponent(n))}}function h(t,e){if(t.url&&!(0,r.default)(t.url)){var n=O(e,t.url);p(t,["[CACHE_BUSTER]","[CB]","[cb]","$$cb$$"],parseInt(1e20*Math.random(),10)),p(t,["[CONTAINER_WIDTH]","[WIDTH]","[width]","[PLAYER_WIDTH]","$$width$$"],m(e)),p(t,["[CONTAINER_HEIGHT]","[HEIGHT]","[height]","[PLAYER_HEIGHT]","$$height$$"],y(e)),p(t,["[URL]","[PAGE_URL]","[PAGEURL]","[page_url]","[CONTENT_URL]","$$pageurl$$"],n),p(t,["[DOMAIN]","[SITE]"],c(n)),p(t,["[IP]","[CLIENT_IP]","$$ip$$","[USER_IP]"],function(t){return S(t,"ip")}(e),!0),p(t,["[VIDEO_TITLE]","[video_title]"],E(e)),p(t,["[VIDEO_ID]","[VID_ID]"],function(t){if(!t.currentContent)return;return t.currentContent.id||t.currentContent.title}(e)),p(t,["[VIDEO_FILE_URL]","[VIDEO_URL]"],g(e)),p(t,["[VIDEO_DURATION]"],function(t){if(!t.currentContent)return"";return t.currentContent.duration||30}(e)),p(t,["[VIDEO_DESCRIPTION]"],A(e)),p(t,["[AUTOPLAY]"],_(e)),p(t,["[MUTE]","[MUTED]"],v(e)),p(t,["[UA]","[DEV_UA]"],function(t){return S(t,"ua")||window.navigator.userAgent}(e),!0),p(t,["[USER_LAT]","[DEV_LONGITUDE]"],function(t){return S(t,"lon")||S(t,"user_lon")}(e),!0),p(t,["[USER_LON]","[DEV_LATITUDE]"],function(t){return S(t,"lat")||S(t,"user_lat")}(e),!0),p(t,["[SUB_ID]"],b(e)),p(t,["[IFA]","[UID]"],T(e)),p(t,["[APP_NAME]"],R(e)),p(t,["[BUNDLE_ID]"],I(e))}return t}function _(t){return t.autoplay?"1":"0"}function v(t){return t.muted?"1":"0"}function m(t){return t.width}function y(t){return t.height}function A(t){return t.currentContent?t.currentContent.description||t.currentContent.title:""}function E(t){return t.currentContent?t.currentContent.title||t.currentContent.description:""}function g(t){return t.currentContent?t.currentContent.url:""}function S(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=t&&t.macros;return r&&r[e]?r[e]:n}function b(t){return S(t,"subid",S(t,"sub_id"))}function T(t){return S(t,"ifa")}function I(t){return S(t,"bundleid")||S(t,"bundle_id")}function R(t){return S(t,"appname")||S(t,"app_name")}function O(t,e){var n=void 0;if(t.macros){var r=t.macros;n=P(r.pageUrl)||P(r.pageurl)||P(r.page_url)||P(r.site)||P(r.publisher)}return n&&!(0,i.default)(n)&&(n="http://"+n),n}function P(t){return t?(t=(0,o.default)(t),/^(?:([A-Za-z]+):)?(\/{0,3})[a-zA-Z0-9][a-zA-Z-0-9]*(\.[\w-]+)+([\w.,@?^=%&amp;:\/~+#-{}]*[\w@?^=%&amp;\/~+#-{}])??$/.test(t)?t:""):""}function w(t,e){var n;return t.url&&!(0,r.default)(t.url)&&((n=t.url)&&n.indexOf("liverail")>-1&&(t.url=C(t.url,"LR_URL",O,e),t.url=C(t.url,"LR_AUTOPLAY",_,e),t.url=C(t.url,"LR_MUTED",v,e),t.url=C(t.url,"LR_WIDTH",m,e),t.url=C(t.url,"LR_HEIGHT",y,e),t.url=C(t.url,"LR_TITLE",E,e),t.url=C(t.url,"LR_DESCRIPTION",A,e),t.url=C(t.url,"LR_VIDEO_URL",g,e)),function(t){return t&&t.indexOf("spotxchange")>-1}(t.url)&&(t.url=C(t.url,"vid_title",E,e),t.url=C(t.url,"vid_description",A,e),t.url=C(t.url,"vid_url",g,e)),function(t){return t&&t.indexOf("btrll.com")>-1}(t.url)&&(t.url=C(t.url,"br_w",m,e),t.url=C(t.url,"br_h",y,e),t.url=C(t.url,"br_pageurl",O,e),t.url=C(t.url,"br_conurl",g,e))),t}function C(t,e,n,r){if(t){var i=encodeURIComponent(n(r,t)),o=-1===t.indexOf("?")?"?":"&";return-1===t.indexOf(e)&&i&&"undefined"!==i&&(t=""+t+o+e+"="+i),t}}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=(0,o.default)(t);if(!e)return;-1===e.indexOf("://")&&(e="http://"+e);var n=document.createElement("a");return n.href=e,n.hostname};var r,i=n(26),o=(r=i)&&r.__esModule?r:{default:r};t.exports=e.default},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<e.length;i++){var a=e[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(t,e){var n={},r=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}},i=r(function(){return/msie [6-9]\b/.test(self.navigator.userAgent.toLowerCase())}),o=r(function(){return document.head||document.getElementsByTagName("head")[0]}),a=null,s=0,u=[];function l(t,e){for(var r=0;r<t.length;r++){var i=t[r],o=n[i.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](i.parts[a]);for(;a<i.parts.length;a++)o.parts.push(h(i.parts[a],e))}else{var s=[];for(a=0;a<i.parts.length;a++)s.push(h(i.parts[a],e));n[i.id]={id:i.id,refs:1,parts:s}}}}function d(t){for(var e=[],n={},r=0;r<t.length;r++){var i=t[r],o=i[0],a={css:i[1],media:i[2],sourceMap:i[3]};n[o]?n[o].parts.push(a):e.push(n[o]={id:o,parts:[a]})}return e}function c(t,e){var n=o(),r=u[u.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),u.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function f(t){t.parentNode.removeChild(t);var e=u.indexOf(t);e>=0&&u.splice(e,1)}function p(t){var e=document.createElement("style");return e.type="text/css",c(t,e),e}function h(t,e){var n,r,i;if(e.singleton){var o=s++;n=a||(a=p(e)),r=m.bind(null,n,o,!1),i=m.bind(null,n,o,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return e.rel="stylesheet",c(t,e),e}(e),r=function(t,e){var n=e.css,r=e.sourceMap;r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var i=new Blob([n],{type:"text/css"}),o=t.href;t.href=URL.createObjectURL(i),o&&URL.revokeObjectURL(o)}.bind(null,n),i=function(){f(n),n.href&&URL.revokeObjectURL(n.href)}):(n=p(e),r=function(t,e){var n=e.css,r=e.media;r&&t.setAttribute("media",r);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),i=function(){f(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");void 0===(e=e||{}).singleton&&(e.singleton=i()),void 0===e.insertAt&&(e.insertAt="bottom");var r=d(t);return l(r,e),function(t){for(var i=[],o=0;o<r.length;o++){var a=r[o];(s=n[a.id]).refs--,i.push(s)}t&&l(d(t),e);for(o=0;o<i.length;o++){var s;if(0===(s=i[o]).refs){for(var u=0;u<s.parts.length;u++)s.parts[u]();delete n[s.id]}}}};var _,v=(_=[],function(t,e){return _[t]=e,_.filter(Boolean).join("\n")});function m(t,e,n,r){var i=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=v(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}},function(t,e){var n,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"===("undefined"==typeof window?"undefined":r(window))&&(n=window)}t.exports=n},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.CONTROLS_OPTIONS=e.WATERFALL_TIMEOUT=e.WATERFALL_API=e.SSP_ENDPOINT_DOMAIN=e.SSP_PLAYER_REMOTE_CONFIG_API=e.PLAYER_REMOTE_CONFIG_API=e.STREAMRAIL_API=e.ARGS_MODE=void 0;var r,i=n(17),o=(r=i)&&r.__esModule?r:{default:r};e.ARGS_MODE={CONTAINERID_OPTIONS:"CONTAINERID_OPTIONS",CONTAINERID_REMOTECONFIG:"CONTAINERID_REMOTECONFIG",OPTIONS:"OPTIONS",REMOTECONFIG:"REMOTECONFIG",INVALID:"INVALID"};var a=e.STREAMRAIL_API="https://"+o.default.remoteConfig1;e.PLAYER_REMOTE_CONFIG_API=a+"/player",e.SSP_PLAYER_REMOTE_CONFIG_API="https://"+o.default.remoteConfig2,e.SSP_ENDPOINT_DOMAIN=o.default.ssp,e.WATERFALL_API=a+"/waterfall/",e.WATERFALL_TIMEOUT=2e3,e.CONTROLS_OPTIONS={ads:{show:!0,sound:!0,pause:!1,remainingTime:!1,progress:!1,fullscreen:!1},content:{show:!0,sound:!0,pause:!0,progress:!1,remainingTime:!1,fullscreen:!1}}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if(t&&0===t.indexOf("<?xml"))return!0;try{return(0,o.default)(t),!0}catch(t){return!1}};var r,i=n(81),o=(r=i)&&r.__esModule?r:{default:r};t.exports=e.default},function(t,e,n){"use strict";t.exports=function(){this.NewGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})}}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n,r){var i=document.createElement("iframe");return i.src=r||"about:blank",i.width=isNaN(e)?"100%":e+"px",i.height=isNaN(n)?"100%":n+"px",i.style.border="none",t&&i.setAttribute("id",t),i.setAttribute("SCROLLING","NO"),i},t.exports=e.default},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=t.contentWindow&&t.contentWindow.document;return!!n&&(n.open(),n.write(e),n.close(),!0)},t.exports=e.default},function(t,e,n){"use strict";t.exports=n(96)()?Object.setPrototypeOf:n(97)},function(t,e,n){"use strict";var r=Object.prototype.toString,i=r.call(function(){return arguments}());t.exports=function(t){return r.call(t)===i}},function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=Object.prototype.toString,o=i.call("");t.exports=function(t){return"string"==typeof t||t&&"object"===(void 0===t?"undefined":r(t))&&(t instanceof String||i.call(t)===o)||!1}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=(0,o.default)(t,e),r=[];try{n.forEach(function(t){var e=new Image;e.src=t,r.push(e)})}catch(t){}return r};var r,i=n(222),o=(r=i)&&r.__esModule?r:{default:r};t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(10)),i=o(n(235));function o(t){return t&&t.__esModule?t:{default:t}}e.default=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.clickThrough=(0,r.default)(e.clickThrough),this.clickTrackings=(0,i.default)(e.clickTracking),this.customClicks=(0,i.default)(e.customClick)},t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=[];void 0!==t&&(t=(0,r.default)(t)?t:[t]).forEach(function(t){if(t.uRL){var a=(0,r.default)(t.uRL)?t.uRL:[t.uRL];a.forEach(function(r){n.push(new i.default(r,e,t.attr("event")))})}else(0,o.default)(t)&&n.push(new i.default(t,e))});return n};var r=a(n(2)),i=a(n(238)),o=a(n(10));function a(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(t)return t["@"+(0,o.default)(e)];return};var r,i=n(116),o=(r=i)&&r.__esModule?r:{default:r};t.exports=e.default},function(t,e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(t){var e=void 0===t?"undefined":n(t);return!!t&&("object"==e||"function"==e)}},function(t,e,n){(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n={Promise:void 0,all:void 0,race:void 0,resolve:void 0,reject:void 0};if("true"===t.env.PREFER_NATIVE_PROMISE&&"function"==typeof window.Promise){var r=window.Promise;void 0===r.prototype.timeout&&(r.prototype.timeout=function(t,e){var n=this;return new r(function(r,i){var o=setTimeout(function(){e&&"string"!=typeof e||((e=new Error(e||"Timed out after "+t+" ms")).code="ETIMEDOUT"),i(e)},t);n.then(function(t){clearTimeout(o),r(t)},function(t){clearTimeout(o),i(t)})})},r.prototype.finally=function(t){return this.then(function(e){return r.resolve(t()).then(function(){return e})},function(e){return r.resolve(t()).then(function(){throw e})})}),n.Promise=r,n.all=r.all.bind(r),n.race=r.race.bind(r),n.resolve=r.resolve.bind(r),n.reject=r.reject.bind(r)}var i=e.Promise=n.Promise;e.all=n.all,e.race=n.race,e.resolve=n.resolve,e.reject=n.reject;e.default=i}).call(this,n(8))},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(74)),i=o(n(75));function o(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e))}var u=function(){},l=function t(e){e&&("function"!=typeof e._onFulfilled||e._onFulfilled._isFinally||(e._onFulfilled=u),"function"!=typeof e._onRejected||e._onRejected._isFinally||(e._onRejected=u),t(e[0]))},d=function(t){function e(n){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),"function"==typeof n&&3===n.length){var r=void 0,i=void 0,o=function(t){i=function(){t(),l(s),r(),r=i=null}};(s=a(this,t.call(this,function(t,e){r=e,n(t,e,o)})))._onCancel=i}else var s=a(this,t.call(this,n));return a(s)}return s(e,t),e.prototype.cancel=function(){"function"==typeof this._onCancel&&this._onCancel()},e.prototype.timeout=function(t,e){var n=e;return n&&"string"!=typeof n||((n=new Error(n||"Timed out after "+t+" ms")).code="ETIMEDOUT"),(0,i.default)(this,t,n)},e.prototype.finally=function(t){var e=function(e){return r.default.resolve(t()).then(function(){return e})},n=function(e){return r.default.resolve(t()).then(function(){throw e})};return e._isFinally=n._isFinally=!0,this.then(e,n)},e}(r.default);e.default=d,t.exports=e.default},function(t,e){t.exports={sdk:"sdk.streamrail.com",collector:"k.streamrail.com",remoteConfig1:"playa.streamrail.com",remoteConfig2:"rc.streamrail.net",ssp:"ssp.streamrail.net",ff:"ff.streamrail.net",ffcdn:"ffcdn.streamrail.net",eventManager:"events.streamrail.net",vast:"vast.streamrail.net"}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n,a){return function(){if((0,o.default)()||t.readyState===(r.XMLHttpRequestConstructor.DONE||4))if((0,o.default)()||t.status>=200&&t.status<400){var s=t.responseText;try{s=JSON.parse(s)}catch(e){s=t.responseText}n(s)}else a(new i.default(t,e))}};var r=n(30),i=a(n(31)),o=a(n(21));function a(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.headers,r=e.withCredentials;n&&Object.keys(n).forEach(function(e){void 0!==n[e]&&t.setRequestHeader(e,n[e])});r&&(t.withCredentials=!0)},t.exports=e.default},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(t||window.location.search).split(/&|\?/).filter(function(t){return!!t}).reduce(function(t,e){var n=e.split("="),r=void 0,i=void 0;return 1===n.length?(r=n[0],i=!0):2===n.length&&(r=n[0],i=n[1]),t[r]=i,t},{})||{}},t.exports=e.default},function(t,e,n){"use strict";t.exports=n(158)()?Object.assign:n(159)},function(t,e,n){"use strict";t.exports=n(164)()?String.prototype.contains:n(165)},function(t,e,n){"use strict";var r,i=n(93),o=n(57),a=n(15),s=n(14),u=n(23),l=n(175),d=n(18),c=Object.defineProperty,f=Object.defineProperties;t.exports=r=function(t,e){if(!(this instanceof r))throw new TypeError("Constructor requires 'new'");f(this,{__list__:u("w",s(t)),__context__:u("w",e),__nextIndex__:u("w",0)}),e&&(a(e.on),e.on("_add",this._onAdd),e.on("_delete",this._onDelete),e.on("_clear",this._onClear))},delete r.prototype.constructor,f(r.prototype,o({_next:u(function(){var t;if(this.__list__)return this.__redo__&&void 0!==(t=this.__redo__.shift())?t:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind()}),next:u(function(){return this._createResult(this._next())}),_createResult:u(function(t){return void 0===t?{done:!0,value:void 0}:{done:!1,value:this._resolve(t)}}),_resolve:u(function(t){return this.__list__[t]}),_unBind:u(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:u(function(){return"[object "+(this[d.toStringTag]||"Object")+"]"})},l({_onAdd:u(function(t){t>=this.__nextIndex__||(++this.__nextIndex__,this.__redo__?(this.__redo__.forEach(function(e,n){e>=t&&(this.__redo__[n]=++e)},this),this.__redo__.push(t)):c(this,"__redo__",u("c",[t])))}),_onDelete:u(function(t){var e;t>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(-1!==(e=this.__redo__.indexOf(t))&&this.__redo__.splice(e,1),this.__redo__.forEach(function(e,n){e>t&&(this.__redo__[n]=--e)},this)))}),_onClear:u(function(){this.__redo__&&i.call(this.__redo__),this.__nextIndex__=0})}))),c(r.prototype,d.iterator,u(function(){return this}))},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=window;try{for(;(0,r.default)(t)&&(0,i.default)(t);)t=t.parent}catch(e){return t}return t};var r=o(n(192)),i=o(n(193));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.injectMacros=function(t,e,n){var r=function(t){return encodeURIComponent(t.settings.pageurl||t.settings.dpageurl)}(n),s=function(t){return t.settings.domain||t.settings.ddomain}(n),c=function(t){return encodeURIComponent(t.settings.dpageurl)}(n),f=function(t){return t.settings.ddomain}(n),p=parseInt(1e20*Math.random(),10),h=function(t){return encodeURIComponent(t.settings.width||t.settings.dwidth)}(n),_=function(t){return encodeURIComponent(t.settings.height||t.settings.dheight)}(n),v=function(t){return l(t.queryParams,"USER_LONGITUDE")}(e),m=function(t){return l(t.queryParams,"USER_LATITUDE")}(e),y=function(t){return l(t.queryParams,"USER_IP")}(e),A=function(t){return l(t.queryParams,"USER_AGENT")}(e),E=function(t){return l(t.queryParams,"MUTE")}(e),g=encodeURIComponent(e.sessionId);t=u(t=u(t=u(t=u(t=u(t=u(t=u(t=u(t=u(t=u(t=u(t=u(t=u(t=u(t=u(t=u(t=u(t=u(t=u(t=u(t=u(t=u(t=u(t=u(t=u(t=u(t=u(t=u(t=u(t=u(t=u(t=u(t=u(t=u(t=u(t=u(t=u(t=u(t=u(t=u(t=u(t=u(t=u(t=u(t=u(t=u(t=u(t=u(t,"CACHE_BUSTER",p),"CB",p),"WIDTH",h),"CONTAINER_WIDTH",h),"PLAYER_WIDTH",h),"HEIGHT",_),"CONTAINER_HEIGHT",_),"PLAYER_HEIGHT",_),"VIDEO_DURATION",function(t){return l(t.queryParams,"CONTENT_DURATION")}(e)),"VIDEO_DESCRIPTION",function(t){return l(t.queryParams,"CONTENT_DESCRIPTION")}(e)),"VIDEO_TITLE",function(t){return l(t.queryParams,"CONTENT_TITLE")}(e)),"VIDEO_ID",d(e)),"VID_ID",d(e)),"VIDEO_FILE_URL",function(t){return l(t.queryParams,"CONTENT_URL")}(e)),"URL",r),"PAGEURL",r),"PAGE_URL",r),"CONTENT_URL",r),"DPAGE_URL",c),"DOMAIN",s),"DDOMAIN",f),"MUTE",E),"MUTED",E),"AUTOPLAY",function(t){return l(t.queryParams,"AUTOPLAY")}(e)),"DEV_UA",A),"UA",A),"DEV_LONGITUDE",v),"USER_LON",v),"USER_LAN",v),"LONGITUDE",v),"DEV_LATITUDE",m),"USER_LATITUDE",m),"USER_LAT",m),"LATITUDE",m),"CLIENT_IP",y),"IP",y),"USER_IP",y),"APP_NAME",function(t){return l(t.queryParams,"APP_NAME")}(e)),"BUNDLE_ID",function(t){if(t&&t.bundleId)return t.bundleId;return l(t.queryParams,"BUNDLE_ID")}(e)),"IFA",function(t){var e=l(t.queryParams,"IFA");return(0,a.default)(e)?e:""}(e)),"APP_STORE_URL",function(t){return l(t.queryParams,"APP_STORE_URL")}(e)),"APP_CATEGORY",function(t){return l(t.queryParams,"APP_CATEGORY")}(e)),"SUB_ID",function(t){return l(t.queryParams,"SUB_ID")}(e)),"DO_NOT_TRACK",function(t){return l(t.queryParams,"DO_NOT_TRACK")}(e)),"USER_CONSENT",function(t){return l(t.queryParams,"USER_CONSENT")}(e)),"GDPR",function(t){return l(t.queryParams,"GDPR")}(e)),"SR_SID",g),"IS_UID",function(t){return l(t.queryParams,"IS_UID")}(e));for(var S=0;S<10;S++)t=u(t,"param"+S,l(e.queryParams,"param"+S),!0);"1"===E&&(t=t.replace(/volume=100|volume=0*\d{1,2}/g,"volume=0"));(0,i.default)(t)&&(t=(0,o.default)(t,"sid",g));return t};var r=s(n(11)),i=s(n(206)),o=s(n(84)),a=s(n(207));function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3]?"gi":"g",i=new RegExp("\\["+e+"\\]",r),o=new RegExp("%5B"+e+"%5D",r);return t.replace(i,n).replace(o,encodeURIComponent(n))}function l(t,e){var n=r.default.getQueryParam(t,e)||t[e];return n?encodeURIComponent(n):""}function d(t){return l(t.queryParams,"CONTENT_ID")}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=a(n(24)),i=a(n(4)),o=a(n(12));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e))}var u=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return r._adType=n,r._resumeFromBreakpoint=null,r._disableBreakpoint=!1,r}return s(e,t),e.prototype.disableBreakpoint=function(){return this._disableBreakpoint=!0,!!this._resumeFromBreakpoint&&(this._resumeFromBreakpoint(),this._resumeFromBreakpoint=null,!0)},e.prototype.pauseOnBreakpoint=function(t,e){return this.shouldBreakOn(t)?(this._resumeFromBreakpoint=e,this.emit(i.default.AdBreakpoint,{type:t,adType:this._adType}),!0):(e(),!1)},e.prototype.resumeAd=function(){this.log("resumeAd"),this.disableBreakpoint()||this.techResume(function(){})},e.prototype.destroy=function(){this.log("destroy"),this.destroyed||(this.destroyed=!0,this._disableBreakpoint=!1,this._resumeFromBreakpoint=null)},e.prototype.log=function(t){o.default.log(this._adType.toUpperCase()+"Integrator "+t)},e.prototype.techResume=function(){},e.prototype.shouldBreakOn=function(t){var e=void 0;return!this._disableBreakpoint&&t&&this.settings&&this.settings.registry&&(e=this.settings.registry.getConfig()),!!e&&(e.breakpoint()===t&&(!e.breakpointFor()||e.breakpointFor()===this._adType))},e}(r.default);e.default=u,t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t/36e5;e=Math.floor(e);var n=t/6e4%60;n=Math.floor(n);var r=t/1e3%60;r=Math.floor(r);var i=t%1e3;return(0,o.default)(e,2)+":"+(0,o.default)(n,2)+":"+(0,o.default)(r,2)+"."+(0,o.default)(i,3)};var r,i=n(223),o=(r=i)&&r.__esModule?r:{default:r};t.exports=e.default},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return"number"==typeof t},t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,o.default)(t)&&0!==t.length};var r,i=n(20),o=(r=i)&&r.__esModule?r:{default:r};t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=void 0,n=void 0;(0,o.default)(t)&&(e=t.match(/(\d\d):(\d\d):(\d\d)(\.(\d\d\d))?/))&&(a=e[1],n=60*parseInt(a,10)*60*1e3+(i=e[2],60*parseInt(i,10)*1e3)+(r=e[3],1e3*parseInt(r,10))+parseInt(e[5]||0,10));var r;var i;var a;return isNaN(n)?null:n};var r,i=n(20),o=(r=i)&&r.__esModule?r:{default:r};t.exports=e.default},,function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){try{return(0,o.default)()?t.replace(/^(http|https):/,window.location.protocol):"https:"===window.location.protocol&&0===t.indexOf("http:")?t.replace("http","https"):t}catch(e){return t}};var r,i=n(21),o=(r=i)&&r.__esModule?r:{default:r};t.exports=e.default},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t="012345".split(""),e="#";e+=t[Math.round(5*Math.random())],t="0123456789ABCDEF".split("");for(var n=0;n<5;n++)e+=t[Math.round(15*Math.random())];return e},t.exports=e.default},function(t,e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(t){return!!t&&"object"==(void 0===t?"undefined":n(t))}},,,function(t,e,n){(function(e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(){"use strict";var r,i,o,a=null,s="object"===("undefined"==typeof window?"undefined":n(window)),u=s?window:e,l=u.process,d=Array,c=0,f=1,p=2,h="iterator",_="species",v="Symbol("+_+")",m="return",y="_uh",A="Invalid argument",E="Chaining cycle detected for promise",g="rejectionHandled",S="unhandledRejection",b={e:a},T=function(){},I=u.Symbol||{},R=s?function(t){u.Promise?new u.Promise(function(t){t()}).then(t):setTimeout(t)}:l.nextTick,O=function(t){var e;if(!w(this)||this._s!==r)throw x("Invalid this");if(this._s=p,t!==T){if(!C(t))throw x(A);(e=D(t)(H(this,f),H(this,c)))===b&&W(this,c,e.e)}};function P(){return I[_]||v}function w(t){return t&&"object"===(void 0===t?"undefined":n(t))}function C(t){return"function"==typeof t}function L(t,e,n){if(!e(t))throw x(n)}function N(){try{return i.apply(o,arguments)}catch(t){return b.e=t,b}}function D(t,e){return i=t,o=e,N}function M(t,e){var n=d(t),i=0;function o(){for(var o=0;o<i;)e(n[o],n[o+1]),n[o++]=r,n[o++]=r;i=0,n.length>t&&(n.length=t)}return function(t,e){n[i++]=t,n[i++]=e,2===i&&R(o)}}function k(t,e){var n,r,i,o,a=0;if(!t)throw x(A);var s=t[I[h]];if(C(s))r=s.call(t);else{if(!C(t.next)){if(t instanceof d){for(n=t.length;a<n;)e(t[a],a++);return a}throw x(A)}r=t}for(;!(i=r.next()).done;)if((o=D(e)(i.value,a++))===b)throw C(r[m])&&r[m](),o.e;return a}function x(t){return new TypeError(t)}O.default=O,function(t,e){for(var n in e)t.prototype[n]=e[n]}(O,{then:function(t,e){if(void 0===this._s)throw x();return function(t,e,n,r){C(n)&&(e._onFulfilled=n);C(r)&&(t[y]&&j(g,t),e._onRejected=r);t[t._pCount++]=e,t._s!==p&&V(t,e);return e}(this,F((n=O,(r=this.constructor)&&r[P()]||n)),t,e);var n,r},catch:function(t){return this.then(r,t)},finally:function(t){return this.then(function(e){return O.resolve(t()).then(function(){return e})},function(e){return O.resolve(t()).then(function(){throw e})})},_pCount:0,_pre:a,_Yaku:1}),O.resolve=function(t){return B(t)?t:G(F(this),t)},O.reject=function(t){return W(F(this),c,t)},O.race=function(t){var e=this,n=F(e),r=function(t){W(n,f,t)},i=function(t){W(n,c,t)},o=D(k)(t,function(t){e.resolve(t).then(r,i)});return o===b?e.reject(o.e):n},O.all=function(t){var e,n=this,r=F(n),i=[];function o(t){W(r,c,t)}return(e=D(k)(t,function(t,a){n.resolve(t).then(function(t){i[a]=t,--e||W(r,f,i)},o)}))===b?n.reject(e.e):(e||W(r,f,[]),r)},D(function(){Object.defineProperty(O,P(),{get:function(){return this}})})(),O._Yaku=1;var V=M(999,function(t,e){var n,i;(i=t._s?e._onFulfilled:e._onRejected)!==r?(n=D(Y)(i,t._v))!==b?G(e,n):W(e,c,n.e):W(e,t._s,t._v)}),U=M(9,function(t){(function t(e){if(e._umark)return!0;e._umark=!0;var n,r=0,i=e._pCount;for(;r<i;)if((n=e[r++])._onRejected||t(n))return!0})(t)||(t[y]=1,j(S,t))});function j(t,e){var n="on"+t.toLowerCase(),r=u[n];l&&l.listeners(t).length?t===S?l.emit(t,e._v,e):l.emit(t,e):r&&r({reason:e._v,promise:e})}function B(t){return t&&t._Yaku}function F(t){return B(t)?new t(T):(e=new t(function(t,i){if(e)throw x();n=t,r=i}),L(n,C),L(r,C),e);var e,n,r}function H(t,e){return function(n){e===f?G(t,n):W(t,e,n)}}function Y(t,e){return t(e)}function W(t,e,n){var r=0,i=t._pCount;if(t._s===p)for(t._s=e,t._v=n,e===c&&U(t);r<i;)V(t,t[r++]);return t}function G(t,e){if(e===t&&e)return W(t,c,x(E)),t;if(e!==a&&(C(e)||w(e))){var n=D(q)(e);if(n===b)return W(t,c,n.e),t;C(n)?B(e)?z(t,e,n):R(function(){z(t,e,n)}):W(t,f,e)}else W(t,f,e);return t}function q(t){return t.then}function z(t,e,n){var r=D(n,e)(function(n){e&&(e=a,G(t,n))},function(n){e&&(e=a,W(t,c,n))});r===b&&e&&(W(t,c,r.e),e=a)}try{t.exports=O}catch(t){u.Yaku=O}}()}).call(this,n(37))},function(t,e,n){var r=n(76);t.exports=function(t,e,n){return void 0===n&&(n=new Error("time out")),new r.Promise(function(i,o){setTimeout(o,e,n),r.Promise.resolve(t).then(i,o)})}},function(t,e,n){var r=n(77);t.exports={extendPrototype:function(t,e){for(var n in e)t.prototype[n]=e[n];return t},isFunction:function(t){return"function"==typeof t},isNumber:function(t){return"number"==typeof t},Promise:r,slice:[].slice}},function(t,e,n){(function(e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(){"use strict";var r,i,o,a=null,s="object"===("undefined"==typeof window?"undefined":n(window)),u=s?window:e,l=u.process,d=u.console,c=!1,f=Array,p=Error,h=1,_=2,v=3,m="Symbol",y="iterator",A="species",E=m+"("+A+")",g="return",S="_uh",b="_pt",T="_st",I="Invalid argument",R="\nFrom previous ",O="Chaining cycle detected for promise",P="rejectionHandled",w="unhandledRejection",C={e:a},L=function(){},N=/^.+\/node_modules\/yaku\/.+\n?/gm,D=function(t){var e;if(!k(this)||this._s!==r)throw Y("Invalid this");if(this._s=v,c&&(this[b]=W()),t!==L){if(!x(t))throw Y(I);(e=B(t)(Q(this,_),Q(this,h)))===C&&$(this,h,e.e)}};function M(){return D[m][A]||E}function k(t){return t&&"object"===(void 0===t?"undefined":n(t))}function x(t){return"function"==typeof t}function V(t,e){return t instanceof e}function U(t,e,n){if(!e(t))throw Y(n)}function j(){try{return i.apply(o,arguments)}catch(t){return C.e=t,C}}function B(t,e){return i=t,o=e,j}function F(t,e){var n=f(t),i=0;function o(){for(var o=0;o<i;)e(n[o],n[o+1]),n[o++]=r,n[o++]=r;i=0,n.length>t&&(n.length=t)}return function(t,e){n[i++]=t,n[i++]=e,2===i&&D.nextTick(o)}}function H(t,e){var n,r,i,o,a=0;if(!t)throw Y(I);var s=t[D[m][y]];if(x(s))r=s.call(t);else{if(!x(t.next)){if(V(t,f)){for(n=t.length;a<n;)e(t[a],a++);return a}throw Y(I)}r=t}for(;!(i=r.next()).done;)if((o=B(e)(i.value,a++))===C)throw x(r[g])&&r[g](),o.e;return a}function Y(t){return new TypeError(t)}function W(t){return(t?"":R)+(new p).stack}D.default=D,function(t,e){for(var n in e)t[n]=e[n]}(D.prototype,{then:function(t,e){if(void 0===this._s)throw Y();return function(t,e,n,r){x(n)&&(e._onFulfilled=n);x(r)&&(t[S]&&z(P,t),e._onRejected=r);c&&(e._p=t);t[t._c++]=e,t._s!==v&&G(t,e);return e}(this,X(D.speciesConstructor(this,D)),t,e)},catch:function(t){return this.then(r,t)},finally:function(t){return this.then(function(e){return D.resolve(t()).then(function(){return e})},function(e){return D.resolve(t()).then(function(){throw e})})},_c:0,_p:a}),D.resolve=function(t){return Z(t)?t:tt(X(this),t)},D.reject=function(t){return $(X(this),h,t)},D.race=function(t){var e=this,n=X(e),r=function(t){$(n,_,t)},i=function(t){$(n,h,t)},o=B(H)(t,function(t){e.resolve(t).then(r,i)});return o===C?e.reject(o.e):n},D.all=function(t){var e,n=this,r=X(n),i=[];function o(t){$(r,h,t)}return(e=B(H)(t,function(t,a){n.resolve(t).then(function(t){i[a]=t,--e||$(r,_,i)},o)}))===C?n.reject(e.e):(e||$(r,_,[]),r)},D.Symbol=u[m]||{},B(function(){Object.defineProperty(D,M(),{get:function(){return this}})})(),D.speciesConstructor=function(t,e){var n=t.constructor;return n&&n[M()]||e},D.unhandledRejection=function(t,e){d&&d.error("Uncaught (in promise)",c?e.longStack:J(t,e))},D.rejectionHandled=L,D.enableLongStackTrace=function(){c=!0},D.nextTick=s?function(t){u.Promise?new u.Promise(function(t){t()}).then(t):setTimeout(t)}:l.nextTick,D._s=1;var G=F(999,function(t,e){var n,i;(i=t._s!==h?e._onFulfilled:e._onRejected)!==r?(n=B(K)(i,t._v))!==C?tt(e,n):$(e,h,n.e):$(e,t._s,t._v)}),q=F(9,function(t){(function t(e){if(e._umark)return!0;e._umark=!0;var n,r=0,i=e._c;for(;r<i;)if((n=e[r++])._onRejected||t(n))return!0})(t)||(t[S]=1,z(w,t))});function z(t,e){var n="on"+t.toLowerCase(),r=u[n];l&&l.listeners(t).length?t===w?l.emit(t,e._v,e):l.emit(t,e):r?r({reason:e._v,promise:e}):D[t](e._v,e)}function Z(t){return t&&t._s}function X(t){return Z(t)?new t(L):(e=new t(function(t,i){if(e)throw Y();n=t,r=i}),U(n,x),U(r,x),e);var e,n,r}function Q(t,e){return function(n){c&&(t[T]=W(!0)),e===_?tt(t,n):$(t,e,n)}}function J(t,e){var n=[];function r(t){return n.push(t.replace(/^\s+|\s+$/g,""))}return c&&(e[T]&&r(e[T]),function t(e){e&&b in e&&(t(e._next),r(e[b]+""),t(e._p))}(e)),(t&&t.stack?t.stack:t)+("\n"+n.join("\n")).replace(N,"")}function K(t,e){return t(e)}function $(t,e,n){var r=0,i=t._c;if(t._s===v)for(t._s=e,t._v=n,e===h&&(c&&V(n,p)&&(n.longStack=J(n,t)),q(t));r<i;)G(t,t[r++]);return t}function tt(t,e){if(e===t&&e)return $(t,h,Y(O)),t;if(e!==a&&(x(e)||k(e))){var n=B(et)(e);if(n===C)return $(t,h,n.e),t;x(n)?(c&&Z(e)&&(t._next=e),Z(e)?nt(t,e,n):D.nextTick(function(){nt(t,e,n)})):$(t,_,e)}else $(t,_,e);return t}function et(t){return t.then}function nt(t,e,n){var r=B(n,e)(function(n){e&&(e=a,tt(t,n))},function(n){e&&(e=a,$(t,h,n))});r===C&&e&&($(t,h,r.e),e=a)}try{t.exports=D}catch(t){u.Yaku=D}}()}).call(this,n(37))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e){(function(e){t.exports=e}).call(this,{})},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e;if(!t||"string"!=typeof t)return null;try{"<"===(t=t.trim())[0]&&">"===t[t.length-1]&&(e=(new window.DOMParser).parseFromString(t,"application/xml"))}catch(t){e=void 0}if(!e||e.getElementsByTagName("parsererror").length)throw new Error("Invalid XML: "+t);return e},t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=(0,o.default)(t);if(!e)return"";var n=new RegExp("^(?:[a-z]+:)?//","i"),r=e.match(n);return r&&r.length?r[0]:""};var r,i=n(26),o=(r=i)&&r.__esModule?r:{default:r};t.exports=e.default},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return t&&0===t.indexOf("www.")?t.replace("www.",""):t},t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){if(!t||t.indexOf("?"+e+"=")>-1||"&"+e+"=">-1)return t;-1===t.indexOf("?")?t+="?":(0,o.default)(t,"&")||(0,o.default)(t,"?")||(t+="&");return t+=e+"="+n};var r,i=n(131),o=(r=i)&&r.__esModule?r:{default:r};t.exports=e.default},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){if(void 0!==location.ancestorOrigins&&location.ancestorOrigins.length>0){var t=location.ancestorOrigins,e=t[t.length-1];if(e&&"string"==typeof e&&(e=e.split("?")[0])&&"string"==typeof e&&e.length>0)return e}if(document.referrer)return document.referrer.split("?")[0];return window.location.href.split("?")[0]},t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(t).reduce(function(e,n){return e.push(n+"="+encodeURIComponent((0,o.default)(t[n]))),e},[]).join("&")};var r,i=n(26),o=(r=i)&&r.__esModule?r:{default:r};t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){streamlytics.info(t)};var r,i=n(88),o=(r=i)&&r.__esModule?r:{default:r};streamlytics=new o.default,t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(28)),i=o(n(136));function o(t){return t&&t.__esModule?t:{default:t}}var a=(0,r.default)();a&&(a.Streamlytics=i.default),e.default=i.default,t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new o.default(function(o,l){var d=(0,r.default)();d.open("POST",t,!0),(0,a.default)(d,n),d[(0,s.default)()?"onload":"onreadystatechange"]=(0,i.default)(d,t,o,l),d.onerror=function(){l(new u.default(d,t))},d.url=t,d.send(JSON.stringify(e))})};var r=l(n(30)),i=l(n(54)),o=l(n(1)),a=l(n(55)),s=l(n(21)),u=l(n(31));function l(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.arrayContains=function(t,e){return t&&t.indexOf(e)>-1},e.cloneObjectArray=function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n];e.push((0,r.default)(!0,{},i))}return e},e.constructAdsSchedule=function(t){var e={};t&&(0,i.default)(t)&&(e={"pre-roll":[],"mid-roll":[],"post-roll":[]},t.forEach(function(t){(function(t){if(!t.position)return!1;if("mid-roll"===t.position&&!t.startTime)return!1;return t.server&&(t.server.tag||t.server.tags)})(t)&&(t.server.tag&&(t.server.tags=[t.server.tag],t.server.tag=null,delete t.server.tag),t.server.tags&&(t.server.tags=t.server.tags.map(function(e){var n=void 0;return(n="string"==typeof e?{url:e}:e).position=t.position,n.isSRWaterfall=!!n.tc,n.isSRTag=n.url&&!n.isSRWaterfall&&function(t){var e=!1;try{var n=document.createElement("a");n.href=decodeURIComponent(t),e=n.hostname===a.SSP_ENDPOINT_DOMAIN}catch(n){e=t.indexOf("//"+a.SSP_ENDPOINT_DOMAIN)>-1}return e}(n.url),n.isXML=!!n.url&&(0,o.default)(n.url),n})),t.rotate=t.rotate?t.rotate-1:void 0,t.startTime=function(t){if(!t)return t;var e=t.split(":");return 60*+e[0]*60+60*+e[1]+ +e[2]}(t.startTime),e[t.position].push(t))}),e["mid-roll"]=function(t){if(!t)return t;return t.sort(function(t,e){if(t.startTime<e.startTime)return-1;if(t.startTime>e.startTime)return 1;return 0})}(e["mid-roll"]));return e};var r=s(n(0)),i=s(n(2)),o=s(n(39)),a=n(38);function s(t){return t&&t.__esModule?t:{default:t}}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return e(document.head)||e(document.body)||e(document);function e(e){var n="";return Array.prototype.forEach.call(e.querySelectorAll("script"),function(e){e.src&&e.src.indexOf(t)>-1&&(n=e.src)}),n}},t.exports=e.default},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=function(t,e){return Object.keys(e).forEach(function(r){var i="object"===(void 0===i?"undefined":n(i))?JSON.stringify(e[r]):e[r];t=t.replace(new RegExp("{{"+r+"}}","g"),i)}),t},t.exports=e.default},function(t,e,n){"use strict";var r=n(14);t.exports=function(){return r(this).length=0,this}},function(t,e,n){"use strict";t.exports=function(){}},function(t,e,n){"use strict";var r=n(152),i=Math.max;t.exports=function(t){return i(0,r(t))}},function(t,e,n){"use strict";var r=Object.create,i=Object.getPrototypeOf,o={};t.exports=function(){var t=Object.setPrototypeOf,e=arguments[0]||r;return"function"==typeof t&&i(t(e(null),o))===o}},function(t,e,n){"use strict";function r(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}return t}var i,o,a,s,u=n(156),l=n(14),d=Object.prototype.isPrototypeOf,c=Object.defineProperty,f={configurable:!0,enumerable:!1,writable:!0,value:void 0};i=function(t,e){if(l(t),null===e||u(e))return t;throw new TypeError("Prototype must be null or an object")},t.exports=(o=function(){var t,e=Object.create(null),n={},i=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(i){try{(t=i.set).call(e,n)}catch(t){}if(Object.getPrototypeOf(e)===n)return{set:t,level:2}}return r(e,n),Object.getPrototypeOf(e)===n?{level:2}:(r(e={},n),Object.getPrototypeOf(e)===n&&{level:1})}())?(2===o.level?o.set?(s=o.set,a=function(t,e){return s.call(i(t,e),e),t}):a=function(t,e){return r(i(t,e),e),t}:a=function t(e,n){var o;return i(e,n),(o=d.call(t.nullPolyfill,e))&&delete t.nullPolyfill.__proto__,null===n&&(n=t.nullPolyfill),r(e,n),o&&c(t.nullPolyfill,"__proto__",f),e},Object.defineProperty(a,"level",{configurable:!1,enumerable:!1,writable:!1,value:o.level})):null,n(157)},function(t,e,n){"use strict";var r=n(29),i=Array.prototype.forEach,o=Object.create;t.exports=function(t){var e=o(null);return i.call(arguments,function(t){r(t)&&function(t,e){var n;for(n in t)e[n]=t[n]}(Object(t),e)}),e}},function(t,e,n){"use strict";var r=n(171);t.exports=function(t){if(!r(t))throw new TypeError(t+" is not iterable");return t}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=l(n(24)),i=l(n(0)),o=n(7),a=n(9),s=l(n(194)),u=l(n(13));function l(t){return t&&t.__esModule?t:{default:t}}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e))}var c=function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return s.options=(0,i.default)(!0,{},n),s.state=(0,a.proxify)(r),s.apis=o,s.log=s.apis.privateAPI.log,s}return d(e,t),e.prototype.el=function(){return this.container},e.prototype.show=function(){this.container.style.zIndex=1,this.setState({visible:!0}),this.controlsBar&&(this.controlsBarConfig.canHideControlsBar=!1,this.controlsBarConfig.canHideControlsBarTimer=setTimeout(this._enableHideControlsBar.bind(this),o.MIN_TIME_SHOW_CONTROL_BAR),this.controlsBarConfig.firstSecondsTimer=setTimeout(this._hideControlsBar.bind(this),o.MIN_TIME_SHOW_CONTROL_BAR))},e.prototype.createLoader=function(){this.options.showLoader&&(this.loader=new s.default,this.container.appendChild(this.loader.el()))},e.prototype.hide=function(){this.container.style.zIndex=0,this.setState({visible:!1})},e.prototype._createVideoElement=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).doc||document,e=void 0;return t.defaultView.__SRVideo__?e=t.createElement("sr-video"):((e=t.createElement("video")).setAttribute("playsinline","playsinline"),e.setAttribute("webkit-playsinline","webkit-playsinline")),e.style.width=this.options.width+"px",e.style.height=this.options.height+"px",e.style.position="absolute",e.style.zIndex=0,e.muted=this.state.muted,e.muted&&e.setAttribute("muted","muted"),e.autoplay=this.options.autoplay,e},e.prototype.bindEvents=function(){var t=this;this.eventHandlers={},this.controlsBar&&Object.keys(o.CONTROL_BAR_EVENTS).forEach(function(e){t.eventHandlers[e]=t._onControlsBarClick.bind(t,e),t.controlsBar.on(e,t.eventHandlers[e])})},e.prototype.unbindEvents=function(){var t=this;this.controlsBar&&Object.keys(o.CONTROL_BAR_EVENTS).forEach(function(e){t.controlsBar.off(e,t.eventHandlers[e])})},e.prototype._onControlsBarClick=function(t,e){switch(t){case o.CONTROL_BAR_EVENTS.playControlClicked:this._onPlayControlClick();break;case o.CONTROL_BAR_EVENTS.pauseControlClicked:this._onPauseControlClick();break;case o.CONTROL_BAR_EVENTS.muteControlClick:this._onMuteControlClick();break;case o.CONTROL_BAR_EVENTS.unmuteControlClick:this._onUnmuteControlClick();break;case o.CONTROL_BAR_EVENTS.progressBarClick:this._onProgressBarClick(e)}this.apis.privateAPI.emit(t)},e.prototype._onProgressBarClick=function(){},e.prototype._onMuteControlClick=function(){this.apis.publicAPI.muted=!0},e.prototype._onUnmuteControlClick=function(){this.apis.publicAPI.muted=!1},e.prototype._onPlayControlClick=function(){this.apis.publicAPI.play()},e.prototype._onPauseControlClick=function(){this.apis.publicAPI.pause()},e.prototype._hideControlsBar=function(){this.controlsBar&&this.controlsBarConfig.canHideControlsBar&&!this.getState().paused&&(this.controlsBar.hide(),this.setState({controlsBarVisible:!1}))},e.prototype._showControlsBar=function(){this.controlsBar&&(this.controlsBar.show(),this.setState({controlsBarVisible:!0}))},e.prototype._onControlsBarOver=function(t){this._clearControlsBarHoverTimer(),this._clearControlsBarFirstSecondsTimer(),this._showControlsBar(),t.stopPropagation()},e.prototype._onControlsBarOut=function(t){this._startControlsBarHoverTimer(),t.stopPropagation()},e.prototype._onPlayerContainerOver=function(){this._showControlsBar(),this._startControlsBarHoverTimer()},e.prototype._startControlsBarHoverTimer=function(){this._clearControlsBarHoverTimer(),this.controlsBarConfig.hoverTimer=setInterval(this._hideControlsBar.bind(this),o.MIN_TIME_SHOW_CONTROL_BAR)},e.prototype._onPlayerContainerOut=function(){this._hideControlsBar()},e.prototype._clearControlsBarTimers=function(){this._clearCanHideControlsBarTimer(),this._clearControlsBarFirstSecondsTimer(),this._clearControlsBarHoverTimer()},e.prototype._clearControlsBarHoverTimer=function(){clearTimeout(this.controlsBarConfig.hoverTimer),this.controlsBarConfig.hoverTimer=null},e.prototype._clearControlsBarFirstSecondsTimer=function(){clearTimeout(this.controlsBarConfig.firstSecondsTimer),this.controlsBarConfig.firstSecondsTimer=null},e.prototype._clearCanHideControlsBarTimer=function(){clearTimeout(this.controlsBarConfig.canHideControlsBarTimer),this.controlsBarConfig.canHideControlsBarTimer=null},e.prototype._enableHideControlsBar=function(){this.controlsBarConfig.canHideControlsBar=!0},e.prototype.createControlsBar=function(){this.controlsBarConfig={firstSecondsTimer:null,hoverTimer:null,canHideControlsBarTimer:null,canHideControlsBar:!1},this.controlsBar.getContainer().addEventListener("mouseover",this._onControlsBarOver.bind(this)),this.controlsBar.getContainer().addEventListener("mouseout",this._onControlsBarOut.bind(this)),this.container.addEventListener("mouseover",this._onPlayerContainerOver.bind(this)),this.container.addEventListener("mouseout",this._onPlayerContainerOut.bind(this))},e.prototype.play=function(){this.controlsBar&&(0,u.default)()&&this._startControlsBarHoverTimer()},e.prototype.pause=function(){this.controlsBar&&this._showControlsBar(),this.loader&&this.loader.hide()},e.prototype.mute=function(){this.controlsBar&&this.controlsBar.onMute(),this.setState({muted:!0})},e.prototype.unmute=function(){this.controlsBar&&this.controlsBar.onUnmute(),this.setState({muted:!1})},e.prototype.setState=function(t){this.state=(0,i.default)(this.state,t),this.controlsBar&&this.controlsBar.setState((0,i.default)({},this.state))},e.prototype.getState=function(){return this.state},e.prototype.duration=function(){return void 0!==this.state.duration?this.state.duration:NaN},e.prototype.currentTime=function(){return void 0!==this.state.currentTime?this.state.currentTime:NaN},e.prototype.setCurrentTime=function(){},e.prototype.remainingTime=function(){return this.state.remainingTime},e.prototype.paused=function(){return this.state.paused},e.prototype.dispose=function(){this.controlsBar&&(this._clearControlsBarTimers(),this.controlsBar.getContainer().removeEventListener("mouseover",this._onControlsBarOver.bind(this)),this.controlsBar.getContainer().removeEventListener("mouseout",this._onControlsBarOut.bind(this)),this.container.removeEventListener("mouseover",this._onPlayerContainerOver.bind(this)),this.container.removeEventListener("mouseout",this._onPlayerContainerOut.bind(this))),this.disposed=!0,this.options=null,this.container.parentElement.removeChild(this.container),this.container=null,this.apis=null},e}(r.default);e.default=c,t.exports=e.default},function(t,e,n){(function(e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r="Expected a function",i=NaN,o="[object Symbol]",a=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,l=/^0o[0-7]+$/i,d=parseInt,c="object"==(void 0===e?"undefined":n(e))&&e&&e.Object===Object&&e,f="object"==("undefined"==typeof self?"undefined":n(self))&&self&&self.Object===Object&&self,p=c||f||Function("return this")(),h=Object.prototype.toString,_=Math.max,v=Math.min,m=function(){return p.Date.now()};function y(t){var e=void 0===t?"undefined":n(t);return!!t&&("object"==e||"function"==e)}function A(t){return"symbol"==(void 0===t?"undefined":n(t))||function(t){return!!t&&"object"==(void 0===t?"undefined":n(t))}(t)&&h.call(t)==o}function E(t){if("number"==typeof t)return t;if(A(t))return i;if(y(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=y(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(a,"");var n=u.test(t);return n||l.test(t)?d(t.slice(2),n?2:8):s.test(t)?i:+t}t.exports=function(t,e,n){var i,o,a,s,u,l,d=0,c=!1,f=!1,p=!0;if("function"!=typeof t)throw new TypeError(r);function h(e){var n=i,r=o;return i=o=void 0,d=e,s=t.apply(r,n)}function A(t){var n=t-l;return void 0===l||n>=e||n<0||f&&t-d>=a}function g(){var t=m();if(A(t))return S(t);u=setTimeout(g,function(t){var n=e-(t-l);return f?v(n,a-(t-d)):n}(t))}function S(t){return u=void 0,p&&i?h(t):(i=o=void 0,s)}function b(){var t=m(),n=A(t);if(i=arguments,o=this,l=t,n){if(void 0===u)return function(t){return d=t,u=setTimeout(g,e),c?h(t):s}(l);if(f)return u=setTimeout(g,e),h(l)}return void 0===u&&(u=setTimeout(g,e)),s}return e=E(e)||0,y(n)&&(c=!!n.leading,a=(f="maxWait"in n)?_(E(n.maxWait)||0,e):a,p="trailing"in n?!!n.trailing:p),b.cancel=function(){void 0!==u&&clearTimeout(u),d=0,i=l=o=u=void 0},b.flush=function(){return void 0===u?s:S(m())},b}}).call(this,n(37))},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=u(n(24)),i=u(n(0)),o=u(n(6)),a=u(n(16)),s=u(n(195));function u(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e))}var d=function(t){function e(n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return i.uiControls=new s.default,i.controls=n,i.state=r,i.controlsBar=i._render(),i}return l(e,t),e.prototype._render=function(){return this.controlsBar=document.createElement("div"),(0,o.default)(this.controlsBar,"sr-blade-control-bar"),this.controlsBarContainer=document.createElement("div"),(0,o.default)(this.controlsBarContainer,"sr-blade-control-bar-container"),this.state.controlsBarVisible||(0,o.default)(this.controlsBarContainer,"sr-blade-control-hidden"),this.uiControls.progressBarControl.renderProgressBar(this),this.uiControls.playPauseControl.renderPlayPauseControls(this),this.uiControls.remainingTimeControl.renderRemainingTimeControls(this),this.uiControls.muteControl.renderMuteControls(this),this.controlsBar.appendChild(this.controlsBarContainer),this.controlsBar},e.prototype.onAdRemainingTimeChange=function(t){this.uiControls.remainingTimeControl.onAdRemainingTimeChange(t)},e.prototype.onAdDurationChange=function(t){this.uiControls.remainingTimeControl.onAdDurationChange(t)},e.prototype.setState=function(t){this.uiControls.muteControl.setState(t),this.uiControls.playPauseControl.setState(t),this.uiControls.progressBarControl.setState(t),this.uiControls.remainingTimeControl.setState(t),void 0!==t.controlsBarVisible&&(t.controlsBarVisible?(0,a.default)(this.controlsBarContainer,"sr-blade-control-hidden"):(0,o.default)(this.controlsBarContainer,"sr-blade-control-hidden")),this.state=(0,i.default)(this.state,t)},e.prototype.getState=function(){return this.state},e.prototype.el=function(){return this.controlsBar},e.prototype.getContainer=function(){return this.controlsBarContainer},e.prototype.show=function(){this.getState().controlsBarVisible||((0,a.default)(this.controlsBar,"sr-blade-control-bar-no-gradient"),this.setState({controlsBarVisible:!0}))},e.prototype.hide=function(){this.getState().controlsBarVisible&&((0,o.default)(this.controlsBar,"sr-blade-control-bar-no-gradient"),this.setState({controlsBarVisible:!1}))},e.prototype.onMute=function(){this.uiControls.muteControl.setState({muted:!0})},e.prototype.onUnmute=function(){this.uiControls.muteControl.setState({muted:!1})},e.prototype.dispose=function(){this.uiControls.progressBarControl.dispose(),this.uiControls.playPauseControl.dispose(),this.uiControls.remainingTimeControl.dispose(),this.uiControls.muteControl.dispose()},e}(r.default);e.default=d,t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e="string"==typeof(t=t||{})?t:t.src,n=t.document||window.document;return new o.default(function(t,r){var i=n.createElement("script"),o=n.getElementsByTagName("script")[0];i.async=1,o.parentNode.insertBefore(i,o),i.onload=i.onreadystatechange=function(e,n){(n||!i.readyState||/loaded|complete/.test(i.readyState))&&(i.onload=i.onreadystatechange=null,i=void 0,n?r():t())},i.src=e})};var r,i=n(1),o=(r=i)&&r.__esModule?r:{default:r};t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};if(!(0,r.default)(t)){var n=new Error("First argument to waterfall must be an array of functions");return e(n)}if(!t.length)return e();!function t(n){return function(){for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];if(o&&o[0])e.apply(null,o),e=function(){};else{var s=Array.prototype.slice.call(o,1),u=n.next();u?s.push(t(u)):s.push(e),(0,i.default)(function(){n.apply(null,s)})}}}((0,o.default)(t))()};var r=a(n(2)),i=a(n(210)),o=a(n(211));function a(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,n){var r,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n(40),a=(r=o)&&r.__esModule?r:{default:r};function s(){}var u={};function l(t){var e=u[t.guid];e&&(clearTimeout(e),delete u[t.guid])}t.exports={noop:s,validate:function(t,e){return t?null:new Error(e)},clearCallbackTimeout:l,callbackTimeout:function(t,e,n){var r,i,o=(new a.default).NewGuid();return i=setTimeout(function(){e=s,delete u[r.guid],n()},t),(r=function(){e.apply(this,arguments)&&l(r)}).guid=o,u[o]=i,r},createElementInEl:function(t,e,n){var r=document.createElement(e);return n&&(r.id=n),t.appendChild(r),r},simpleTemplate:function(t,e){return Object.keys(e).forEach(function(n){var r="object"===(void 0===r?"undefined":i(r))?JSON.stringify(e[n]):e[n];t=t.replace(new RegExp("{{"+n+"}}","g"),r)}),t},unique:function(t){var e=-1;return function(){return t+"_"+ ++e}}}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=l(n(46)),i=l(n(64)),o=l(n(0)),a=l(n(2)),s=n(3),u=l(n(4));function l(t){return t&&t.__esModule?t:{default:t}}var d=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.assetURI=e,this.response=n}return t.prototype.trackURLs=function(t,e){(0,a.default)(t)&&t.length>0&&(e=(0,o.default)({ASSETURI:this.assetURI,CONTENTPLAYHEAD:(0,i.default)(this.progress)},e||{}),(0,r.default)(t,e))},t.prototype.trackEvent=function(t,e){if(t===u.default.AdImpression)this.trackURLs(this.response.impressions);else if(t===u.default.AdClickThru)this.trackURLs(this.response.clickTrackings);else if(t===u.default.AdError)this.trackURLs(this.response.errorURLMacros,{ERRORCODE:s.ERROR_CODES.DEFAULT});else{var n=s.VPAID_TO_VAST_EVENTS[t]||t;this.trackURLs(function(t){var e=void 0;t&&(e=[],t.forEach(function(t){e.push(t.uri)}));return e}(this.response.trackingEvents[n])),e&&(this.response.trackingEvents[t]=void 0)}},t}();e.default=d,t.exports=e.default},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return e=e||{},Object.keys(e).forEach(function(n){t=t.replace(new RegExp("\\["+n+"\\]","gm"),e[n])}),t},t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,o.default)(t)&&0===t.length};var r,i=n(20),o=(r=i)&&r.__esModule?r:{default:r};t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=l(n(47)),i=l(n(110)),o=l(n(111)),a=l(n(48)),s=l(n(10)),u=l(n(49));function l(t){return t&&t.__esModule?t:{default:t}}e.default=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.adSystem=(0,s.default)(e.adSystem),this.impressions=(0,i.default)(e.impression),this.VASTAdTagURI=(0,s.default)(e.vASTAdTagURI),this.creatives=(0,o.default)(e.creatives),this.trackingEvents=(0,a.default)(e.trackingEvents&&e.trackingEvents.tracking),e.videoClicks&&(this.videoClicks=new r.default(e.videoClicks)),this.error=(0,s.default)(e.error),this.extensions=e.extensions,this.followAdditionalWrappers=void 0===(0,u.default)(e,"followAdditionalWrappers")||(0,u.default)(e,"followAdditionalWrappers"),this.allowMultipleAds=(0,u.default)(e,"allowMultipleAds"),this.fallbackOnNoAd=(0,u.default)(e,"fallbackOnNoAd")},t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=[];t&&(t=t.uRL?(0,r.default)(t.uRL)?t.uRL:[t.uRL]:(0,r.default)(t)?t:[t],e=t.filter(function(t){return(0,i.default)(t.keyValue)}).map(function(t){return t.keyValue}));return e};var r=o(n(2)),i=o(n(66));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=[];void 0!==t&&void 0!==t.creative&&((0,r.default)(t.creative)?t.creative:[t.creative]).forEach(function(t){e.push(new i.default(t))});return e};var r=o(n(2)),i=o(n(236));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=c(n(47)),i=c(n(67)),o=c(n(113)),a=c(n(48)),s=c(n(115)),u=c(n(10)),l=c(n(49)),d=c(n(239));function c(t){return t&&t.__esModule?t:{default:t}}e.default=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.duration=(0,i.default)((0,u.default)(e.duration)),this.mediaFiles=(0,o.default)(e.mediaFiles&&e.mediaFiles.mediaFile),this.trackingEvents=(0,a.default)(e.trackingEvents&&e.trackingEvents.tracking,this.duration),this.skipoffset=(0,s.default)((0,l.default)(e,"skipoffset"),this.duration),e.videoClicks&&(this.videoClicks=new r.default(e.videoClicks)),e.adParameters&&(this.adParameters=(0,u.default)(e.adParameters),(0,l.default)(e.adParameters,"xmlEncoded")&&(this.adParameters=(0,d.default)(this.adParameters)))},t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=void 0;void 0!==t?(t=(0,r.default)(t)?t:[t],e=t.map(function(t){return new i.default(t)})):e=[];return e};var r=o(n(2)),i=o(n(237));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});e.FLASH="flash",e.JS="js",e.BOTH="both",e.NONE="none"},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(function(t){return/^\d+(\.\d+)?%$/g.test(t)}(t))return function(t,e){if(e)return n=e,r=parseFloat(t.replace("%","")),n*r/100;var n,r;return null}(t,e);return(0,o.default)(t)};var r,i=n(67),o=(r=i)&&r.__esModule?r:{default:r};t.exports=e.default},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return t.charAt(0).toLowerCase()+t.slice(1)},t.exports=e.default},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return!!t&&!!t.match(/^[-a-zA-Z0-9@:%_\+.~#?&//=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&//=]*)?/gi)},t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(119)),i=o(n(109));function o(t){return t&&t.__esModule?t:{default:t}}e.default=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=e.attr("id"),this.sequence=e.attr("sequence"),e.inLine&&(this.inLine=new r.default(e.inLine)),e.wrapper&&(this.wrapper=new i.default(e.wrapper))},t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=l(n(241)),i=l(n(110)),o=l(n(111)),a=l(n(242)),s=l(n(48)),u=l(n(10));function l(t){return t&&t.__esModule?t:{default:t}}e.default=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.adTitle=(0,u.default)(e.adTitle),this.adSystem=(0,u.default)(e.adSystem),this.impressions=(0,i.default)(e.impression),e.creatives?this.creatives=(0,o.default)(e.creatives):e.video&&(this.video=new r.default(e.video),this.trackingEvents=(0,s.default)(e.trackingEvents&&e.trackingEvents.tracking,this.video.duration)),this.description=(0,u.default)(e.description),this.advertiser=(0,u.default)(e.advertiser),this.surveys=(0,a.default)(e.survey),this.error=(0,u.default)(e.error),this.pricing=(0,u.default)(e.pricing),this.extensions=e.extensions},t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(244)),i=o(n(116));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e.documentElement)return new t(e.documentElement);if(e.hasChildNodes()){for(var n,o,a,s="",u=0;u<e.childNodes.length;u++)3==((n=e.childNodes.item(u)).nodeType-1|1)?s+=3===n.nodeType?n.nodeValue.trim():n.nodeValue:1!==n.nodeType||n.prefix||(o=(0,i.default)(n.nodeName),a=new t(n),this.hasOwnProperty(o)?(this[o].constructor!==Array&&(this[o]=[this[o]]),this[o].push(a)):this[o]=a);s&&(this.keyValue=(0,r.default)(s))}if(void 0===e.hasAttributes?e.attributes.length>0:e.hasAttributes())for(var l=void 0,d=0;d<e.attributes.length;d++)l=e.attributes.item(d),this["@"+(0,i.default)(l.name)]=(0,r.default)(l.value.trim());return this}return t.prototype.attr=function(t){return this["@"+(0,i.default)(t)]},t}();e.default=a,t.exports=e.default},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=document.createDocumentFragment();return e.appendChild(document.createElement("div")),e.childNodes[0].innerHTML=t.trim(),e.childNodes[0].childNodes[0]},t.exports=e.default},,,function(t,e,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,a,s=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),u=1;u<arguments.length;u++){for(var l in n=Object(arguments[u]))i.call(n,l)&&(s[l]=n[l]);if(r){a=r(n);for(var d=0;d<a.length;d++)o.call(n,a[d])&&(s[a[d]]=n[a[d]])}}return s}},function(t,e,n){var r=n(50),i=n(275),o="Expected a function",a=Math.max;t.exports=function(t,e,n){var s,u,l,d,c,f,p,h=0,_=!1,v=!0;if("function"!=typeof t)throw new TypeError(o);if(e=e<0?0:+e||0,!0===n){var m=!0;v=!1}else r(n)&&(m=!!n.leading,_="maxWait"in n&&a(+n.maxWait||0,e),v="trailing"in n?!!n.trailing:v);function y(e,n){n&&clearTimeout(n),u=f=p=void 0,e&&(h=i(),l=t.apply(c,s),f||u||(s=c=void 0))}function A(){var t=e-(i()-d);t<=0||t>e?y(p,u):f=setTimeout(A,t)}function E(){y(v,f)}function g(){if(s=arguments,d=i(),c=this,p=v&&(f||!m),!1===_)var n=m&&!f;else{u||m||(h=d);var r=_-(d-h),o=r<=0||r>_;o?(u&&(u=clearTimeout(u)),h=d,l=t.apply(c,s)):u||(u=setTimeout(E,r))}return o&&f?f=clearTimeout(f):f||e===_||(f=setTimeout(A,e)),n&&(o=!0,l=t.apply(c,s)),!o||f||u||(s=c=void 0),l}return g.cancel=function(){f&&clearTimeout(f),u&&clearTimeout(u),h=0,u=f=p=void 0},g}},function(t,e,n){var r=n(276);t.exports=function(t,e){var n=null==t?void 0:t[e];return r(n)?n:void 0}},function(t,e,n){(function(r){Object.defineProperty(e,"__esModule",{value:!0});var i=u(n(1)),o=u(n(128)),a=n(9),s=n(22);function u(t){return t&&t.__esModule?t:{default:t}}e.default=function(t){var e=t.createPlayer,n=t.scriptNamePrefix,u=function(t){return t.playerVersion=r.env.PLAYER_VERSION,t.scriptNamePrefix=n,t.iframe?(t.iframe=!1,(0,a.createPlayerInIframe)(n,t)):e(t).publicAPI};return function(){var t=void 0;try{var e=o.default.apply(void 0,arguments);t=e.then?e.then(u):i.default.resolve(u(e))}catch(t){(0,s.error)("\n\t\t\t\t"+t.message+"\n\t\t\t\t"+t.stack+"\n\t\t\t")}return t}},t.exports=e.default}).call(this,n(8))},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.setupAdsSchedule=e.load=void 0;var r=o(n(129)),i=o(n(139));function o(t){return t&&t.__esModule?t:{default:t}}e.default=r.default;e.load=r.default,e.setupAdsSchedule=i.default},function(t,e,n){(function(r){Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.default=function(){for(var t={},e={},n="",s=!0,l=arguments.length,d=Array(l),f=0;f<l;f++)d[f]=arguments[f];var p=function(t){var e=o(t,2),n=e[0],r=e[1],s=t.length,u=a.ARGS_MODE.INVALID;1===s?n&&(u="string"==typeof n.playerId||"string"==typeof n.srPlayerId?a.ARGS_MODE.REMOTECONFIG:a.ARGS_MODE.OPTIONS):2===s&&("string"==typeof n&&"object"===(void 0===r?"undefined":i(r))?u="string"==typeof r.playerId||"string"==typeof r.srPlayerId?a.ARGS_MODE.CONTAINERID_REMOTECONFIG:a.ARGS_MODE.CONTAINERID_OPTIONS:"object"===(void 0===n?"undefined":i(n))&&"object"===(void 0===r?"undefined":i(r))&&(u=a.ARGS_MODE.COMPLEX_CONTAINER));return u}(d),_=(new y.default).NewGuid();switch(p){case a.ARGS_MODE.CONTAINERID_OPTIONS:n=d[0],t=d[1],n=n||t.containerID;break;case a.ARGS_MODE.CONTAINERID_REMOTECONFIG:n=d[0],t=d[1],n=n||t.containerID,s=!1;break;case a.ARGS_MODE.OPTIONS:t=d[0],n=t.containerID;break;case a.ARGS_MODE.REMOTECONFIG:t=d[0],n=t.containerID,s=!1;break;case a.ARGS_MODE.COMPLEX_CONTAINER:e=d[0],t=d[1];break;default:throw new Error("SR invalid arguments. Check yourself at https://developers.streamrail.com/ref_init.html")}var A=r.env.SCRIPT_NAME||"sr.ads",E=(0,m.default)(A);if(t.pv=E?(0,v.default)(E).pv:"",t.playerId=t.playerId||t.srPlayerId,t.containerOptions=e,t.containerID=n,t.sessionID=_,t.iframe)return t;var S=null;S=s?g(t):(0,c.default)(t).then(function(e){var n=g((0,h.default)(!0,{isRemoteConfig:!0},t,e));return(0,u.default)(n)});return S};var a=n(38),s=n(130),u=E(s),l=n(33),d=E(n(132)),c=E(n(133)),f=n(90),p=E(n(13)),h=E(n(0)),_=E(n(138)),v=E(n(56)),m=E(n(91)),y=E(n(40)),A=E(n(2));function E(t){return t&&t.__esModule?t:{default:t}}function g(t){var e=(0,h.default)(!0,{},t);e.partnerID=e.apiKey||e.partnerID||"",void 0!==e.mute&&void 0===e.muted&&(e.muted=e.mute),!1!==e.muted&&(e.muted=!0),e.ads&&e.ads.repeatOnAdError&&!1!==e.loop&&(e.loop=!0),e.ga=!1,e.externalAnalyticsID=e.analyticsID,e.breakingAds&&e.breakingAds.enabled&&(e.loop=void 0===e.loop||e.loop,e.dontRepeatOnAdError=!1,e.breakingAds.on=e.breakingAds.on||"AdImpression"),e.muteOptions&&"boolean"==typeof e.muteOptions.muted&&void 0===e.muted?e.muted=e.muteOptions.muted:"boolean"==typeof e.muted&&(e.muteOptions=e.muteOptions||{},e.muteOptions.muted=e.muted),(0,d.default)(e),function(t){if(t.content&&"image"===t.content.type)t.banner={url:t.content.url,linkUrl:t.content.linkUrl},delete t.content;else{var e=t.content,n=t.playlist;t.content=[],n&&n.length?t.content=n:(0,A.default)(e)&&e.length?t.content=e:e&&(t.content=[e]),t.content.forEach(function(t){t.cb&&t.url&&(t.url+="?"+Math.random())}),t.contentLoopCount&&t.content.length>1&&(t.contentLoopCount=t.contentLoopCount*t.content.length)}delete t.playlist}(e=(0,l.expandMacros)(e)),void 0===e.forceFlashMute&&(e.forceFlashMute=!0),e.srDebugFlash=e.srDebugFlash||!1,e.showReplayButton=e.showReplayButton&&!e.loop;var n=document.getElementById(e.containerID)||{offsetWidth:0,offsetHeight:0},i=document.querySelector("."+e.containerClassName)||{offsetWidth:0,offsetHeight:0};e=(0,l.handleMacrosDimensions)(e,"height"),(e=(0,l.handleMacrosDimensions)(e,"width")).width="${WIDTH}"===e.width?300:e.width,e.height="${HEIGHT}"===e.height?250:e.height,e.width=e.width||n.offsetWidth||i.offsetWidth||300,e.height=e.height||n.offsetHeight||i.offsetHeight||250;var o=e.partnerID||e.apiKey;return void 0===e.detachedSprites&&(e.detachedSprites=!("true"===r.env.MULTIPLAYA_BUNDLE)&&(0,f.arrayContains)(_.default.dswl,o)),function(t){S(t,"controls"),t.controls=(0,h.default)(!0,{},function(t){var e=a.CONTROLS_OPTIONS,n=(0,p.default)();return e.content.fullscreen=e.ads.fullscreen=!n||!0===t.showMobileFullScreenButton,e}(t),t.controls||{}),t.controls.all&&(Object.keys(t.controls.ads).forEach(function(e){return t.controls.ads[e]=!0}),Object.keys(t.controls.content).forEach(function(e){return t.controls.content[e]=!0}),t.showLoader=!0);(t.breakingAds&&t.breakingAds.hideContentControls||t.hideContentControls)&&(t.controls.content.show=!1)}(e),(0,s.handleAdRequestsPerLoop)(e),function(t){S(t,"plugins")}(e),e}function S(t,e){if("string"==typeof t[e]&&t[e].length)try{t[e]=JSON.parse(t[e])}catch(n){t[e]={}}return t}t.exports=e.default}).call(this,n(8))},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.handleAdRequestsPerLoop=d,e.default=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.waterfall?("function"==typeof e.beforeWaterfallRequest&&e.beforeWaterfallRequest(),t=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=[];e.push(function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={};return e.c&&(n.country=atob(e.c),n.os=l.os.name,n.browser=l.browser.name,n.domain=(0,a.getDomain)(e),n.area=e.width&&e.height?parseInt(e.width,10)*parseInt(e.height,10):0,t={name:"p",value:btoa(JSON.stringify(n).toLowerCase())}),t}(t)),(e=e.filter(function(t){return!!t}).map(function(t){return t.name+"="+t.value}).join("&"))&&(e="?"+e);return e}(t),n=""+o.WATERFALL_API+t.waterfall+e;return(0,s.default)(n)}(e).timeout(o.WATERFALL_TIMEOUT).then(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];t.afterWaterfallResponse&&t.afterWaterfallResponse();e&&e.length&&(t.ads=t.ads||{},t.ads.schedule=[],t.ads.schedule.push({position:"pre-roll",server:{tags:e}}));return d(t),t}.bind(null,e)).catch(function(){return e})):t=(0,r.resolve)(e);return t};var r=n(1),i=u(n(25)),o=n(38),a=n(33),s=u(n(27));function u(t){return t&&t.__esModule?t:{default:t}}var l=new i.default(window.navigator.userAgent).getResult();function d(t){return t.adRequestsPerLoop&&t.ads&&t.ads.schedule&&t.ads.schedule[0]&&(t.breakingAds&&t.breakingAds.enabled?t.breakingAds.adRequestsPerLoop=t.adRequestsPerLoop:t.ads.schedule.forEach(function(e){e.rotate=t.adRequestsPerLoop}),t.dontRepeatOnAdError=!0),delete t.adRequestsPerLoop,t}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return String.prototype.endsWith?t.endsWith(e):-1!==t.indexOf(e,t.length-e.length)},t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){t&&t.ads&&t.ads.schedule&&(t.schedule=t.ads.schedule.map(function(e){var n=e;if(n.server)if(n.server.tag)"string"==typeof n.server.tag&&(n.server.tag={url:n.server.tag}),n.server.tag=s(t,n.server.tag);else{var r=s.bind(null,t);n.server.tags&&n.server.tags.length&&(n.server.tags=n.server.tags.map(function(t){return(0,a.default)(t)?t.map(r):r(t)}))}return n}));return t},e.normalizeTag=s;var r,i=n(33),o=n(2),a=(r=o)&&r.__esModule?r:{default:r};function s(t,e){var n=e;return n&&n.tc&&(n={tc:e.tc,url:"",adParams:e.v,mediaFiles:e.s}),n&&n.url?n=(0,i.addMacrosToAdTag)(n,t):"string"==typeof n&&(n=(0,i.addMacrosToAdTag)({url:n},t)),n}},function(t,e,n){(function(r){Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=function(t){var e=l.PLAYER_REMOTE_CONFIG_API+"/"+t.playerId,n=void 0;t.version&&t.apiKey&&(n=(0,c.default)((f=t.containerID,p=f&&document.getElementById(f)||document.body,{aw:(h=(0,s.default)(p)).width,ah:h.height}),t.macros||{},(0,d.getMacroValues)(t),{sid:t.sessionID,player_ver:r.env.PLAYER_VERSION,pv:t.pv,sr_format:"js"}),t.tcId&&(n.tcId=t.tcId),e=(t.rce?t.rce:l.SSP_PLAYER_REMOTE_CONFIG_API)+"/player/"+t.apiKey+"/"+t.playerId+"?"+(0,a.default)(n));var f,p,h;return(0,o.default)(e).then(function(e){var r=(0,c.default)({containerID:t.containerID,macros:t.macros},e);if(t.overrideRemoteConfig){var o=(0,c.default)(!0,{},t);delete o.playerId,delete o.apiKey,delete o.version,delete o.overrideRemoteConfig,delete o.macros,(0,c.default)(r,o),t.adaptive&&(r.width=n.aw,r.height=n.ah)}return Object.keys(r).forEach(function(t){r[t]&&("object"===i(r[t])&&0===Object.keys(r[t]).length||"{}"===r[t])&&(r[t]=null,delete r[t])}),r}).catch(function(e){throw n&&(delete(n=(0,c.default)(n,{component:"adsmanager",org:t.apiKey,playerid:t.playerId,error:e.message,action:"perr",code:701,category:"player-error"})).aw,delete n.ah,(0,u.default)(n)),e})};var o=f(n(27)),a=f(n(86)),s=f(n(134)),u=f(n(87)),l=n(38),d=n(33),c=f(n(0));function f(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default}).call(this,n(8))},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;var i=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,r={width:0,height:0,forceZeroWidth:0===e,forceZeroHeight:0===n};if(!t||"function"!=typeof t.getBoundingClientRect)return r;var i=t.getBoundingClientRect(),s=window.getComputedStyle(t);r.width=(0,o.default)(i.width,2),r.height=(0,o.default)(i.height,2);var u=!0,l=!0,d=a(t,s,"paddingTop"),c=a(t,s,"paddingRight"),f=a(t,s,"paddingBottom"),p=a(t,s,"paddingLeft"),h=Math.min(e,a(t,s,"maxWidth")||1/0),_=Math.min(n,a(t,s,"maxHeight")||1/0);r.width&&r.width>h?(u=!1,r.width=h):r.width||(isFinite(h)?(u=!1,t.style.width?(r.width=0,r.forceZeroWidth=!0):r.width=h):t.style.width&&(u=!1,r.width=0,r.forceZeroWidth=!0));r.height&&r.height>_?(l=!1,r.height=_):r.height||(isFinite(_)?(l=!1,t.style.height?(r.height=0,r.forceZeroHeight=!0):r.height=_):t.style.height&&(l=!1,r.height=0,r.forceZeroHeight=!0));u&&(r.width=Math.max((0,o.default)(r.width-p-c),0));l&&(r.height=Math.max((0,o.default)(r.height-d-f),0));return r.width=(0,o.default)(r.width),r.height=(0,o.default)(r.height),r}(e,n,r);if(i.forceZeroWidth&&i.forceZeroHeight)return{width:0,height:0};if((!i.width||!i.height)&&e&&e.parentElement)return t(e.parentElement,i.forceZeroWidth?0:i.width||1/0,i.forceZeroHeight?0:i.height||1/0);return i}(t);return{width:e.width,height:e.height}};var r,i=n(135),o=(r=i)&&r.__esModule?r:{default:r};function a(t,e,n){return/%$/.test(e[n])?0:Math.max((0,o.default)(parseFloat(e[n],10),2),0)}t.exports=e.default},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if("number"==typeof t&&!isFinite(t)&&!isNaN(t))return t;if(isNaN(t)||"number"!=typeof t)return 0;var n=function(t,e,n){n&&(e=-e);var r=(""+t).split("e");return+(r[0]+"e"+(r[1]?+r[1]+e:e))};return n(Math.round(n(t,e,!1)),e,!0)},t.exports=e.default},function(t,e,n){"use strict";(function(r){Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=(c(n(40)),c(n(28))),a=c(n(89)),s=c(n(137)),u=c(n(22)),l=c(n(17)),d=c(n(0));function c(t){return t&&t.__esModule?t:{default:t}}var f=(0,o.default)(),p=r.env.STREAMLYTICS_EXCLUDED_ACTIONS||[],h=r.env.STREAMLYTICS_EXCLUDED_KEYS_BY_ENV||{all:["pageurl","dpageurl","browserversionfull","type","position"],mobile_app:["domain","ddomain"],ctv:["domain","ddomain"],ma:["domain","ddomain"],c:["domain","ddomain"]},_=r.env.STREAMLYTICS_LOWERCASE_KEYS||["action","category","domain","browser","browserversion","os","osversion","pageurl","bundleid","ddomain","appname"],v="https://"+l.default.collector+"/x",m="maxBufferSize",y="maxBufferTime",A="noBufferEvents",E="endpoint",g={adclickthru:"ct",adstopped:"ast",adpaused:"ap",adskipped:"ask",adloadtimeout:"to",advideocomplete:"avc",advideothirdquartile:"avt",advideomidpoint:"avm",advideofirstquartile:"avf",advideostart:"avs",aderror:"err",adrequest:"req",adresponse:"res",adloaded:"al",adimpression:"ai",adstarted:"as",adbreakpoint:"abp",player:"p",playerload:"pl",multiplayer:"mp",contentstart:"cs"},S={category:"ca",action:"a",cc:"cc",component:"co",tier:"t",dwidth:"dw",sid:"s",clienttimestamp:"ct",osversion:"ov",bl:"bl",blscore:"bs",adsourceid:"ai",halfpipe_hostname:"hh",tc:"tc",env:"en",rank:"r",module_version:"mv",adtype:"at",org:"or",os:"os",loadtime:"lt",tierlength:"tl",waterfallname:"wn",label1:"l1",browserversion:"bv",version:"v",dheight:"dh",dpageurl:"dp",browser:"b",waterfallid:"wi",dplayersize:"ds",domain:"d",player_ver:"pl",pv:"pv",height:"h",adsourcerate:"ar",ddomain:"dd",subid:"si",loop:"l",playersize:"ps",width:"w",cost:"c",error:"e",errorcode:"ec",duration:"du",playerid:"pi",playername:"pn",adsourcetype:"as",nest:"ns",frombl:"fb",param0:"p0",param1:"p1",param2:"p2",param3:"p3",param4:"p4",param5:"p5",param6:"p6",param7:"p7",param8:"p8",param9:"p9"},b=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=e,this.endpoint=v,this.console=new u.default({target:"streamlytics"}),this.object="Object"}return t.prototype.setBuffering=function(t){t&&(this.bufferConfig=t,this.eventsBuffer=[],setInterval(this._dispatchBuffer.bind(this),this.bufferConfig[y]))},t.prototype.info=function(t){t.type="info",this._log(t)&&this._write(t)},t.prototype.warn=function(t){t.type="warn",this._log(t)&&this._write(t)},t.prototype.error=function(t){t.type="error",this._log(t)&&this._write(t)},t.prototype._log=function(t){if(!t)return this.console.error("cannot write empty log"),!1;if(0===(0,s.default)(t).length)return this.console.error("cannot write empty log"),!1;if(t.sid=t.sid||f.srSessionID,t.component=t.component||this.options.component,t.version=t.version||this.options.version,"info"===t.type){var e=t.sampleRate||this.options.sampleRate;if(e&&e<Math.random())return!1}return t.tags=t.partnerID,t.clienttimestamp=this._ISODateString(new Date),!0},t.prototype._write=function(t){if(t&&("Object"==typeof t||"object"===(void 0===t?"undefined":i(t)))&&"playa"!==t.component){var e=this._getCompressedAction(t.action);-1===p.indexOf(e)&&(t.action=e,t=this._stringifyData(t),this.bufferConfig?this._writeBufferedEvents(t):this._writeLeanEvent(t))}},t.prototype._stringifyData=function(t){var e=this,n={},r={},i=t.env;(0,s.default)(t).forEach(function(o,a){var s=o.toString().toLowerCase(),u=t[o],l=S[s]||s,d="";if("string"!=typeof u)try{d=u.toString()}catch(t){}null!==u&&void 0!==u&&"null"!==u&&"undefined"!==u&&""!==u&&("string"==typeof(d=u)&&_.indexOf(s)>-1&&(d=d.toLowerCase()),(l.indexOf(".")>-1||l.indexOf(" ")>-1)&&(l=l.replace(/./g,"_").replace(/ /g,"_")),e._isKeyAllowed(s,i)&&(n[l]=encodeURIComponent(d),r[s]=d))});var o=JSON.stringify(r);return this.console.log("streamlytics data = "+o),f.events&&f.events.push((0,d.default)({endpoint:this.endpoint},r)),n},t.prototype._writeLeanEvent=function(t){var e=void 0;t.dd&&(e=t.dd.replace(/'/g,"%27"),delete t.dd);var n=this._createQueryString(t).replace(/'/g,"%27"),r=(""+n+this.object).toLowerCase(),i=this._fnv32a(r),o=""+this.endpoint+n+"&p="+i+"&rand="+Math.ceil(1e10*Math.random());(new Image).src=e?o+"&dd="+e:o},t.prototype._writeSingleEvent=function(t){(new Image).src=this.endpoint+"?p="+encodeURIComponent(btoa(encodeURIComponent(JSON.stringify(t))))+"&"+Math.random()},t.prototype._writeBufferedEvents=function(t){this.eventsBuffer.push(t),this.bufferConfig[m]===this.eventsBuffer.length?this._dispatchBuffer():this.bufferConfig[A]&&this.bufferConfig[A].indexOf(t.action)>-1&&this._dispatchBuffer()},t.prototype._dispatchBuffer=function(){this.eventsBuffer.length>0&&((0,a.default)(this.bufferConfig[E],this.eventsBuffer),this.eventsBuffer=[])},t.prototype._getCompressedAction=function(t){return t?g[t.toLowerCase()]||t:""},t.prototype._ISODateString=function(t){try{return t.getUTCFullYear()+"-"+this._pad(t.getUTCMonth()+1)+"-"+this._pad(t.getUTCDate())+"T"+this._pad(t.getUTCHours())+":"+this._pad(t.getUTCMinutes())+":"+this._pad(t.getUTCSeconds())+"Z"}catch(t){}},t.prototype._pad=function(t){return t<10?"0"+t:t},t.prototype._fnv32a=function(t){for(var e=2166136261,n=0;n<t.length;++n)e^=t.charCodeAt(n),e+=(e<<1)+(e<<4)+(e<<7)+(e<<8)+(e<<24);return e>>>0},t.prototype._createQueryString=function(t){var e="?";for(var n in t)t.hasOwnProperty(n)&&(e+=n+"="+t[n]+"&");return e=e.slice(0,-1)},t.prototype._isKeyAllowed=function(t,e){if(t&&h){if(h.all&&h.all.indexOf(t)>-1)return!1;if(e&&h[e]&&h[e].indexOf(t)>-1)return!1}return!0},t}();e.default=b,t.exports=e.default}).call(this,n(8))},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=function(t){return t&&t.forEach?t:Object.keys(t||{})},Object.keys||(Object.keys=function(){"use strict";var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],i=r.length;return function(o){if("object"!==(void 0===o?"undefined":n(o))&&("function"!=typeof o||null===o))throw new TypeError("Object.keys called on non-object");var a,s,u=[];for(a in o)t.call(o,a)&&u.push(a);if(e)for(s=0;s<i;s++)t.call(o,r[s])&&u.push(r[s]);return u}}()),t.exports=e.default},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default={dsbl:["bc1a6ff1-c693-4b2b-9b8b-cc9a54c129fd","e0121a17-b15b-4733-953b-30cc25d2f94f","8480f644-3df6-40f8-8bb1-218213b9a993","41f5577a-8840-4bba-a874-3f4e92d1cd51","df4d421d-cc24-4495-91d7-550db4eaf47d","multiplaya-test","56c320500c12760002000054"],dswl:["detached-sprites-qa"]},t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=(0,r.cloneObjectArray)(t.ads.schedule),n=(0,r.constructAdsSchedule)(e);if(n)for(var o in n)if(n[o])for(var a=0;a<n[o].length;a++)n[o][a]&&((0,i.injectAdServerVars)(n[o][a].server,t),(0,i.injectPlaceholders)(n[o][a].server,t));return n};var r=n(90),i=n(33);t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?a.assetsHost.replace("http:","").replace("https:",""):a.assetsHost};var r=o(n(28)),i=o(n(17));function o(t){return t&&t.__esModule?t:{default:t}}var a=(0,r.default)(),s="https://"+i.default.sdk;a.assetsHost=a.assetsHost||s,t.exports=e.default},function(t,e){t.exports='<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <style>\n        html, body {\n            height: 100%;\n            width: 100%;\n        }\n        body {\n            margin: 0;\n            padding: 0;\n        }\n    </style>\n    <script type="text/javascript" src="{{srJsPath}}"><\/script>\n</head>\n<body>\n<script>\n    window.__SR_IFRAME_BY_OPTIONS__ = true;\n    window.srAsyncInit = function() {\n        var player = SR({{options}});\n        var parentCallback = parent["sr_player_cb_{{iframeID}}"];\n\n\t\tif (typeof parentCallback === \'function\'){\n\t\t\tparentCallback(player);\n\t\t}\n    };\n<\/script>\n</body>\n</html>\n'},function(t,e){t.exports="<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n    <meta charset=\"UTF-8\">\n    <style>\n        html,\n        body {\n            height: 100%;\n            width: 100%;\n        }\n\n        body {\n            margin: 0;\n            padding: 0;\n        }\n\n        video::-webkit-media-controls-start-playback-button {\n            display: none !important;\n        }\n\n        video::-webkit-media-controls {\n            display: none !important;\n            -webkit-appearance: none !important;\n        }\n    </style>\n</head>\n\n<body>\n    <div id=\"sambladeslot\"></div>\n\n    {{srvScriptTag}}\n\n    <script>\n        (function(){\n            var parentCallback = parent[\"sam_cb_{{iframeID}}\"];\n            if (typeof parentCallback === 'function') {\n                parentCallback(window);\n            }\n            window.sam_cb_resizeVideoSlot = function(width, height) {\n                var video = this.querySelector('video, sr-video')\n                if (video) {\n                    video.style.width = width + 'px';\n                    video.style.height = height + 'px';\n                    video.width = width;\n                    video.height = height;\n                }\n            }.bind(document)\n        })()\n    <\/script>\n</body>\n\n</html>"},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(1)),i=o(n(13));function o(t){return t&&t.__esModule?t:{default:t}}e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.document||window.document;return new r.default(function(n){var r=!1,o=void 0,a=void 0,s=void 0,u=function(t){r||(r=!0,o&&(o.ontimeupdate=o.onerror=null,o=null),s=null,clearTimeout(a),n(t))};s=function(t,n){var r=!1;(o=e.createElement("video")).ontimeupdate=function(){0!==o.currentTime&&u(!0)},o.onerror=function(){r?u(!1):(r=!0,o.src=n,o.load(),o.play())},o.muted=!0,o.setAttribute("webkit-playsinline","webkit-playsinline"),o.setAttribute("playsinline","playsinline"),o.src=t,o.load(),o.play()},(0,i.default)()?!navigator.userAgent.match(/(iPhone|iPod)/g)||"playsInline"in e.createElement("video")?(s("data:audio/mpeg;base64,/+MYxAAAAANIAUAAAASEEB/jwOFM/0MM/90b/+RhST//w4NFwOjf///PZu////9lns5GFDv//l9GlUIEEIAAAgIg8Ir/JGq3/+MYxDsLIj5QMYcoAP0dv9HIjUcH//yYSg+CIbkGP//8w0bLVjUP///3Z0x5QCAv/yLjwtGKTEFNRTMuOTeqqqqqqqqqqqqq/+MYxEkNmdJkUYc4AKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq","https://sdk.streamrail.com/test/media/sample.mp3"),a=setTimeout(function(){u(!1)},t.timeout||400)):u(!1):u(!0)})},t.exports=e.default},function(t,e,n){"use strict";n(145)()||Object.defineProperty(n(146),"Set",{value:n(147),configurable:!0,enumerable:!1,writable:!0})},function(t,e,n){"use strict";t.exports=function(){var t,e;return"function"==typeof Set&&(t=new Set(["raz","dwa","trzy"]),"[object Set]"===String(t)&&(3===t.size&&("function"==typeof t.add&&("function"==typeof t.clear&&("function"==typeof t.delete&&("function"==typeof t.entries&&("function"==typeof t.forEach&&("function"==typeof t.has&&("function"==typeof t.keys&&("function"==typeof t.values&&(!1===(e=t.values().next()).done&&"raz"===e.value)))))))))))}},function(t,e){t.exports=function(){return this}()},function(t,e,n){"use strict";var r,i,o,a=n(93),s=n(148),u=n(43),l=n(15),d=n(23),c=n(166),f=n(18),p=n(99),h=n(172),_=n(185),v=n(186),m=Function.prototype.call,y=Object.defineProperty,A=Object.getPrototypeOf;v&&(o=Set),t.exports=r=function(){var t,e=arguments[0];if(!(this instanceof r))throw new TypeError("Constructor requires 'new'");return t=v&&u?u(new o,A(this)):this,null!=e&&p(e),y(t,"__setData__",d("c",[])),e?(h(e,function(t){-1===s.call(this,t)&&this.push(t)},t.__setData__),t):t},v&&(u&&u(r,o),r.prototype=Object.create(o.prototype,{constructor:d(r)})),c(Object.defineProperties(r.prototype,{add:d(function(t){return this.has(t)?this:(this.emit("_add",this.__setData__.push(t)-1,t),this)}),clear:d(function(){this.__setData__.length&&(a.call(this.__setData__),this.emit("_clear"))}),delete:d(function(t){var e=s.call(this.__setData__,t);return-1!==e&&(this.__setData__.splice(e,1),this.emit("_delete",e,t),!0)}),entries:d(function(){return new _(this,"key+value")}),forEach:d(function(t){var e,n,r,i=arguments[1];for(l(t),n=(e=this.values())._next();void 0!==n;)r=e._resolve(n),m.call(t,i,r,r,this),n=e._next()}),has:d(function(t){return-1!==s.call(this.__setData__,t)}),keys:d(i=function(){return this.values()}),size:d.gs(function(){return this.__setData__.length}),values:d(function(){return new _(this)}),toString:d(function(){return"[object Set]"})})),y(r.prototype,f.iterator,d(i)),y(r.prototype,f.toStringTag,d("c","Set"))},function(t,e,n){"use strict";var r=n(149),i=n(95),o=n(14),a=Array.prototype.indexOf,s=Object.prototype.hasOwnProperty,u=Math.abs,l=Math.floor;t.exports=function(t){var e,n,d,c;if(!r(t))return a.apply(this,arguments);for(n=i(o(this).length),d=arguments[1],e=d=isNaN(d)?0:d>=0?l(d):i(this.length)-l(u(d));e<n;++e)if(s.call(this,e)&&(c=this[e],r(c)))return e;return-1}},function(t,e,n){"use strict";t.exports=n(150)()?Number.isNaN:n(151)},function(t,e,n){"use strict";t.exports=function(){var t=Number.isNaN;return"function"==typeof t&&(!t({})&&t(NaN)&&!t(34))}},function(t,e,n){"use strict";t.exports=function(t){return t!=t}},function(t,e,n){"use strict";var r=n(153),i=Math.abs,o=Math.floor;t.exports=function(t){return isNaN(t)?0:0!==(t=Number(t))&&isFinite(t)?r(t)*o(i(t)):t}},function(t,e,n){"use strict";t.exports=n(154)()?Math.sign:n(155)},function(t,e,n){"use strict";t.exports=function(){var t=Math.sign;return"function"==typeof t&&(1===t(10)&&-1===t(-20))}},function(t,e,n){"use strict";t.exports=function(t){return t=Number(t),isNaN(t)||0===t?t:t>0?1:-1}},function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(29),o={function:!0,object:!0};t.exports=function(t){return i(t)&&o[void 0===t?"undefined":r(t)]||!1}},function(t,e,n){"use strict";var r,i,o,a,s=Object.create;n(96)()||(r=n(97)),t.exports=r?1!==r.level?s:(i={},o={},a={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(t){o[t]="__proto__"!==t?a:{configurable:!0,enumerable:!1,writable:!0,value:void 0}}),Object.defineProperties(i,o),Object.defineProperty(r,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:i}),function(t,e){return s(null===t?i:t,e)}):s},function(t,e,n){"use strict";t.exports=function(){var t,e=Object.assign;return"function"==typeof e&&(e(t={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),t.foo+t.bar+t.trzy==="razdwatrzy")}},function(t,e,n){"use strict";var r=n(160),i=n(14),o=Math.max;t.exports=function(t,e){var n,a,s,u=o(arguments.length,2);for(t=Object(i(t)),s=function(r){try{t[r]=e[r]}catch(t){n||(n=t)}},a=1;a<u;++a)e=arguments[a],r(e).forEach(s);if(void 0!==n)throw n;return t}},function(t,e,n){"use strict";t.exports=n(161)()?Object.keys:n(162)},function(t,e,n){"use strict";t.exports=function(){try{return Object.keys("primitive"),!0}catch(t){return!1}}},function(t,e,n){"use strict";var r=n(29),i=Object.keys;t.exports=function(t){return i(r(t)?Object(t):t)}},function(t,e,n){"use strict";t.exports=function(t){return"function"==typeof t}},function(t,e,n){"use strict";var r="razdwatrzy";t.exports=function(){return"function"==typeof r.contains&&(!0===r.contains("dwa")&&!1===r.contains("foo"))}},function(t,e,n){"use strict";var r=String.prototype.indexOf;t.exports=function(t){return r.call(this,t,arguments[1])>-1}},function(t,e,n){"use strict";var r,i,o,a,s,u,l,d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c=n(23),f=n(15),p=Function.prototype.apply,h=Function.prototype.call,_=Object.create,v=Object.defineProperty,m=Object.defineProperties,y=Object.prototype.hasOwnProperty,A={configurable:!0,enumerable:!1,writable:!0};s={on:r=function(t,e){var n;return f(e),y.call(this,"__ee__")?n=this.__ee__:(n=A.value=_(null),v(this,"__ee__",A),A.value=null),n[t]?"object"===d(n[t])?n[t].push(e):n[t]=[n[t],e]:n[t]=e,this},once:i=function(t,e){var n,i;return f(e),i=this,r.call(this,t,n=function(){o.call(i,t,n),p.call(e,this,arguments)}),n.__eeOnceListener__=e,this},off:o=function(t,e){var n,r,i,o;if(f(e),!y.call(this,"__ee__"))return this;if(!(n=this.__ee__)[t])return this;if("object"===(void 0===(r=n[t])?"undefined":d(r)))for(o=0;i=r[o];++o)i!==e&&i.__eeOnceListener__!==e||(2===r.length?n[t]=r[o?0:1]:r.splice(o,1));else r!==e&&r.__eeOnceListener__!==e||delete n[t];return this},emit:a=function(t){var e,n,r,i,o;if(y.call(this,"__ee__")&&(i=this.__ee__[t]))if("object"===(void 0===i?"undefined":d(i))){for(n=arguments.length,o=new Array(n-1),e=1;e<n;++e)o[e-1]=arguments[e];for(i=i.slice(),e=0;r=i[e];++e)p.call(r,this,o)}else switch(arguments.length){case 1:h.call(i,this);break;case 2:h.call(i,this,arguments[1]);break;case 3:h.call(i,this,arguments[1],arguments[2]);break;default:for(n=arguments.length,o=new Array(n-1),e=1;e<n;++e)o[e-1]=arguments[e];p.call(i,this,o)}}},u={on:c(r),once:c(i),off:c(o),emit:c(a)},l=m({},u),t.exports=e=function(t){return null==t?_(l):m(Object(t),u)},e.methods=s},function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i={object:!0,symbol:!0};t.exports=function(){var t;if("function"!=typeof Symbol)return!1;t=Symbol("test symbol");try{String(t)}catch(t){return!1}return!!i[r(Symbol.iterator)]&&(!!i[r(Symbol.toPrimitive)]&&!!i[r(Symbol.toStringTag)])}},function(t,e,n){"use strict";var r,i,o,a,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u=n(23),l=n(169),d=Object.create,c=Object.defineProperties,f=Object.defineProperty,p=Object.prototype,h=d(null);if("function"==typeof Symbol){r=Symbol;try{String(r()),a=!0}catch(t){}}var _,v=(_=d(null),function(t){for(var e,n,r=0;_[t+(r||"")];)++r;return _[t+=r||""]=!0,f(p,e="@@"+t,u.gs(null,function(t){n||(n=!0,f(this,e,u(t)),n=!1)})),e});o=function(t){if(this instanceof o)throw new TypeError("Symbol is not a constructor");return i(t)},t.exports=i=function t(e){var n;if(this instanceof t)throw new TypeError("Symbol is not a constructor");return a?r(e):(n=d(o.prototype),e=void 0===e?"":String(e),c(n,{__description__:u("",e),__name__:u("",v(e))}))},c(i,{for:u(function(t){return h[t]?h[t]:h[t]=i(String(t))}),keyFor:u(function(t){var e;for(e in l(t),h)if(h[e]===t)return e}),hasInstance:u("",r&&r.hasInstance||i("hasInstance")),isConcatSpreadable:u("",r&&r.isConcatSpreadable||i("isConcatSpreadable")),iterator:u("",r&&r.iterator||i("iterator")),match:u("",r&&r.match||i("match")),replace:u("",r&&r.replace||i("replace")),search:u("",r&&r.search||i("search")),species:u("",r&&r.species||i("species")),split:u("",r&&r.split||i("split")),toPrimitive:u("",r&&r.toPrimitive||i("toPrimitive")),toStringTag:u("",r&&r.toStringTag||i("toStringTag")),unscopables:u("",r&&r.unscopables||i("unscopables"))}),c(o.prototype,{constructor:u(i),toString:u("",function(){return this.__name__})}),c(i.prototype,{toString:u(function(){return"Symbol ("+l(this).__description__+")"}),valueOf:u(function(){return l(this)})}),f(i.prototype,i.toPrimitive,u("",function(){var t=l(this);return"symbol"===(void 0===t?"undefined":s(t))?t:t.toString()})),f(i.prototype,i.toStringTag,u("c","Symbol")),f(o.prototype,i.toStringTag,u("c",i.prototype[i.toStringTag])),f(o.prototype,i.toPrimitive,u("c",i.prototype[i.toPrimitive]))},function(t,e,n){"use strict";var r=n(170);t.exports=function(t){if(!r(t))throw new TypeError(t+" is not a symbol");return t}},function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(t){return!!t&&("symbol"===(void 0===t?"undefined":r(t))||!!t.constructor&&("Symbol"===t.constructor.name&&"Symbol"===t[t.constructor.toStringTag]))}},function(t,e,n){"use strict";var r=n(44),i=n(29),o=n(45),a=n(18).iterator,s=Array.isArray;t.exports=function(t){return!!i(t)&&(!!s(t)||(!!o(t)||(!!r(t)||"function"==typeof t[a])))}},function(t,e,n){"use strict";var r=n(44),i=n(15),o=n(45),a=n(173),s=Array.isArray,u=Function.prototype.call,l=Array.prototype.some;t.exports=function(t,e){var n,d,c,f,p,h,_,v,m=arguments[2];if(s(t)||r(t)?n="array":o(t)?n="string":t=a(t),i(e),c=function(){f=!0},"array"!==n)if("string"!==n)for(d=t.next();!d.done;){if(u.call(e,m,d.value,c),f)return;d=t.next()}else for(h=t.length,p=0;p<h&&(_=t[p],p+1<h&&(v=_.charCodeAt(0))>=55296&&v<=56319&&(_+=t[++p]),u.call(e,m,_,c),!f);++p);else l.call(t,function(t){return u.call(e,m,t,c),f})}},function(t,e,n){"use strict";var r=n(44),i=n(45),o=n(174),a=n(184),s=n(99),u=n(18).iterator;t.exports=function(t){return"function"==typeof s(t)[u]?t[u]():r(t)?new o(t):i(t)?new a(t):new o(t)}},function(t,e,n){"use strict";var r,i=n(43),o=n(58),a=n(23),s=n(18),u=n(59),l=Object.defineProperty;r=t.exports=function(t,e){if(!(this instanceof r))throw new TypeError("Constructor requires 'new'");u.call(this,t),e=e?o.call(e,"key+value")?"key+value":o.call(e,"key")?"key":"value":"value",l(this,"__kind__",a("",e))},i&&i(r,u),delete r.prototype.constructor,r.prototype=Object.create(u.prototype,{_resolve:a(function(t){return"value"===this.__kind__?this.__list__[t]:"key+value"===this.__kind__?[t,this.__list__[t]]:t})}),l(r.prototype,s.toStringTag,a("c","Array Iterator"))},function(t,e,n){"use strict";var r,i=n(176),o=n(98),a=n(15),s=n(181),u=n(15),l=n(14),d=Function.prototype.bind,c=Object.defineProperty,f=Object.prototype.hasOwnProperty;r=function(t,e,n){var r,o=l(e)&&u(e.value);return delete(r=i(e)).writable,delete r.value,r.get=function(){return!n.overwriteDefinition&&f.call(this,t)?o:(e.value=d.call(o,n.resolveContext?n.resolveContext(this):this),c(this,t,e),this[t])},r},t.exports=function(t){var e=o(arguments[1]);return null!=e.resolveContext&&a(e.resolveContext),s(t,function(t,n){return r(n,t,e)})}},function(t,e,n){"use strict";var r=n(177),i=n(57),o=n(14);t.exports=function(t){var e=Object(o(t)),n=arguments[1],a=Object(arguments[2]);if(e!==t&&!n)return e;var s={};return n?r(n,function(e){(a.ensure||e in t)&&(s[e]=t[e])}):i(s,t),s}},function(t,e,n){"use strict";t.exports=n(178)()?Array.from:n(179)},function(t,e,n){"use strict";t.exports=function(){var t,e,n=Array.from;return"function"==typeof n&&(e=n(t=["raz","dwa"]),Boolean(e&&e!==t&&"dwa"===e[1]))}},function(t,e,n){"use strict";var r=n(18).iterator,i=n(44),o=n(180),a=n(95),s=n(15),u=n(14),l=n(29),d=n(45),c=Array.isArray,f=Function.prototype.call,p={configurable:!0,enumerable:!0,writable:!0,value:null},h=Object.defineProperty;t.exports=function(t){var e,n,_,v,m,y,A,E,g,S,b=arguments[1],T=arguments[2];if(t=Object(u(t)),l(b)&&s(b),this&&this!==Array&&o(this))e=this;else{if(!b){if(i(t))return 1!==(m=t.length)?Array.apply(null,t):((v=new Array(1))[0]=t[0],v);if(c(t)){for(v=new Array(m=t.length),n=0;n<m;++n)v[n]=t[n];return v}}v=[]}if(!c(t))if(void 0!==(g=t[r])){for(A=s(g).call(t),e&&(v=new e),E=A.next(),n=0;!E.done;)S=b?f.call(b,T,E.value,n):E.value,e?(p.value=S,h(v,n,p)):v[n]=S,E=A.next(),++n;m=n}else if(d(t)){for(m=t.length,e&&(v=new e),n=0,_=0;n<m;++n)S=t[n],n+1<m&&(y=S.charCodeAt(0))>=55296&&y<=56319&&(S+=t[++n]),S=b?f.call(b,T,S,_):S,e?(p.value=S,h(v,_,p)):v[_]=S,++_;m=_}if(void 0===m)for(m=a(t.length),e&&(v=new e(m)),n=0;n<m;++n)S=b?f.call(b,T,t[n],n):t[n],e?(p.value=S,h(v,n,p)):v[n]=S;return e&&(p.value=null,v.length=m),v}},function(t,e,n){"use strict";var r=Object.prototype.toString,i=r.call(n(94));t.exports=function(t){return"function"==typeof t&&r.call(t)===i}},function(t,e,n){"use strict";var r=n(15),i=n(182),o=Function.prototype.call;t.exports=function(t,e){var n={},a=arguments[2];return r(e),i(t,function(t,r,i,s){n[r]=o.call(e,a,t,r,i,s)}),n}},function(t,e,n){"use strict";t.exports=n(183)("forEach")},function(t,e,n){"use strict";var r=n(15),i=n(14),o=Function.prototype.bind,a=Function.prototype.call,s=Object.keys,u=Object.prototype.propertyIsEnumerable;t.exports=function(t,e){return function(n,l){var d,c=arguments[2],f=arguments[3];return n=Object(i(n)),r(l),d=s(n),f&&d.sort("function"==typeof f?o.call(f,n):void 0),"function"!=typeof t&&(t=d[t]),a.call(t,d,function(t,r){return u.call(n,t)?a.call(l,c,n[t],t,n,r):e})}}},function(t,e,n){"use strict";var r,i=n(43),o=n(23),a=n(18),s=n(59),u=Object.defineProperty;r=t.exports=function(t){if(!(this instanceof r))throw new TypeError("Constructor requires 'new'");t=String(t),s.call(this,t),u(this,"__length__",o("",t.length))},i&&i(r,s),delete r.prototype.constructor,r.prototype=Object.create(s.prototype,{_next:o(function(){if(this.__list__)return this.__nextIndex__<this.__length__?this.__nextIndex__++:void this._unBind()}),_resolve:o(function(t){var e,n=this.__list__[t];return this.__nextIndex__===this.__length__?n:(e=n.charCodeAt(0))>=55296&&e<=56319?n+this.__list__[this.__nextIndex__++]:n})}),u(r.prototype,a.toStringTag,o("c","String Iterator"))},function(t,e,n){"use strict";var r,i=n(43),o=n(58),a=n(23),s=n(59),u=n(18).toStringTag,l=Object.defineProperty;r=t.exports=function(t,e){if(!(this instanceof r))return new r(t,e);s.call(this,t.__setData__,t),e=e&&o.call(e,"key+value")?"key+value":"value",l(this,"__kind__",a("",e))},i&&i(r,s),r.prototype=Object.create(s.prototype,{constructor:a(r),_resolve:a(function(t){return"value"===this.__kind__?this.__list__[t]:[this.__list__[t],this.__list__[t]]}),toString:a(function(){return"[object Set Iterator]"})}),l(r.prototype,u,a("c","Set Iterator"))},function(t,e,n){"use strict";t.exports="undefined"!=typeof Set&&"[object Set]"===Object.prototype.toString.call(Set.prototype)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(188)),i=o(n(17));function o(t){return t&&t.__esModule?t:{default:t}}e.default=function(){(0,r.default)(Object.keys(i.default).reduce(function(t,e){return t.push(i.default[e]),t},[]))},t.exports=e.default},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){try{t.forEach(function(t){if(!document.head.querySelector('link[rel="dns-prefetch"][href="'+t+'"]')){var e=document.createElement("link");e.rel="dns-prefetch",e.href="https://"+t,document.head.appendChild(e)}})}catch(t){}},t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if(window.SR=t,window.srAsyncInit)t.async=!0,window.srAsyncInit();else{var e=setInterval(function(){window.srAsyncInit&&(t.async=!0,window.srAsyncInit(),clearInterval(e))},1e3);setTimeout(function(){e&&clearInterval(e)},3e4)}},t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=new _.default({target:"blade"}),m=new i.default;if(_.default.isEnabled){var A=m.emit;m.emit=function(t){n.log("emit "+t);for(var e=arguments.length,r=Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];A.call.apply(A,[this,t].concat(r))}}var E=(0,r.default)(!0,{isMobile:(0,u.default)()},e),g={ads:{},content:{}},S=void 0,b=void 0,T=void 0,I=void 0,R=void 0,O=void 0,P=!1,w=0,C=E.maxImpressions||1/0,L={privateAPI:{log:n.log.bind(n),getState:G,setState:q,activateAutoResize:J,deactivateAutoResize:K,getContentPlayer:function(){return T},getAdsPlayer:function(){return I},getResizeableContainer:Z,hasVideoContent:function(){return E.content&&E.content.some(function(t){return t.url&&"video"===t.type})},isPausedByAPI:function(){return S.pausedByAPI},getVisiblePlayer:$,attemptToPlayNShow:function(t){if(I&&"ads"===t&&G().isAdsPlayable)return B(),I.play(),!0;if(T&&"content"===t&&G().isContentPlayable)return F(),!0;return!1},onFinish:j,getOriginalLoopCount:W,getActivePlayer:function(){if(T&&T.getState().visible)return T;return I},showAds:B,showContent:F,emit:m.emit.bind(m),emitLater:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return setTimeout(function(){m.emit.apply(m,e)},0)}},publicAPI:{get width(){return E.width},get height(){return E.height},get disposed(){return S.disposed},get paused(){if(S.pausedByAPI)return!0;var t=$();return t?t.paused():void 0},get duration(){var t=$();return t?t.duration():void 0},get currentTime(){var t=$();return t?t.currentTime():void 0},set currentTime(t){var e=$();e&&e.setCurrentTime(t)},get remainingTime(){var t=$();return t?t.remainingTime():void 0},get adDuration(){return I?I.duration():void 0},get adCurrentTime(){return I?I.currentTime():void 0},get adRemainingTime(){return I?I.remainingTime():void 0},get contentDuration(){return T?T.duration():void 0},get contentCurrentTime(){return T?T.currentTime():void 0},get contentRemainingTime(){return T?T.remainingTime():void 0},get muted(){return S.muted},get options(){return(0,r.default)(!0,{},E)},set muted(t){!0===t?function(){q({muted:!0}),I&&I.mute();T&&T.mute()}():!1===t&&function(){q({muted:!1}),I&&I.unmute();T&&T.unmute()}()},get hasAds(){return S.hasAds},get impressions(){return w},get maxImpressions(){return C},get currentSrc(){var t=$();return t?t.currentSrc:null},get contentCurrentSrc(){return T?T.currentSrc:null},get adCurrentSrc(){return I?I.currentSrc:null},el:z,wrapper:X,dispose:Y,resize:H,play:function(){q({pausedByAPI:!1}),O.privateAPI.onPlay()},pause:function(){q({pausedByAPI:!0}),I&&I.pause();T&&T.pause()},stopAd:Q,skipAd:Q,passback:U,on:m.on.bind(m),off:m.off.bind(m),once:m.once.bind(m),subscribe:m.on.bind(m),unsubscribe:m.off.bind(m)}};V=void 0===E.muted||!0===E.muted,S={hasContent:E.banner&&void 0!==E.banner.url||E.content&&E.content.some(function(t){return void 0!==t.url}),hasAds:!!(E.ads&&E.ads.schedule&&E.ads.schedule.length&&E.ads.schedule[0].server&&E.ads.schedule[0].server.tag&&E.ads.schedule[0].server.tag.adParams),didPassback:!1,hasPassback:E.passback&&E.passback.html&&E.passback.on,adsLoopCount:W(),contentLoopCount:E.contentLoopCount||p.MAX_LOOPS,currentAdsLoop:1,currentContentLoop:1,muted:V,volume:V?0:1,pausedByAPI:!1,disposed:!1},S=(0,h.proxify)(S),x=t[E.scheduling],x&&("preRoll"!==E.scheduling||S.hasAds)||(x=t.default),(O=x({options:E,publicAPI:L.publicAPI,privateAPI:L.privateAPI})).privateAPI.init(),M="sr-player-"+E.sessionID,k=document.getElementById(E.containerID)||document.body,(b=document.createElement("div")).setAttribute("id",M),b.style.position="relative",b.style.width=E.width+"px",b.style.height=E.height+"px",k.appendChild(b),D=Z(),D.style.width=E.width+"px",D.style.height=E.height+"px",D!==b&&(b.style.width="100%",b.style.height="100%"),S.hasContent&&(T=new d.default(E,{muted:S.muted,paused:S.pausedByAPI,loop:S.currentContentLoop},L),Object.keys(p.CONTENT_PLAYER_EVENTS).forEach(function(t){g.content[t]=function(t,e){switch(t){case p.CONTENT_PLAYER_EVENTS.contentend:O.privateAPI.onContentPlayerEnd(t,e),m.emit(t,e),e.isContentsLoopEnd&&m.emit(p.CONTENT_PLAYER_EVENTS.contentloopend,{loop:e.contentLoop})}}.bind(null,t),T.on(t,g.content[t])}),b.appendChild(T.el()),O.privateAPI.onContentPlayerInit()),S.hasAds?(I=new c.default(E,{muted:S.muted,isDuringAd:!1,paused:S.pausedByAPI,loop:S.currentAdsLoop},L),[].concat(y(Object.keys(s.default)),y(Object.keys(p.ADS_PLAYER_EVENTS)),y(Object.keys(p.SKIP_BUTTON_EVENTS))).forEach(function(t){g.ads[t]=function(t,e){if(S.hasPassback&&E.passback.on.indexOf(t)>-1)U();else switch(t){case s.default.AdStarted:O.privateAPI.onAdStarted(t,e);break;case s.default.AdImpression:w++,O.privateAPI.onAdImpression(t,e);break;case s.default.AdStopped:O.privateAPI.onAdStopped(t,e);break;case s.default.AdSkipped:O.privateAPI.onAdSkipped(t,e);break;case s.default.AdError:O.privateAPI.onAdError(t,e);break;case p.ADS_PLAYER_EVENTS.loopend:O.privateAPI.onAdsPlayerLoopEnd(t,e)}m.emit(t,e)}.bind(null,t),I.on(t,g.ads[t])}),b.appendChild(I.el()),O.privateAPI.onAdsPlayerInit()):(N=E.ads&&E.ads.schedule&&E.ads.schedule.length&&E.ads.schedule[0].server&&E.ads.schedule[0].server.tag&&E.ads.schedule[0].server.tag.tc,(0,l.default)({component:"adsmanager",org:E.apiKey,tc:N,playerid:E.playerId,sid:E.sessionID,width:E.width,height:E.height,player_ver:E.playerVersion,pv:E.pv,action:"nop",code:702,category:"player-error"})),E.autoResize&&(!function(){if(S.disposed)return;var t=!0;v.default===window.ResizeObserver&&(t=!1);(R=new v.default(function(){if(t&&P){var e=X();H({elToSample:e})}else t||(t=!0)})).observe(X())}(),J());var N;var D;var M,k;var x;var V;return setTimeout(function(){m.emit(p.PLAYER_EVENTS.playerReady),S.hasAds||setTimeout(j,0)},0),L;function U(t){if((t=t||(E.passback&&E.passback.html?(0,h.htmlDecode)(E.passback.html):""))&&!S.disposed&&!S.didPassback){S.didPassback=!0,Y(!0);var e=(0,o.default)();(0,f.default)(e,"sr-passback"),b.appendChild(e),(0,a.default)(e,"<html><head><style>body{margin:0;}</style><script>window.SR_DATA = {impressions: "+w+'};<\/script></head><body class="sr-passback-body">'+t+"</body></html>")}}function j(){var t=S.hasAds,e=0===w,n=S.hasPassback&&(t&&-1!==E.passback.on.indexOf(p.PLAYER_EVENTS.playerDone)||e&&-1!==E.passback.on.indexOf(p.PLAYER_EVENTS.playerNoAds));n&&U(),e&&m.emit(p.PLAYER_EVENTS.playerNoAds),t&&m.emit(p.PLAYER_EVENTS.playerDone)}function B(){I&&I.show(),T&&T.hide()}function F(){I&&I.hide(),T&&T.show()}function H(){if(S&&!S.disposed)try{K();var t=arguments.length<=0?void 0:arguments[0],e=t&&t.elToSample||z().parentNode,n=void 0,r=void 0;2===arguments.length&&"number"==typeof(arguments.length<=0?void 0:arguments[0])&&"number"==typeof(arguments.length<=1?void 0:arguments[1])?(n=arguments.length<=0?void 0:arguments[0],r=arguments.length<=1?void 0:arguments[1]):t&&(n=t.width,r=t.height);var i=n||e.offsetWidth,o=r||e.offsetHeight;E.width=i,E.height=o;var a=Z(),s=X();a.style.width=i+"px",a.style.height=o+"px",s.style.width&&(s.style.width=i+"px"),s.style.height&&(s.style.height=o+"px"),T&&T.resize(i,o),I&&I.resize(i,o),J()}catch(t){}}function Y(t){S.disposed||(K(),R&&R.disconnect(),R=null,q({disposed:!0,adsLoopCount:0}),T&&(Object.keys(p.CONTENT_PLAYER_EVENTS).forEach(function(t){T.off(t,g.content[t])}),T.dispose(),T=null),I&&([].concat(y(Object.keys(s.default)),y(Object.keys(p.ADS_PLAYER_EVENTS)),y(Object.keys(p.SKIP_BUTTON_EVENTS))).forEach(function(t){I.off(t,g.ads[t])}),I&&(I.dispose(),I=null)),t||(b.parentElement.removeChild(b),b=null),O&&O.dispose&&O.dispose(),O=null)}function W(){return E.loop?E.loopCount||p.MAX_LOOPS:1}function G(){return S}function q(t){(0,r.default)(S,t)}function z(){return b}function Z(){return window.__SR_IFRAME_BY_OPTIONS__?window.frameElement:b}function X(){return window.__SR_IFRAME_BY_OPTIONS__?window.frameElement.parentElement:b.parentElement}function Q(){I.stopAd()}function J(){P=!0}function K(){P=!1}function $(){return I&&I.getState().visible?I:T&&T.getState().visible?T:null}};var r=m(n(0)),i=m(n(24)),o=m(n(41)),a=m(n(42)),s=m(n(4)),u=m(n(13)),l=m(n(87)),d=m(n(191)),c=m(n(202)),f=m(n(6)),p=n(7),h=n(9);n(265);var _=m(n(22)),v=m(n(274));function m(t){return t&&t.__esModule?t:{default:t}}function y(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=f(n(0)),o=f(n(60)),a=f(n(100)),s=f(n(102)),u=n(9),l=n(7),d=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(5)),c=n(201);function f(t){return t&&t.__esModule?t:{default:t}}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e))}var h=function(t){function e(n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,(0,i.default)({},r,{currentContentIndex:-1,currentContent:null}),o));return a.lastPlayPos=0,a.currentPlayPos=0,a.bufferingDetected=!1,a.createContainer(),a.createLoader(),a.createControlsBar(),a.bindEvents(),a}return p(e,t),e.prototype.createContainer=function(){this.container=(0,u.createContainerWithStyles)("sr-cc"),this.container.style.backgroundColor=this.options.bgColor,this.options.banner&&this.options.banner.url?this.createImageCoverContainer():(this.createVideoContainer(),this.selectContent())},e.prototype.selectContent=function(){var t=(this.state.currentContentIndex+1)%this.options.content.length;if(t===this.state.currentContentIndex)return null;var e=this.options.content[t];return this.setState({currentContent:e,currentContentIndex:t}),this.videoEl.removeAttribute("src"),e.hls?this.setHlsSrc(e.url):(this.videoEl.src=e.url,this.addContentLink(e.linkUrl),null)},e.prototype.setHlsSrc=function(t){var e=this;return this.videoEl.canPlayType(l.HLS_CONTENT_TYPE)?(this.videoEl.src=t,null):(0,c.getHls)().then(function(n){if(n.isSupported()){var r=e.hls=new n;return r.loadSource(t),r.attachMedia(e.videoEl),r.on(n.Events.MANIFEST_PARSED,function(){e.apis.privateAPI.isPausedByAPI()||e.play()}),r}return(0,c.throwHlsError)()}).catch(function(){return e.videoEl.src=t,null})},e.prototype.createImageCoverContainer=function(){var t=this.bannerEl=document.createElement("img");t.style.display="block",t.style.width="100%",t.style.height="100%",t.src=this.options.banner.url,this.container.appendChild(t),this.addContentLink(this.options.banner.linkUrl)},e.prototype.createVideoContainer=function(){var t=this.videoEl=this._createVideoElement();t.removeAttribute("autoplay"),this.container.appendChild(t)},e.prototype.createLoader=function(){var e=this;t.prototype.createLoader.call(this),this.loader&&(this.videoEl?this.setBufferingInterval():this.bannerEl&&!this.bannerEl.naturalWidth&&(this._showLoader(),this.bannerEl.onload=this.bannerEl.onerror=function(){e._hideLoader()}))},e.prototype.setBufferingInterval=function(){this.bufferingInterval=setInterval(this.checkBuffering.bind(this),50)},e.prototype.checkBuffering=function(){if(this.currentPlayPos=this.videoEl.currentTime,this.currentPlayPos>=this.lastPlayPos){var t=this.videoEl,e=t.readyState,n=t.paused;this.bufferingDetected||n||!(this.currentPlayPos<this.lastPlayPos+5e-5||e<this.videoEl.HAVE_CURRENT_DATA)?this.bufferingDetected&&this.currentPlayPos>this.lastPlayPos+5e-5&&!n&&(this.bufferingDetected=!1,this._hideLoader(),this.log("ContentPlayer: buffering stopped")):(this.log("ContentPlayer: buffering detected"),this.bufferingDetected=!0,this._showLoader()),this.lastPlayPos=this.currentPlayPos}else this.lastPlayPos=this.currentPlayPos-5e-5},e.prototype.addContentLink=function(t){var e=this;t&&(this.container.style.cursor="pointer",this.container.addEventListener("click",function(n){n&&n.target&&n.target.closest(".sr-blade-control")||(e.pause(),(0,o.default)().open(t,"_blank"))}))},e.prototype.createControlsBar=function(){this.videoEl&&this.options.controls&&this.options.controls.content&&this.options.controls.content.show&&(this.controlsBar=new s.default(this.options.controls.content,(0,i.default)({controlsBarVisible:!0,type:"content"},this.state)),t.prototype.createControlsBar.call(this),this.videoEl.onseeking=this._showLoader.bind(this),this.videoEl.onseeked=this._hideLoader.bind(this),this.container.appendChild(this.controlsBar.el()))},e.prototype.bindEvents=function(){var e=this;this.videoEl&&(t.prototype.bindEvents.call(this),Object.keys(d).forEach(function(t){var n=d[t];e.eventHandlers[n]=e.handleEvent.bind(e,n),e.videoEl.addEventListener(n,e.eventHandlers[n])}))},e.prototype.handleEvent=function(t,e){switch(t){case d.PLAYING:this.setState({paused:!1,started:!0}),this.apis.privateAPI.isPausedByAPI()&&this.pause();break;case d.PAUSE:this.setState({paused:!0});break;case d.ENDED:case d.ERROR:this._onEnded();break;case d.DURATIONCHANGE:this._onDurationChange();break;case d.TIMEUPDATE:this._onTimeUpdate()}this.emit(t,e),this.disposed||this.apis.privateAPI.emit("content"+t,e)},e.prototype.unbindEvents=function(){var e=this;t.prototype.unbindEvents.call(this),Object.keys(d).forEach(function(t){var n=d[t];try{e.videoEl.removeEventListener(n,e.eventHandlers[n]),e.eventHandlers[n]=void 0}catch(t){}})},e.prototype.mute=function(){t.prototype.mute.call(this),this.controlsBar&&this.controlsBar.onMute(),this.videoEl&&(this.videoEl.volume=0,this.videoEl.muted=!0)},e.prototype.unmute=function(){t.prototype.unmute.call(this),this.controlsBar&&this.controlsBar.onUnmute(),this.videoEl&&(this.videoEl.volume=1,this.videoEl.muted=!1)},e.prototype.show=function(){t.prototype.show.call(this),this.apis.privateAPI.isPausedByAPI()||this.play()},e.prototype.hide=function(){this.pause(),t.prototype.hide.call(this)},e.prototype.resize=function(t,e){this.videoEl&&(this.videoEl.style.width=t+"px",this.videoEl.style.height=e+"px")},e.prototype.play=function(){t.prototype.play.call(this),this.videoEl&&this.state.visible&&(0,u.safeMediaMethod)(this.videoEl,"play")},e.prototype.pause=function(){t.prototype.pause.call(this),this._hideLoader(),this.videoEl&&this.state.visible&&(0,u.safeMediaMethod)(this.videoEl,"pause")},e.prototype.dispose=function(){this.unbindEvents(),this.bannerEl&&(this.bannerEl.onload=this.bannerEl.onerror=null),this.bufferingInterval&&clearInterval(this.bufferingInterval),this.bannerEl=this.videoEl=null,this.hls&&(this.hls.destroy(),this.hls=null),t.prototype.dispose.call(this)},e.prototype.setCurrentTime=function(t){this.videoEl.currentTime=t},e.prototype._onDurationChange=function(){var t=this.videoEl.duration;this.setState({duration:t,remainingTime:t}),this.controlsBar&&this.controlsBar.onAdDurationChange(t)},e.prototype._onTimeUpdate=function(){var t=this.videoEl.currentTime,e=this.videoEl.duration-t;this.setState({currentTime:t,remainingTime:e}),this.controlsBar&&this.controlsBar.onAdRemainingTimeChange(e)},e.prototype._onEnded=function(){var t=this.state.currentContentIndex;this.selectContent(),this.emit(l.CONTENT_PLAYER_EVENTS.contentend,{loop:this.state.loop,contentLoop:this.state.loop/this.options.content.length,isContentsLoopEnd:t===this.options.content.length-1})},e.prototype._onProgressBarClick=function(t){this.videoEl.currentTime=this.videoEl.duration*t},e.prototype._showLoader=function(){this.log("ContentPlayer: showLoader"),this.loader&&this.loader.show()},e.prototype._hideLoader=function(){this.log("ContentPlayer: hideLoader"),this.loader&&this.loader.hide()},r(e,[{key:"currentSrc",get:function(){return this.state.currentContent&&this.videoEl?this.state.currentContent.hls?this.hls.url:this.videoEl.src||null:null}}]),e}(a.default);e.default=h,t.exports=e.default},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){t=t||window;try{return t.self!==t.parent}catch(t){return!0}},t.exports=e.default},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){t=t||window;try{return t.parent.document.getElementById("x"),!0}catch(t){return!1}},t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=a(n(6)),i=a(n(16)),o=a(n(101));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._el=document.createElement("div");for(var n=0;n<4;n++)this._el.appendChild(document.createElement("div"));(0,r.default)(this._el,"sr-blade-loader");this.debounced=(0,o.default)(function(t){t?e._show():e._hide()},100),this._hide()}return t.prototype._show=function(){(0,i.default)(this._el,"sr-blade-loader-hidden")},t.prototype._hide=function(){(0,r.default)(this._el,"sr-blade-loader-hidden")},t.prototype.show=function(){this.debounced(!0)},t.prototype.hide=function(){this.debounced(!1)},t.prototype.el=function(){return this._el},t}();e.default=s,t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=s(n(196)),i=s(n(197)),o=s(n(199)),a=s(n(200));function s(t){return t&&t.__esModule?t:{default:t}}e.default=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.remainingTimeControl=new r.default,this.progressBarControl=new i.default,this.playPauseControl=new o.default,this.muteControl=new a.default},t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=a(n(6)),i=a(n(16)),o=n(9);function a(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.controlsBar=void 0,this.remainingTime=void 0,this.currentTime=void 0,this.duration=void 0}return t.prototype.renderRemainingTimeControls=function(t){if(t.controls.remainingTime){this.controlsBar=t,this.remainingTime=(0,o.createControl)(),this.controlsBar.controls.pause||(0,r.default)(this.remainingTime,"sr-blade-left-control"),(0,r.default)(this.remainingTime,"sr-blade-time-display"),(0,r.default)(this.remainingTime,"sr-blade-control-hidden"),this.currentTime=document.createElement("span"),this.currentTime.innerText=(0,o.formatTime)(0);var e=document.createElement("span");e.innerText="/",this.duration=document.createElement("span"),this.duration.innerText=(0,o.formatTime)(0),(0,r.default)(this.currentTime,"sr-blade-current"),(0,r.default)(e,"sr-blade-separator"),(0,r.default)(this.duration,"sr-blade-duration"),this.remainingTime.appendChild(this.currentTime),this.remainingTime.appendChild(e),this.remainingTime.appendChild(this.duration),this.controlsBar.getContainer().appendChild(this.remainingTime)}},t.prototype.onAdRemainingTimeChange=function(t){this.remainingTime&&this.currentTime&&(this.currentTime.innerText=(0,o.formatTime)(this.controlsBar.getState().duration-t))},t.prototype.onAdDurationChange=function(t){this.remainingTime&&this.duration&&(this.duration.innerText=(0,o.formatTime)(t),(0,i.default)(this.remainingTime,"sr-blade-control-hidden"))},t.prototype.setState=function(){},t.prototype.dispose=function(){},t}();e.default=s,t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=d(n(6)),i=n(7),o=n(9),a=d(n(198)),s=d(n(101)),u=d(n(16)),l=d(n(13));function d(t){return t&&t.__esModule?t:{default:t}}var c=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.controlsBar=void 0,this.progressBar=void 0,this.rail=void 0,this.progressRail=void 0,this.knob=void 0,this.tooltip=void 0,this.smallRail=void 0,this.smallProgressRail=void 0}return t.prototype._progressBarClick=function(t){if(t.currentTarget&&(0,a.default)(t.currentTarget,"sr-blade-control")&&t.currentTarget.className.indexOf("sr-blade-progress")>-1){var e=this._calculateSeekPoint(t);this._adjustProgress(e),this.controlsBar.emit(i.CONTROL_BAR_EVENTS.progressBarClick,e)}},t.prototype._calculateSeekPoint=function(t){var e=this.rail.offsetWidth;return t.offsetX/e},t.prototype._adjustProgress=function(t){this._moveKnob(t),this._moveProgressBar(t),this._moveSmallProgressBar(t)},t.prototype._moveKnob=function(t){this.knob&&(this.knob.style.left=100*t+"%")},t.prototype._moveProgressBar=function(t){this.progressRail&&(this.progressRail.style.width=100*t+"%")},t.prototype._moveSmallProgressBar=function(t){this.smallProgressRail&&(this.smallProgressRail.style.width=100*t+"%")},t.prototype._onProgressBarOut=function(){(0,l.default)()||this._hideKnob(),this._hideToolTip()},t.prototype._showKnob=function(){(0,u.default)(this.knob,"sr-blade-control-hidden")},t.prototype._hideKnob=function(){(0,r.default)(this.knob,"sr-blade-control-hidden")},t.prototype._showTooltip=function(t){if(this.controlsBar.getState().duration){var e=this._calculateSeekPoint(t);this.tooltip.style.left=100*e+"%";var n=this._calculateSeekTime(e),r=(0,o.formatTime)(n);this.tooltip.innerText=r,(0,u.default)(this.tooltip,"sr-blade-control-hidden")}},t.prototype._hideToolTip=function(){(0,r.default)(this.tooltip,"sr-blade-control-hidden")},t.prototype._calculateSeekTime=function(t){return this.controlsBar.getState().duration*t},t.prototype.renderProgressBar=function(t){if(t.controls.progress){this.controlsBar=t,this.progressBar=(0,o.createControl)(),(0,r.default)(this.progressBar,"sr-blade-progress"),(0,l.default)()&&(0,r.default)(this.progressBar,"sr-blade-progress-mobile"),(0,r.default)(this.progressBar,"sr-blade-progress-hidden");var e=document.createElement("div");(0,r.default)(e,"sr-blade-progress-container"),this.rail=document.createElement("div"),(0,r.default)(this.rail,"sr-blade-progress--rail"),e.appendChild(this.rail),this.progressRail=document.createElement("div"),(0,r.default)(this.progressRail,"sr-blade-progress--progress");var n=this.controlsBar.getState().type;if((0,r.default)(this.progressRail,"sr-blade-progress--progress-"+n),(0,r.default)(this.progressBar,"sr-blade-progress--"+n),e.appendChild(this.progressRail),"content"===n&&(this.knob=document.createElement("div"),(0,r.default)(this.knob,"sr-blade-progress--knob"),(0,l.default)()||(0,r.default)(this.knob,"sr-blade-control-hidden"),e.appendChild(this.knob),this.tooltip=document.createElement("div"),(0,r.default)(this.tooltip,"sr-blade-progress--tooltip"),(0,r.default)(this.tooltip,"sr-blade-control-hidden"),e.appendChild(this.tooltip),this.progressBar.addEventListener("mouseover",this._showKnob.bind(this)),this.progressBar.addEventListener("mousemove",(0,s.default)(this._showTooltip.bind(this))),this.progressBar.addEventListener("mouseout",this._onProgressBarOut.bind(this)),this.progressBar.addEventListener("click",this._progressBarClick.bind(this))),"ad"===n){var i=document.createElement("div");(0,r.default)(i,"sr-blade-progress-small-container"),this.smallRail=document.createElement("div"),(0,r.default)(this.smallRail,"sr-blade-progress--rail"),this.smallProgressRail=document.createElement("div"),(0,r.default)(this.smallProgressRail,"sr-blade-progress--progress"),(0,r.default)(this.smallProgressRail,"sr-blade-progress--progress-ad"),i.appendChild(this.smallRail),i.appendChild(this.smallProgressRail),this.controlsBar.getState().controlsBarVisible&&((0,r.default)(this.smallRail,"sr-blade-control-hidden"),(0,r.default)(this.smallProgressRail,"sr-blade-control-hidden")),this.controlsBar.el().appendChild(i)}this.progressBar.appendChild(e),this.controlsBar.getContainer().appendChild(this.progressBar)}},t.prototype.setState=function(t){if(this.progressBar&&this.controlsBar.getState().currentTime!==t.currentTime){if(void 0!==t.currentTime)if((0,u.default)(this.progressBar,"sr-blade-progress-hidden"),t.currentTime){var e=t.currentTime/t.duration;this._adjustProgress(e)}else this.progressRail.style.width="0",this.smallProgressRail&&(this.smallProgressRail.style.width="0");void 0!==t.controlsBarVisible&&(t.controlsBarVisible&&this.smallProgressRail?((0,r.default)(this.smallRail,"sr-blade-control-hidden"),(0,r.default)(this.smallProgressRail,"sr-blade-control-hidden")):((0,u.default)(this.smallRail,"sr-blade-control-hidden"),(0,u.default)(this.smallProgressRail,"sr-blade-control-hidden")))}},t.prototype.dispose=function(){this.progressBar&&(this.progressBar.removeEventListener("mouseover",this._showKnob.bind(this)),this.progressBar.removeEventListener("mousemove",(0,s.default)(this._showTooltip.bind(this))),this.progressBar.removeEventListener("mouseout",this._onProgressBarOut.bind(this)),this.progressBar.removeEventListener("click",this._progressBarClick.bind(this)))},t}();e.default=c,t.exports=e.default},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=!1;t&&(n=t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className));return n},t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=s(n(6)),i=n(9),o=n(7),a=s(n(16));function s(t){return t&&t.__esModule?t:{default:t}}var u=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.controlsBar=void 0,this.playPauseButton=void 0}return t.prototype.renderPlayPauseControls=function(t){t.controls.pause&&(this.controlsBar=t,this.playPauseButton=(0,i.createControl)(),(0,r.default)(this.playPauseButton,"sr-blade-left-control"),(0,r.default)(this.playPauseButton,"sr-blade-pause"),this.playPauseButton.addEventListener("click",this._controlsBarClick.bind(this)),this.controlsBar.getContainer().appendChild(this.playPauseButton))},t.prototype._controlsBarClick=function(){this.controlsBar.getState().paused?this.controlsBar.emit(o.CONTROL_BAR_EVENTS.playControlClicked):this.controlsBar.getState().paused||this.controlsBar.emit(o.CONTROL_BAR_EVENTS.pauseControlClicked)},t.prototype.setState=function(t){this.playPauseButton&&this.controlsBar.getState().paused!==t.paused&&void 0!==t.paused&&(t.paused?((0,a.default)(this.playPauseButton,"sr-blade-pause"),(0,r.default)(this.playPauseButton,"sr-blade-play")):((0,a.default)(this.playPauseButton,"sr-blade-play"),(0,r.default)(this.playPauseButton,"sr-blade-pause")))},t.prototype.dispose=function(){this.playPauseButton&&this.playPauseButton.removeEventListener("click",this._controlsBarClick.bind(this))},t}();e.default=u,t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=s(n(6)),i=n(9),o=n(7),a=s(n(16));function s(t){return t&&t.__esModule?t:{default:t}}var u=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.controlsBar=void 0,this.muteControl=void 0}return t.prototype._controlsBarClick=function(){this.controlsBar.getState().muted?this.controlsBar.emit(o.CONTROL_BAR_EVENTS.unmuteControlClick):this.controlsBar.getState().muted||this.controlsBar.emit(o.CONTROL_BAR_EVENTS.muteControlClick)},t.prototype.renderMuteControls=function(t){if(t.controls.sound){this.controlsBar=t,this.muteControl=(0,i.createControl)();var e=document.createElement("div");(0,r.default)(this.muteControl,"sr-blade-right-control"),(0,r.default)(this.muteControl,"sr-blade-volume"),this.controlsBar.getState().muted&&(0,r.default)(this.muteControl,"sr-blade-mute"),this.muteControl.appendChild(e),this.muteControl.addEventListener("click",this._controlsBarClick.bind(this)),this.controlsBar.getContainer().appendChild(this.muteControl)}},t.prototype.setState=function(t){this.muteControl&&this.controlsBar.getState().muted!==t.muted&&void 0!==t.muted&&(t.muted?(0,r.default)(this.muteControl,"sr-blade-mute"):(0,a.default)(this.muteControl,"sr-blade-mute"))},t.prototype.dispose=function(){this.muteControl&&this.muteControl.removeEventListener("click",this._controlsBarClick.bind(this))},t}();e.default=u,t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.getGlobalHls=e.throwHlsError=e.getHls=void 0;var r,i=n(103),o=(r=i)&&r.__esModule?r:{default:r},a=n(1);var s=null,u=(e.getHls=function(){if(!s){var t=l();s=t?(0,a.resolve)(t):(0,o.default)("https://sdk.streamrail.com/hls/0.11.0/hls.js").then(function(){var t=l();return t||u()})}return s},e.throwHlsError=function(){throw new Error("Could not load hls.js")}),l=e.getGlobalHls=function(){var t=window.Hls;if("function"==typeof t){var e=new t;if(["loadSource","attachMedia","on"].every(function(t){return"function"==typeof e[t]}))return t}return null}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=p(n(0)),o=p(n(203)),a=p(n(4)),s=p(n(100)),u=n(9),l=n(7),d=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(5)),c=p(n(102)),f=p(n(264));function p(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e))}var _=function(t){function e(n,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r,i));return o.adParams=o.options.ads.schedule[0].server.tag.adParams,o.setState({globalLoop:0}),o.cache=n.dc?null:{},o.didResume=!1,o.loopEvents=[],o.createContainer(),o.createControlsBar(),o.createSkipButton(),o.createLoader(),o}return h(e,t),e.prototype.createContainer=function(){this.container=(0,u.createContainerWithStyles)("sr-ac"),this.container.style.backgroundColor=this.options.bgColor},e.prototype.createControlsBar=function(){this.options.controls&&this.options.controls.ads&&this.options.controls.ads.show&&(this.controlsBar=new c.default(this.options.controls.ads,(0,i.default)({controlsBarVisible:!0,type:"ad"},this.state)),t.prototype.createControlsBar.call(this),this.container.appendChild(this.controlsBar.el()))},e.prototype.createSkipButton=function(){this.options.skip&&!1!==this.options.skip.enabled&&(this.skipButton=new f.default(this.options.skip,(0,i.default)({skipButtonVisible:!1},this.state)),this.container.appendChild(this.skipButton.el()))},e.prototype.loadAds=function(t){t&&(0,i.default)(this.options,t),this._loadSAM(),this.loader&&this.loader.show()},e.prototype.reset=function(){this.skipButton&&this.skipButton.reset(),this.setState({skipButtonVisible:!1,started:!1,paused:!0,duration:0,remainingTime:0,currentTime:0})},e.prototype.getCreativeData=function(){var t=this,e=atob("X19hZFNvdXJjZXNfXw==");return this.options[e]&&this.options[e].forEach(function(e,n){e.forEach(function(e,r){try{t.adParams.w.t[n].a[r].u=e}catch(t){}})}),{AdParameters:JSON.stringify((0,i.default)(!0,{},this.adParams,{qs:{loop:this.state.globalLoop.toString(),mute:this.state.muted?"1":"0",wc:this.options.withCredentials}},this.options.breakpoint&&!this.didResume?{c:{brp:this.options.breakpoint,brpf:this.options.breakpointFor}}:{}))}},e.prototype._loadSAM=function(){var t=this;this.sam=new o.default,this.setState({globalLoop:this.state.globalLoop+1}),this.loopEvents=[];var e=void 0,n={container:this.container,width:this.options.width,height:this.options.height,scriptNamePrefix:this.options.scriptNamePrefix};this.options.forceSprites||(this.options.isMobile,0)?(n.loadSrVideo=!0,e=(0,u.createSamIframe)(n)):!this.options.forceNative&&this.options.isMobile||(n.loadSrVideo=!1,e=(0,u.createSamIframe)(n)),e||(e=(0,u.canAutoplay)().then(function(t){return n.loadSrVideo=!t,(0,u.createSamIframe)(n)})),e.then(function(e){t.samIframe=e;var n=t.slot=e.contentWindow.sambladeslot;n.style.margin="0";var r=t.videoSlot=t._createVideoElement({doc:e.contentDocument});e.style.position="absolute",e.style.left=0,e.style.top=0,e.style.height=e.style.width="100%",e.style.overflow="hidden",e.style.zIndex=0,n.style.height=n.style.width="100%",r.style.width=t.options.width+"px",r.style.height=t.options.height+"px",r.width=t.options.width,r.height=t.options.height,r.style.position="absolute",r.style.zIndex=0,e.contentDocument.body.insertBefore(r,e.contentDocument.body.firstChild);var i=t.getCreativeData(),o={slot:n,videoSlot:r,videoSlotCanAutoPlay:!0,player:"sr",playerVersion:t.options.playerVersion,srCache:t.cache,document:n.ownerDocument,disableIMA:t.options.disableIMA,hasEndCard:t.options.hasEndCard,appendSources:t.options.appendSources};t.bindEvents(),t.log("AdsPlayer: initAd("+t.options.width+", "+t.options.height+", ...)"),t.sam.initAd(t.options.width,t.options.height,"normal",1e3,i,o)})},e.prototype.bindEvents=function(){var e=this;t.prototype.bindEvents.call(this),Object.keys(a.default).forEach(function(t){e.eventHandlers[t]=e.handleEvent.bind(e,t),e.sam.subscribe(e.eventHandlers[t],t)}),Object.keys(d).forEach(function(t){var n=d[t];e.eventHandlers[n]=e.handleEvent.bind(e,n),e.videoSlot.addEventListener(n,e.eventHandlers[n])}),this.skipButton&&Object.keys(l.SKIP_BUTTON_EVENTS).forEach(function(t){e.eventHandlers[t]=e.handleEvent.bind(e,t),e.skipButton.on(t,e.eventHandlers[t])})},e.prototype.handleEvent=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];switch(t){case a.default.AdLoaded:this.sam.startAd();break;case a.default.AdError:case a.default.AdStopped:case a.default.AdSkipped:this._unloadSAM();break;case a.default.AdVolumeChange:this._onAdVolumeChange();break;case a.default.AdImpression:this._onAdImpression();break;case a.default.AdPlaying:this._onAdPlaying();break;case a.default.AdPaused:this._onAdPaused();break;case a.default.AdDurationChange:this._onAdDurationChange();break;case a.default.AdRemainingTimeChange:this._onAdRemainingTimeChange();break;case a.default.AdVideoStart:this._onAdVideoStart();break;case a.default.AdVideoFirstQuartile:case a.default.AdVideoMidpoint:case a.default.AdVideoThirdQuartile:case a.default.AdVideoComplete:this._onAdRemainingTimeChange();break;case d.VOLUMECHANGE:this._onVideoSlotVolumeChange();break;case a.default.AdClickThru:this._onAdClickThru.apply(this,n);break;case l.SKIP_BUTTON_EVENTS.skipButtonClicked:this._onSkipButtonClick()}-1===this.loopEvents.indexOf(t)&&this.loopEvents.push(t),this.emit.apply(this,[t].concat(n)),d.hasOwnProperty(t.toUpperCase())&&this.apis.privateAPI.emit("ad"+t,n[1])},e.prototype.mute=function(){var e=this;t.prototype.mute.call(this),this.setState({muted:!0}),this.sam&&(this.sam.setAdVolume(0),setTimeout(function(){e._onVideoSlotVolumeChange()},0))},e.prototype.unmute=function(){var e=this;t.prototype.unmute.call(this),this.setState({muted:!1}),this.sam&&(this.sam.setAdVolume(1),setTimeout(function(){e._onVideoSlotVolumeChange()},0))},e.prototype.stopAd=function(){this.sam&&this.sam.stopAd()},e.prototype._onSkipButtonClick=function(){this.stopAd()},e.prototype._onAdDurationChange=function(){if(this.sam){var t=this.sam.getAdDuration();t=(t=t&&t>0?t:0)>=1e3?t/1e3:t,this.setState({duration:t,remainingTime:t}),this.controlsBar&&this.controlsBar.onAdDurationChange(t)}},e.prototype._onAdRemainingTimeChange=function(){if(this.sam){var t=this.sam.getAdRemainingTime();this.setState({remainingTime:t}),this.controlsBar&&this.controlsBar.onAdRemainingTimeChange(t)}},e.prototype._onAdImpression=function(){var t=this;(this.setState({isDuringAd:!0}),this.state.muted)?(0,u.findIFrames)(this.el()).forEach(function(t){(0,u.silenceNoisyElements)(t)}):setTimeout(function(){t.sam&&(t.sam.getAdVolume()<=0&&t.setState({muted:!0}))},0);this.setState({paused:!1,skipButtonVisible:!0,currentTime:0,started:!0}),this.apis.privateAPI.isPausedByAPI()&&this.sam&&this.sam.pauseAd()},e.prototype._onAdVideoStart=function(){this.loader&&this.loader.hide()},e.prototype._onAdVolumeChange=function(){this.sam&&(this.sam.getAdVolume()>0&&this.state.muted&&this.mute())},e.prototype._onAdPlaying=function(){this.setState({paused:!1})},e.prototype._onAdPaused=function(){this._showControlsBar(),this.setState({paused:!0})},e.prototype.setState=function(t){this.state=(0,i.default)(this.state,t),this.state.duration&&"number"==typeof this.state.remainingTime&&(this.state.currentTime=Math.max(this.state.currentTime||0,t.currentTime||0,this.state.remainingTime!==l.UNKNOWN_TIME?parseFloat((this.state.duration-this.state.remainingTime).toFixed(3)):0)),this.controlsBar&&this.controlsBar.setState((0,i.default)({},this.state)),this.skipButton&&this.skipButton.setState((0,i.default)({},this.state)),this._monitorProgress()},e.prototype.play=function(){t.prototype.play.call(this),this.didResume=!0,this.sam&&this.sam.resumeAd()},e.prototype.pause=function(){t.prototype.pause.call(this),this.state.started&&!this.state.paused&&this.sam&&this.sam.pauseAd()},e.prototype.show=function(){t.prototype.show.call(this),this.apis.privateAPI.isPausedByAPI()&&this.pause()},e.prototype.resize=function(t,e){this.log("AdsPlayer: resize("+t+", "+e+")"),this.options.width=t,this.options.height=e,this.samIframe&&(this.samIframe.style.width=t+"px",this.samIframe.style.height=e+"px");try{this.videoSlot&&(this.videoSlot.style.width=t+"px",this.videoSlot.style.height=e+"px",this.videoSlot.width=t,this.videoSlot.height=e)}catch(n){this.samIframe&&this.samIframe.contentWindow.sam_cb_resizeVideoSlot(t,e)}if(this.sam)try{this.sam.resizeAd(t,e,"normal")}catch(t){this.log("AdsPlayer: called resize before sam has been initialized")}},e.prototype._monitorProgress=function(){var t=this;this.state.paused?(clearInterval(this.progressInterval),this.progressInterval=null):this.videoSlot&&!this.progressInterval&&(this.progressInterval=setInterval(function(){t.setState({currentTime:Math.max(t.state.currentTime,t.videoSlot.currentTime)})},200))},e.prototype._onVideoSlotVolumeChange=function(){if(this.videoSlot){var t=this.videoSlot.muted||this.videoSlot.volume<=0||this.videoSlot.hasAttribute("muted");this.state.muted&&!t?(this.videoSlot.muted=!0,this.videoSlot.setAttribute("muted",""),this.videoSlot.volume=0):!this.state.muted&&t&&(this.videoSlot.muted=!1,this.videoSlot.removeAttribute("muted"),this.videoSlot.volume=1)}},e.prototype._onAdClickThru=function(t,e,n){n&&t&&(window.mraid&&window.mraid.open?window.mraid.open(t):window.open(t,"_blank"))},e.prototype._unloadSAM=function(){var t=this,e=this.loopEvents;this.unbindEvents(),this.reset(),this.container.removeChild(this.samIframe),this.sam=this.samIframe=this.videoElement=null,this.setState({isDuringAd:!1}),this.loopEvents=[],setTimeout(function(){t.emit(l.ADS_PLAYER_EVENTS.loopend,{loop:t.state.loop,events:e})},0)},e.prototype.unbindEvents=function(){var e=this;t.prototype.unbindEvents.call(this),Object.keys(a.default).forEach(function(t){try{e.sam.unsubscribe(e.eventHandlers[t],t),e.eventHandlers[t]=void 0}catch(t){}}),Object.keys(d).forEach(function(t){var n=d[t];try{e.videoSlot.removeEventListener(n,e.eventHandlers[n]),e.eventHandlers[n]=void 0}catch(t){}}),this.skipButton&&Object.keys(l.SKIP_BUTTON_EVENTS).forEach(function(t){try{e.skipButton.off(t,e.eventHandlers[t]),e.eventHandlers[t]=void 0}catch(t){}})},e.prototype.isDuringAd=function(){return this.state.isDuringAd},e.prototype.dispose=function(){try{this.unbindEvents(),this.sam&&this.sam.stopAd(),this._unloadSAM()}catch(t){}this.controlsBar&&(this.controlsBar.dispose(),this.controlsBar=null),this.skipButton&&(this.skipButton.dispose(),this.skipButton=null),clearInterval(this.progressInterval),this.progressInterval=this.adParams=this.eventHandlers=this.sam=this.samIframe=this.videoSlot=null,t.prototype.dispose.call(this)},e.prototype.resetResume=function(){this.didResume=!1},r(e,[{key:"currentSrc",get:function(){return this.videoElement&&this.videoElement.src||null}}]),e}(s.default);e.default=_,t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),n(204),n(205);var r=v(n(24)),i=v(n(0)),o=n(11),a=v(o),s=v(n(12)),u=n(3),l=v(n(208)),d=v(n(4)),c=n(256),f=v(c),p=v(n(257)),h=v(n(13)),_=v(n(258));function v(t){return t&&t.__esModule?t:{default:t}}function m(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e))}function y(){}var A=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return n.registry=new _.default,n.off=n.removeListener,n._waterfallManager=null,n._state=f.default.CREATED,n.settings={},n._vpaidEventsListeners={},n._endCardEventListeners={},n._userSessionId=(0,o.getUserSessionId)(),n._disableBreakpoint=!1,n.channelTimeout=null,s.default.setId(n._userSessionId),s.default.log("Ad Manager JS initialized"),n}return m(e,t),e.prototype._bindVPAIDEvents=function(){var t=this,e=function(e,n){(e===d.default.AdStarted?t._state=f.default.AD_STARTED:e===d.default.AdVideoComplete?t._state=f.default.AD_VIDEO_COMPLETE:e===d.default.AdBreakpoint&&(n&&n.breakpoint&&n.breakpoint.adType!==u.AD_TYPES.VAST&&(t._state=f.default.BREAKPOINT_BEFORE_AD_START),t._clearChannelTimeout()),t._state!==f.default.AD_STOPPED)&&((t._waterfallManager._currentAdSource&&t._waterfallManager._currentAdSource.id?t.registry.getTracker(t._waterfallManager._currentAdSource.id):t.registry.getTracker()).reportToThirdParty(e,t._waterfallManager._currentAdSource),e!==d.default.AdStopped&&e!==d.default.AdError||(t._unbindEvents(),t._clearChannelTimeout(),t._state=f.default.AD_STOPPED),s.default.log("dispatchEvent "+e),t._state>=f.default.AD_VIDEO_COMPLETE?setTimeout(function(){t.emit(e,n)},u.EVENT_DELAY_BEFORE_DONE):e===d.default.AdClickThru&&n?t.emit(e,n.url,n.id,n.playerHandles):t.emit(e,n))};this._vpaidEventsListeners=a.default.bindVPAIDEvents(this._waterfallManager,e.bind(this)),this._endCardEventListeners=a.default.bindEvents(this._waterfallManager,e.bind(this),u.END_CARD_EVENTS)},e.prototype._unbindEvents=function(){this._waterfallManager&&(a.default.unbindVPAIDEvents(this._waterfallManager,this._vpaidEventsListeners),a.default.unbindEvents(this._waterfallManager,this._endCardEventListeners,u.END_CARD_EVENTS))},e.prototype._initError=function(t){s.default.log(t),this.registry.getTracker().reportInitError({org:a.default.extractQueryParam("org"),adType:u.REPORT_TYPE.VPAID_JS,error:t}),this.emit(d.default.AdError)},e.prototype._onWaterfallManagerInitialized=function(){s.default.log("dispatched "+d.default.AdLoaded),this.emit(d.default.AdLoaded)},e.prototype._onWaterfallManagerInitializeError=function(){s.default.log("dispatched "+d.default.AdError),this._unbindEvents(),this._clearChannelTimeout(),this.registry.getTracker().reportToThirdParty(d.default.AdError),this.emit(d.default.AdError)},e.prototype._setChannelTimeout=function(t){var e=this;!t||isNaN(t)||this.channelTimeout||(this.channelTimeout=setTimeout(function(){e._state===f.default.AD_STOPPED||e._waterfallManager&&e._waterfallManager.impressionOccurred||(e.registry.getTracker().reportError({action:d.default.AdError,errorcode:u.ERROR_CODES.CHANNEL_TIMEOUT}),e._unbindEvents(),e.emit(d.default.AdError),e._state=f.default.AD_STOPPED)},t))},e.prototype._clearChannelTimeout=function(){clearTimeout(this.channelTimeout),this.channelTimeout=null},e.prototype.getVPAID=function(){return this},e.prototype.handshakeVersion=function(t){return t||"2.0.0"},e.prototype.initAd=function(t,e,n,r,u,d){if(s.default.log("initAd requested"),this._state!==f.default.CREATED)return!1;if(this._state=f.default.INIT_AD_CALLED,!u)return this._initError("creativeData is missing!"),!1;if(!u.AdParameters)return this._initError("creativeData AdParameters missing!"),!1;try{var c=(0,p.default)(t,e,n,r,u.AdParameters,d);s.default.log("onSettingsCreated");try{this.settings.srPlayer=c.environmentVars&&"sr"===c.environmentVars.player,this.settings.srPlayer&&(this.settings.playerVersion=c.environmentVars.playerVersion)}catch(t){}this.settings.sessionId=this._userSessionId||c.configObject&&c.configObject.sid||a.default.getQueryParam(c.queryParams,"SID"),this._userSessionId||(s.default.log("setting user session id to "+this.settings.sessionId),(0,o.setUserSessionId)(this.settings.sessionId),s.default.setId(this.settings.sessionId)),this.settings.isMobile=(0,h.default)(),(0,i.default)(this.settings,c),this.registry.process(this.settings),this.settings.config=this.registry.getConfig(),s.default.log("Registry \n"+this.registry);var _=this.registry.getTracker();_.reportInit(),this.settings.tracker=_,this.settings.registry=this.registry,this.settings.srPlayer&&this.settings.environmentVars&&this.settings.environmentVars.videoSlot&&this.settings.environmentVars.videoSlot.setFetchManifestSettings&&this.settings.environmentVars.videoSlot.setFetchManifestSettings({settings:{trafficChannelId:_.settings.tc,orgId:_.settings.org,bundleId:_.settings.bundleid,domain:_.settings.ddomain}}),this._waterfallManager=new l.default(this.settings),this._disableBreakpoint&&this._waterfallManager.disableBreakpoint(),this._bindVPAIDEvents(),this._waterfallManager.initAd(this.settings.waterfallObject).then(this._onWaterfallManagerInitialized.bind(this)).catch(this._onWaterfallManagerInitializeError.bind(this)),this._setChannelTimeout(this.settings.channelTimeout)}catch(t){s.default.log(t.stack),this._initError(t.message)}return!0},e.prototype.startAd=function(){s.default.log("startAd requested"),this._state===f.default.INIT_AD_CALLED&&(this._state=f.default.START_AD_CALLED,this._waterfallManager.startAd())},e.prototype.resizeAd=function(t,e,n){s.default.log("resizeAd requested "+t+" "+e),t=isNaN(t)?0:Math.round(t),e=isNaN(e)?0:Math.round(e),this.registry.applyOnTrackers("updateDetectedSize",t,e),this._waterfallManager.updateSize(t,e,n,y)},e.prototype.stopAd=function(){s.default.log("stopAd requested"),this._clearChannelTimeout(),this._state!==f.default.AD_STOPPED?(this._unbindEvents(),this._state===f.default.AD_STARTED&&this._waterfallManager.stopAd(y),this._state=f.default.AD_STOPPED,this.registry.dispose(),this.emit(d.default.AdStopped)):this.emit(d.default.AdStopped)},e.prototype.pauseAd=function(){s.default.log("pauseAd requested"),this._state===f.default.AD_STARTED&&this._waterfallManager.pauseAd(y)},e.prototype.resumeAd=function(){s.default.log("resumeAd requested"),this._state<c.MIN_STATE_FOR_RESUME?(this._disableBreakpoint=!0,this._waterfallManager&&(this._setChannelTimeout(this.settings.channelTimeout),this._waterfallManager.disableBreakpoint())):this._waterfallManager.resumeAd(y)},e.prototype.expandAd=function(){s.default.log("expandAd requested"),this._state===f.default.AD_STARTED&&this._waterfallManager.expandAd(y)},e.prototype.collapseAd=function(){s.default.log("collapseAd requested"),this._state===f.default.AD_STARTED&&this._waterfallManager.collapseAd(y)},e.prototype.skipAd=function(){s.default.log("skipAd requested"),this._state===f.default.AD_STARTED&&this._waterfallManager.skipAd(y)},e.prototype.getAdLinear=function(){return s.default.log("getAdLinear called"),!this._waterfallManager||this._waterfallManager.getAdLinear()},e.prototype.getAdWidth=function(){return s.default.log("getAdWidth called"),this._waterfallManager?this._waterfallManager.getAdWidth():this.settings.width},e.prototype.getAdHeight=function(){return s.default.log("getAdHeight called"),this._waterfallManager?this._waterfallManager.getAdHeight():this.settings.height},e.prototype.getAdExpanded=function(){return s.default.log("getAdExpanded called"),!!this._waterfallManager&&this._waterfallManager.getAdExpanded()},e.prototype.getAdSkippableState=function(){return s.default.log("getAdSkippableState called"),!!this._waterfallManager&&this._waterfallManager.getAdSkippableState()},e.prototype.getAdRemainingTime=function(){return s.default.log("getAdRemainingTime called"),this._waterfallManager?this._waterfallManager.getAdRemainingTime():-2},e.prototype.getAdDuration=function(){return s.default.log("getAdDuration called"),this._waterfallManager?this._waterfallManager.getAdDuration():-2},e.prototype.getAdVolume=function(){return s.default.log("getAdVolume called"),this._waterfallManager?this._waterfallManager.getAdVolume():-1},e.prototype.getAdCompanions=function(){return s.default.log("getAdCompanions called"),this._waterfallManager?this._waterfallManager.getAdCompanions():""},e.prototype.getAdIcons=function(){return s.default.log("getAdIcons called"),!!this._waterfallManager&&this._waterfallManager.getAdCompanions()},e.prototype.setAdVolume=function(t){s.default.log("setAdVolume called "+t),this._waterfallManager&&this._waterfallManager.setAdVolume(t)},e.prototype.subscribe=function(t,e,n){this.on(e,t,n)},e.prototype.unsubscribe=function(t,e){this.off(e,t)},e}(r.default);e.default=A,t.exports=e.default},function(t,e){window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""))},function(t,e){if(!window.btoa||!window.atob){var n={PADCHAR:"=",ALPHA:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",makeDOMException:function(){try{return new DOMException(DOMException.INVALID_CHARACTER_ERR)}catch(e){var t=new Error("DOM Exception 5");return t.code=t.number=5,t.name=t.description="INVALID_CHARACTER_ERR",t.toString=function(){return"Error: "+t.name+": "+t.message},t}},getbyte64:function(t,e){var r=n.ALPHA.indexOf(t.charAt(e));if(-1===r)throw n.makeDOMException();return r},decode:function(t){t=""+t;var e=n.getbyte64,r=void 0,i=void 0,o=void 0,a=t.length;if(0===a)return t;if(a%4!=0)throw n.makeDOMException();r=0,t.charAt(a-1)===n.PADCHAR&&(r=1,t.charAt(a-2)===n.PADCHAR&&(r=2),a-=4);var s=[];for(i=0;i<a;i+=4)o=e(t,i)<<18|e(t,i+1)<<12|e(t,i+2)<<6|e(t,i+3),s.push(String.fromCharCode(o>>16,o>>8&255,255&o));switch(r){case 1:o=e(t,i)<<18|e(t,i+1)<<12|e(t,i+2)<<6,s.push(String.fromCharCode(o>>16,o>>8&255));break;case 2:o=e(t,i)<<18|e(t,i+1)<<12,s.push(String.fromCharCode(o>>16))}return s.join("")},getbyte:function(t,e){var r=t.charCodeAt(e);if(r>255)throw n.makeDOMException();return r},encode:function(t){if(1!==arguments.length)throw new SyntaxError("Not enough arguments");var e=n.PADCHAR,r=n.ALPHA,i=n.getbyte,o=void 0,a=void 0,s=[],u=(t=""+t).length-t.length%3;if(0===t.length)return t;for(o=0;o<u;o+=3)a=i(t,o)<<16|i(t,o+1)<<8|i(t,o+2),s.push(r.charAt(a>>18)),s.push(r.charAt(a>>12&63)),s.push(r.charAt(a>>6&63)),s.push(r.charAt(63&a));switch(t.length-u){case 1:a=i(t,o)<<16,s.push(r.charAt(a>>18)+r.charAt(a>>12&63)+e+e);break;case 2:a=i(t,o)<<16|i(t,o+1)<<8,s.push(r.charAt(a>>18)+r.charAt(a>>12&63)+r.charAt(a>>6&63)+e)}return s.join("")}};window.btoa=n.encode,window.atob=n.decode}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){try{var e=document.createElement("a");return e.href=decodeURIComponent(t),e.hostname===r.default.ssp||e.hostname===i.default.ssp}catch(e){return t.indexOf("//"+r.default.ssp)>-1||t.indexOf("//"+i.default.ssp)>-1}};var r=o(n(17)),i=o(n(53));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return!!t&&!!t.match(/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i)},t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=E(n(24)),i=E(n(0)),o=E(n(62)),a=E(n(1)),s=n(11),u=E(s),l=E(n(12)),d=E(n(209)),c=E(n(226)),f=E(n(229)),p=E(n(230)),h=E(n(255)),_=E(n(28)),v=n(3),m=n(4),y=E(m),A=E(n(46));function E(t){return t&&t.__esModule?t:{default:t}}function g(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e))}var S=(0,_.default)();function b(){}var T=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),l.default.log("WaterfallManager CTOR");var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return r.settings=n,r.registry=n.registry,r.adObject={},r.waterfallHelper=void 0,r._currentIntegrator=void 0,r.vpaidEventListeners={},r._currentAdSource=void 0,r._disableBreakpoint=!1,r.initAdObject(n.width,n.height),r}return g(e,t),e.prototype.initAdObject=function(t,e){this.adObject=(0,h.default)({width:t,height:e})},e.prototype.initAd=function(t){var e=this;return l.default.log("WaterfallManager: initAd"),new a.default(function(n,r){t?(l.default.log("WaterfallManager: got waterfall as parameter: "+JSON.stringify(t)),e.waterfallHelper=new p.default(t,e.settings,e._onFoundVAST.bind(e)),e.settings.serial?n():(e.waterfallHelper.getVASTResponseForTier(),e.waterfallHelper.getNextAdSource().then(function(t){e._currentAdSource=t,n()}).catch(function(){l.default.log("did not find any ads to play :("),r()}))):r()})},e.prototype.startAd=function(){this.waterfallHelper?this._tryToPlayAdSource():this.emit(y.default.AdError)},e.prototype.stopAd=function(t){this._currentIntegrator.stopAd(t)},e.prototype.disableBreakpoint=function(){this._disableBreakpoint=!0,this._currentIntegrator&&this._currentIntegrator.disableBreakpoint()},e.prototype._changeAdSource=function(){this._destroyAdSource(),this._tryToPlayAdSource()},e.prototype._bindVPAIDEventsHandler=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this._replacingAdSource){var n=this.registry.getTracker(this._currentAdSource&&this._currentAdSource.id);e.srx&&(delete e.srx,this._currentAdSource.analytics=(0,i.default)(this._currentAdSource.analytics,e));var r=(0,i.default)({action:t},this._currentAdSource.analytics),o={};if(t===y.default.AdBreakpoint&&(o.breakpoint=e),u.default.shouldUpdateAdProperties(t))try{this._populateAdSourceProperties(u.default.getAdPropertiesToUpdate(t))}catch(t){}if(this._currentIntegrator.shouldSampleRemainingTime()){t===y.default.AdVideoStart||t===y.default.AdPlaying?this._activateRemainingTimeSampler():t!==y.default.AdPaused&&t!==y.default.AdStopped&&t!==y.default.AdError||this._deactivateRemainingTimeSampler();var a=m.QUARTILE_EVENTS.indexOf(t);-1!==a&&this._adRemainingTimeCallback&&this._adRemainingTimeCallback(null,this.adObject.adDuration*(1-(a+1)/4))}if(!(t&&t.indexOf("Change")>-1)){if(t===y.default.AdError){if(r.errorcode=e.errorcode||e.code,r.error=e.metadata,n.reportIntegratorError(r),(0,s.incrementAdSourceNoFill)(this._currentAdSource.id),!this.impressionOccurred)return void this._changeAdSource();this._destroyAdSource()}else{if(n.adUnitReport(r),t===y.default.AdLoaded)return;if(t===y.default.AdImpression){if(this.impressionOccurred)return;this.impressionOccurred=!0,this.settings.srPlayer&&(o.adSourceId=this._currentAdSource&&this._currentAdSource.id),void 0!==this._currentAdSource[v.APS.SER[1]]&&(o.srx=!0,o.adsourcerate=this._currentAdSource[v.APS.COST[1]],o.cost=this._currentAdSource[v.APS.SER[1]])}else if(t===y.default.AdClickThru)o.playerHandles=e.playerHandles,o.url=e.url,o.id=e.id;else if(t===y.default.AdStopped){var d=this._currentAdSource;if(this._destroyAdSource(),this.settings.srPlayer&&d&&d.vastResponse&&d.displayEndCard){var c=u.default.chooseCompanion(d.vastResponse.companionAds,this.settings.width,this.settings.height);if(c){var f=d.endCardTime||v.END_CARD_DEFAULT_TIME;return void this._handleEndCard(c,(0,i.default)({},r),f)}}}}l.default.log("WaterfallManager dispatchEvent "+t),this.emit(t,o)}}},e.prototype._handleEndCard=function(t,e,n){var r=this;l.default.log("WaterfallManager showing end card for "+n+" ms"),this._showCompanion(t,this.settings.environmentVars.slot,n,e).then(function(){r.emit(y.default.AdStopped)})},e.prototype._showCompanion=function(t,e,n,r){var o=this;return new a.default(function(a){try{var s=u.default.createEndCardDiv(),d=o.registry.getTracker(o._changeAdSource&&o._changeAdSource.id);if(t.staticResource){var c=u.default.createEndCardStaticResource(t.staticResource),f=u.default.createEndCardLink(t.companionClickThrough);f.appendChild(c),s.appendChild(f),c.onload=function(){l.default.log("WaterfallManager end card loaded"),d.adUnitReport((0,i.default)({},r,{action:v.EVENTS_SHORT_VERSION.END_CARD_VIEW})),(t.trackingEvents||[]).forEach(function(t){"creativeView"===t.name&&(0,A.default)([t.uri])})},s.onclick=function(){l.default.log("WaterfallManager end card click"),d.adUnitReport((0,i.default)({},r,{action:v.EVENTS_SHORT_VERSION.END_CARD_CLICK})),t.companionClickTracking&&(0,A.default)([t.companionClickTracking])}}e.innerHTML="",e.appendChild(s),o.emit(v.END_CARD_EVENTS.EndCardView,{}),setTimeout(function(){(t.trackingEvents||[]).forEach(function(t){"close"===t.name&&(0,A.default)([t.uri])}),a()},n)}catch(t){a()}})},e.prototype._tryToPlayAdSource=function(){var t=this;this._currentAdSource?this._playAdSource(this._currentAdSource):this.waterfallHelper.getNextAdSource().then(function(e){t._currentAdSource=e,t._playAdSource(e)},function(){l.default.log("did not find any ads to play :("),t.emit(y.default.AdError,v.ERRORS.NO_ADS)})},e.prototype._playAdSource=function(t){this.registry.getTracker(t.id).reportWin(t.analytics),l.default.log("finding integrator for ad source");var e=void 0,n=void 0;t.isVAST?(e=c.default,n="VASTIntegrator"):t.isVPAID?(e=d.default,n="VPAIDIntegrator"):t.isIMA&&(e=f.default,n="IMAIntegrator"),l.default.log("starting "+n+" with ad source "+t.id+" ("+t.name+")");var r=this.settings.environmentVars&&this.settings.environmentVars.videoSlot?this.settings.environmentVars.videoSlot:void 0;this.settings.srPlayer&&r&&r.setFetchManifestSettings&&(r.setFetchManifestSettings({settings:{adSourceId:t.id}}),S.fetchManifestSettings=r.setFetchManifestSettings({})),r&&(r.src&&u.default.changeAttr(r,"src","",!0),this.settings.mute&&(r.volume=0,r.muted=!0,r.setAttribute("muted","muted")));var o=(0,i.default)({},this.settings);if(t.isVPAID&&r&&r.parentNode&&this.registry.getConfig().moatID()){var a={vpaid:"",container:r.parentNode,ids:{level1:"js",level2:this.settings.queryParams.org,level3:this.settings.queryParams.tc,level4:t.id},partnerCode:this.registry.getConfig().moatID()};(0,i.default)(o,{moat:a})}this._currentIntegrator=new e(t,o),this.vpaidEventListeners=u.default.bindVPAIDEvents(this._currentIntegrator,this._bindVPAIDEventsHandler.bind(this)),this._disableBreakpoint&&this._currentIntegrator.disableBreakpoint(),this._currentIntegrator.playAd(function(t){t?l.default.log("WaterfallManager playAdCallback "+t):l.default.log("WaterfallManager playAdCallback success")})},e.prototype._destroyAdSource=function(){this._deactivateRemainingTimeSampler(),this._currentIntegrator.destroy(),u.default.unbindVPAIDEvents(this._currentIntegrator,this.vpaidEventListeners),this.vpaidEventListeners={},this._currentIntegrator=void 0,this._currentAdSource=void 0,this._replacingAdSource=!1},e.prototype._getGetterCallback=function(t){var e=this;return function(n,r){if(n)l.default.log("could not get "+t+" from adUnit");else if(e.adObject[t]!==r){l.default.log("updating "+t+" to "+r),e.adObject[t]=r;var i=(0,o.default)(t)+"Change";y.default[i]&&e.emit(i)}}},e.prototype._populateAdSourceProperties=function(t){var e=this;t.forEach(function(t){if(!e._currentIntegrator.shouldSampleRemainingTime()||"adRemainingTime"!==t)try{var n="get"+(0,o.default)(t),r=e._getGetterCallback(t);e._currentIntegrator[n](r)}catch(e){l.default.log("could not get "+t+" from adUnit - "+e.message)}})},e.prototype._onFoundVAST=function(){var t=this;this._replacingAdSource||!this._currentAdSource||this._currentAdSource.isVAST||this.impressionOccurred||!this._currentIntegrator||(l.default.log("replacing current integrator with VAST"),this._replacingAdSource=!0,this._currentIntegrator.stopAd(function(){}),this.registry.getTracker(this._currentAdSource.id).reportReplaceError(this._currentAdSource.analytics),setTimeout(function(){t._changeAdSource()},0))},e.prototype._activateRemainingTimeSampler=function(){var t=this;this.remainingTimeInterval||(this.remainingTimeInterval=setInterval(this._calculateTime.bind(this),100),this._adRemainingTimeCallback=function(e,n){if(e)l.default.log("could not get adRemainingTime from adUnit");else{var r=t.adObject.adRemainingTime;if(r>n||-2===r){l.default.log("updating adRemainingTime to "+n),t.adObject.adRemainingTime=n;var i="AdRemainingTimeChange";y.default[i]&&t.emit(i)}}},this._calculateTime())},e.prototype._calculateTime=function(){this._currentIntegrator&&this._adRemainingTimeCallback?this._currentIntegrator.getAdRemainingTime(this._adRemainingTimeCallback):this._deactivateRemainingTimeSampler()},e.prototype._deactivateRemainingTimeSampler=function(){clearInterval(this.remainingTimeInterval),this.remainingTimeInterval=null,this._adRemainingTimeCallback=null},e.prototype.updateSize=function(t,e,n){this.settings.width=t,this.settings.height=e,this.resizeAd(t,e,n,b)},e}(r.default);v.VPAID_METHODS.forEach(function(t){var e;e=t,T.prototype[e]=function(){if(this._currentIntegrator){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];this._currentIntegrator[e](n)}}}),v.VPAID_PROPERTIES.forEach(function(t){var e="get"+(0,o.default)(t);T.prototype[e]=function(){return this.adObject[t]}}),T.prototype.setAdVolume=function(t){this._currentIntegrator&&this._currentIntegrator.setAdVolume(t,b)},e.default=T,t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=y(n(63)),i=y(n(19)),o=y(n(62)),a=y(n(104)),s=y(n(212)),u=n(3),l=y(n(11)),d=y(n(213)),c=y(n(214)),f=y(n(221)),p=y(n(106)),h=n(4),_=y(h),v=y(n(224)),m=y(n(225));function y(t){return t&&t.__esModule?t:{default:t}}function A(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function E(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e))}var g=f.default;var S=function(t){function e(n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,u.AD_TYPES.VPAID));return i.adSource=n,i.settings=r,i.vastTracker=void 0,i.containerEl=i._createVPAIDContainerEl(),i.techs=[c.default,g].filter(function(t){return!!t}),i.numberOfImpressions=0,i.vpaidEventListeners=null,i.tech=null,i.log("initialized"),i}return E(e,t),e.prototype._createVPAIDContainerEl=function(){var t=document.createElement("div");return t.className="sam-container",t.style.width="100%",t.style.height="100%",this.settings.isMobile||(t.style.position="absolute",t.style.top="-10000px",t.style.left="0"),this.settings.environmentVars&&this.settings.environmentVars.slot?this.settings.environmentVars.slot.appendChild(t):document.body.appendChild(t),t},e.prototype.playAd=function(t){var e=this,n=this._findSupportedTech(this.adSource.vastResponse);if(n&&n instanceof g){var r=new i.default("flash was marked as disabled",u.ERROR_CODES.FLASH_MARKED_AS_DISABLED);t(r),this.emit(_.default.AdError,r)}else if(n)this.tech=n,(0,a.default)([function(t){t(null,n,e.adSource.vastResponse)},this._loadAdUnit.bind(this),this._setupAdUnit.bind(this),this._startAdUnit.bind(this)],function(n,r,i){e.destroyed||(n&&(e.log("playAd error"),e.emit(_.default.AdError,n)),t(n,i))});else{var o=new i.default("failed to find supported tech",u.ERROR_CODES.SUPPORTED_MEDIA_FILE_NOT_FOUND);t(o),this.emit(_.default.AdError,o)}},e.prototype.stopAd=function(t){try{this.wrappedAdUnit.stopAd(t)}catch(t){}},e.prototype._loadAdUnit=function(t,e,n){var r=this;this.log("loading ad unit");var o=this.settings.environmentVars?this.settings.environmentVars.videoSlot:void 0;t.loadAdUnit(this.containerEl,o,function(o,a){o&&(o=t.isHTML5?new i.default("loadAdUnit error",o||u.ERROR_CODES.LOAD_AD_UNIT_FAILED):new i.default(o.message||o,u.ERROR_CODES.LOAD_AD_UNIT_FAILED),n(o,a,e));try{var s={};r.settings.environmentVars&&(s.convertedVideo=!!r.settings.environmentVars.convertedVideo,s.playerSDK=r.settings.environmentVars.playerSDK,s.versionSDK=r.settings.environmentVars.versionSDK,"boolean"==typeof r.settings.environmentVars.videoSlotCanAutoPlay&&(s.videoSlotCanAutoPlay=r.settings.environmentVars.videoSlotCanAutoPlay)),r.wrappedAdUnit=new d.default(a,{src:t.mediaFile.src,config:r.settings.registry.getConfig(),envVarsToPropagate:s}),n(null,r.wrappedAdUnit,e)}catch(t){var l=new i.default("could not init VPAIDAdUnitWrapper",u.ERROR_CODES.EXCEPTION);n(l,a,e)}})},e.prototype._setupAdUnit=function(t,e,n){this.log("handshaking ad unit"),(0,a.default)([function(n){n(null,t,e)},this._handshake.bind(this),this._setupEvents.bind(this)],n)},e.prototype._startAdUnit=function(t,e,n){var r=this;this.log("starting ad unit"),this.pauseOnBreakpoint(u.BREAKPOINTS.MAX,function(){(0,a.default)([function(n){n(null,t,e)},r._initAd.bind(r),r._startAd.bind(r),r._waitForImpression.bind(r)],n)})},e.prototype._handshake=function(t,e,n){t.handshakeVersion("2.0",function(r,o){var a=r&&r.message?r.message:'on VPAIDIntegrator._handshake, unsupported version "'+o+'"',s=new i.default(a,u.ERROR_CODES.HANDSHAKE_VERSION_MISMATCH);return r?n(s,t,e):o&&function(t){var e=function(t){var e=(t||"").toString().split(".");return parseInt(e[0],10)}(t);return e>=1&&e<=2}(o)?n(null,t,e):n(s,t,e)})},e.prototype._initAd=function(t,e,n){this.log("initAd"),t.initAd(this.settings.width,this.settings.height,u.VIEW_MODE.NORMAL,-1,{AdParameters:e.adParameters||""},function(r){r=r?new i.default(r.message||_.default.AdError,u.ERROR_CODES.LOAD_AD_TO):null,n(r,t,e)})},e.prototype._setupEvents=function(t,e,n){var r=this;this.vastTracker=new p.default(t.settings.src,e),this.vpaidEventListeners=l.default.bindVPAIDEvents(t,function(e,n){if(!r.destroyed){try{r.log("VPAIDIntegrator adUnit eventName="+e+" eventData="+JSON.stringify(n))}catch(t){r.log("VPAIDIntegrator adUnit eventName="+e)}var o=void 0;if(o=n&&n.srx?n:n&&n.length>0&&n[0]&&n[0].srx?n[0]:{},h.QUARTILE_EVENTS.indexOf(e)>-1&&0===r.numberOfImpressions)r.log("VPAIDIntegrator - no impression - ignoring event "+e);else{if(e===_.default.AdStopped)r.adStoppedTimeout?(clearTimeout(r.adStoppedTimeout),r.adStoppedTimeout=null):0===r.numberOfImpressions&&(r.log("VPAIDIntegrator - no impression - replacing event "+e+" to AdError"),o=new i.default(_.default.AdError,u.ERROR_CODES.VPAID_STOPPED_WITHOUT_IMPRESSION),e=_.default.AdError);else if(e===_.default.AdError)o=new i.default(_.default.AdError,u.ERROR_CODES.VPAID_ERROR);else if(e===_.default.AdImpression){if(r.numberOfImpressions+=1,r.numberOfImpressions>1)return;r._forcePlaysInline(),r._showContainer(),r._initMoat(t)}else e===_.default.AdVideoComplete?r.hasEndCard||r._checkEndCard()?o.hasEndCard=!0:r.adStoppedTimeout=setTimeout(function(){r.emit(_.default.AdStopped)},1e3):e===_.default.AdClickThru?o=n||{}:e===_.default.AdStarted&&(0,s.default)(r.containerEl,"viralgains.com")&&(r._showContainer(),r.hasEndCard=!0);r.vastTracker.trackEvent(e),r.emit(e,o)}}}.bind(this)),n(null,t,e)},e.prototype._startAd=function(t,e,n){this.log("startAd"),t.startAd(function(r){r=r?new i.default(r.message||_.default.AdError,u.ERROR_CODES.START_AD_TO):null,n(r,t,e)})},e.prototype._waitForImpression=function(t,e,n){var r=this;this.log("waitForImpression"),this.numberOfImpressions>0?n(null,t,e):t.waitForEvent(_.default.AdImpression,function(o){o=o&&0===r.numberOfImpressions?new i.default(o.message||_.default.AdError,u.ERROR_CODES.AD_IMPRESSION_TO):null,n(o,t,e)})},e.prototype._findSupportedTech=function(t){if(!t||"[object VASTResponse]"!==t.toString())return null;for(var e=t.mediaFiles.filter(function(t){return t.isVPAID()}),n=0;n<this.techs.length;n++)for(var r=this.techs[n],i=0;i<e.length;i++){var o=e[i];if(r.supports(o.type))return new r(this.settings,o)}return null},e.prototype._initMoat=function(t){this.tech.isHTML5&&this.settings.moat&&(0,v.default)(t._adUnit._creative,this.settings.moat.container,this.settings.moat.ids,this.settings.moat.partnerCode)},e.prototype._showContainer=function(){this.settings.isMobile||(this.containerEl.style.top=this.containerEl.style.left=0,this.containerEl.style.position="")},e.prototype._forcePlaysInline=function(){this.settings.isMobile&&(0,m.default)("video").forEach(function(t){try{t.setAttribute("webkit-playsinline","webkit-playsinline"),t.setAttribute("playsinline","playsinline")}catch(t){}})},e.prototype.shouldSampleRemainingTime=function(){return!0},e.prototype._checkEndCard=function(){if(this.settings&&this.settings.environmentVars){if("boolean"==typeof this.settings.environmentVars.hasEndCard)return this.settings.environmentVars.hasEndCard;try{if("function"==typeof this.settings.environmentVars.hasEndCard)return this.settings.environmentVars.hasEndCard.call(this,m.default,this.containerEl.ownerDocument.defaultView)}catch(t){return!1}}return!1},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.vpaidEventListeners&&(l.default.unbindVPAIDEvents(this.wrappedAdUnit,this.vpaidEventListeners),this.vpaidEventListeners=null),this.tech&&(this.tech.unloadAdUnit(),this.tech=null),this.wrappedAdUnit=null,this.adSource=null,this.settings=null,this.vastTracker=null,this.containerEl=null,this.techs=null,this.numberOfImpressions=null},e.prototype.techResume=function(t){try{this.wrappedAdUnit.resumeAd(t)}catch(t){}},e.prototype.resizeAd=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.settings.width=e[0]||0,this.settings.height=e[1]||0,(t=this.wrappedAdUnit).resizeAd.apply(t,A(e))},e}(r.default);u.VPAID_METHODS.filter(function(t){return-1===["resumeAd","resizeAd"].indexOf(t)}).forEach(function(t){S.prototype[t]=function(e){try{var n;(n=this.wrappedAdUnit)[t].apply(n,A(e))}catch(t){}}}),u.VPAID_PROPERTIES.forEach(function(t){var e="get"+(0,o.default)(t);S.prototype[e]=function(t){try{this.wrappedAdUnit[e](t)}catch(t){}}}),S.prototype.setAdVolume=function(t,e){try{this.wrappedAdUnit.setAdVolume(t,e)}catch(t){}},e.default=S,t.exports=e.default},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){setTimeout(t,0)},t.exports=e.default},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function e(n){var r=function e(){if(t.length){for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];t[n].apply(null,i)}return e.next()};return r.next=function(){return n<t.length-1?e(n+1):null},r}(0)},t.exports=e.default},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function t(e,n){if(e)return Array.prototype.some.call(e.getElementsByTagName("iframe"),function(e){if(e.src.indexOf(n)>-1)return!0;try{return t(e.contentWindow.document.body,n)}catch(t){return!1}});return!1},t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=u(n(19)),o=u(n(20)),a=u(n(12)),s=u(n(62));function u(t){return t&&t.__esModule?t:{default:t}}function l(){}var d=function(){function t(e,n){var o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._adUnit=e,this.settings=n,this.settings.responseTimeout=n.config.vpaidAdResponseTimeout(),this.settings.responseTimeouts={AdLoaded:n.config.vpaidAdLoadTimeout(),AdStarted:n.config.vpaidAdStartedTimeout(),AdImpression:n.config.vpaidAdImpressionTimeout()};!function(t,e){if(!t||!o.checkVPAIDInterface(t))throw new i.default("on VPAIDAdUnitWrapper, the passed VPAID adUnit does not fully implement the VPAID interface");if(e&&"object"!==(void 0===e?"undefined":r(e)))throw new i.default("on VPAIDAdUnitWrapper, expected settings hash  but got '"+e+"'")}(e,n)}return t.prototype.checkVPAIDInterface=function(t){for(var e,n=["handshakeVersion","initAd","startAd","stopAd","resizeAd","pauseAd","expandAd","collapseAd"],r=0,i=n.length;r<i;r++)if(!t||"function"!=typeof t[n[r]])return!1;return("function"==typeof(e=t).subscribe||"function"==typeof e.addEventListener||"function"==typeof e.on)&&function(t){return"function"==typeof t.unsubscribe||"function"==typeof t.removeEventListener||"function"==typeof t.off}(t)},t.prototype.adUnitAsyncCall=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.shift(),a=e.pop(),s=void 0;!function(t,e,n){if(!(0,o.default)(t)||"function"!=typeof n[t])throw new i.default("on VPAIDAdUnitWrapper.adUnitAsyncCall, invalid method name");if("function"!=typeof e)throw new i.default("on VPAIDAdUnitWrapper.adUnitAsyncCall, missing callback")}(r,a,this._adUnit),e.push(function(){s&&clearTimeout(s),a.apply(this,arguments)}),this._adUnit[r].apply(this._adUnit,e),s=setTimeout(function(){s=null,a(new i.default("on VPAIDAdUnitWrapper, timeout while waiting for a response on call '"+r+"'")),a=l},this.settings.responseTimeout)},t.prototype.on=function(t,e){(this._adUnit.addEventListener||this._adUnit.subscribe||this._adUnit.on).call(this._adUnit,t,e)},t.prototype.off=function(t,e){(this._adUnit.removeEventListener||this._adUnit.unsubscribe||this._adUnit.off).call(this._adUnit,t,e)},t.prototype.waitForEvent=function(t,e,n){var r=this.settings.responseTimeouts[t]||this.settings.responseTimeout;a.default.log("VPAIDAdUnitWrapper waitForEvent "+t+" for "+r);var s=void 0;!function(t,e){if(!(0,o.default)(t))throw new i.default("on VPAIDAdUnitWrapper.waitForEvent, missing evt name");if("function"!=typeof e)throw new i.default("on VPAIDAdUnitWrapper.waitForEvent, missing callback")}(t,e),n=n||null,this.on(t,function(){s&&(clearTimeout(s),s=null);for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];r.unshift(null),e.apply(n,r)}),s=setTimeout(function(){var n="VPAIDAdUnitWrapper.waitForEvent, timeout while waiting for event "+t;a.default.log(n),e(new i.default(n)),s=null,e=l},r)},t.prototype.handshakeVersion=function(t,e){this.adUnitAsyncCall("handshakeVersion",t,e)},t.prototype.initAd=function(t,e,n,r,i,o){this.waitForEvent("AdLoaded",o),this._adUnit.initAd(t,e,n,r,i,this.settings.envVarsToPropagate)},t.prototype.resizeAd=function(t,e,n,r){this.adUnitAsyncCall("resizeAd",t,e,n,r)},t.prototype.startAd=function(t){this.waitForEvent("AdStarted",t),this._adUnit.startAd()},t.prototype.stopAd=function(t){this.waitForEvent("AdStopped",t),this._adUnit.stopAd()},t.prototype.pauseAd=function(t){this.waitForEvent("AdPaused",t),this._adUnit.pauseAd()},t.prototype.resumeAd=function(t){this.waitForEvent("AdPlaying",t),this._adUnit.resumeAd()},t.prototype.expandAd=function(t){this.waitForEvent("AdExpandedChange",t),this._adUnit.expandAd()},t.prototype.collapseAd=function(t){this.waitForEvent("AdExpandedChange",t),this._adUnit.collapseAd()},t.prototype.skipAd=function(t){this.waitForEvent("AdSkipped",t),this._adUnit.skipAd()},t.prototype.setAdVolume=function(t,e){this.adUnitAsyncCall("setAdVolume",t,e)},t}();["adLinear","adWidth","adHeight","adExpanded","adSkippableState","adRemainingTime","adDuration","adVolume","adCompanions","adIcons"].forEach(function(t){var e="get"+(0,s.default)(t);d.prototype[e]=function(t){this.adUnitAsyncCall(e,t)}}),e.default=d,t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=u(n(19)),i=u(n(215)),o=u(n(32)),a=n(3),s=u(n(12));function u(t){return t&&t.__esModule?t:{default:t}}var l=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.settings=e,this.mediaFile=n,this.containerEl=void 0,this.vpaidHTMLClient=void 0,this.isHTML5=!0}return t.prototype.loadAdUnit=function(t,e,n){try{!function(t,e,n){if(!t)throw new r.default(a.ERRORS.INVALID_DOM_CONTAINER_EL);if(!e)throw new r.default(a.ERRORS.INVALID_DOM_CONTAINER_EL);if("function"!=typeof n)throw new r.default(a.ERRORS.MISSING_CALLBACK)}(t,e,n)}catch(t){return void n(t)}this.containerEl=t,this.vpaidHTMLClient=new i.default(t,e,{},null,this.settings),this.vpaidHTMLClient.loadAdUnit(this.mediaFile.src,n)},t.prototype.unloadAdUnit=function(){if(this.vpaidHTMLClient){try{this.vpaidHTMLClient.destroy()}catch(t){s.default.log("VAST ERROR: trying to unload the VPAID adUnit")}this.vpaidHTMLClient=null}this.containerEl&&((0,o.default)(this.containerEl),this.containerEl=null)},t}();l.supports=function(t){return t&&(t.indexOf("javascript")>-1||t.indexOf("ecmascript")>-1||t.indexOf("jscript")>-1||t.indexOf("livescript")>-1)},e.default=l,t.exports=e.default},function(t,e,n){(function(e){var r=a(n(0)),i=a(n(41)),o=a(n(42));function a(t){return t&&t.__esModule?t:{default:t}}var s=n(105),u=s.unique("vpaidIframe"),l=n(216),d=n(219),c=n(220),f=n(13);function p(t,n,r,i,o){r=r||{},this._id=u(),this._destroyed=!1,this._frameContainer=s.createElementInEl(t,"div"),this._videoEl=n,this._vpaidOptions=i||{timeout:1e4},this._vpaidIntegratorOptions=o||{},this._templateConfig={template:r.template||(e.env.MOBILE_VPAID_BOOTSTRAP_SCRIPT_NAME&&f()?c:d),extraOptions:r.extraOptions||{}}}function h(){try{(function(){this._adUnit&&(this._adUnit._destroy(),delete this._adUnit)}).call(this),_.call(this)}catch(t){}}function _(){v.call(this),function(t){var e=this[t];e&&(e.remove?e.remove():e.parentNode.removeChild(e),delete this[t])}.call(this,"_frame")}function v(){this._onLoad&&(this._onLoad.__isGlobalOn&&this._onLoad.__isGlobalOn[this.callbackName]&&(this._onLoad.__isGlobalOn[this.callbackName]=null,this._onLoad.__isGlobalOn=null),s.clearCallbackTimeout(this._onLoad),delete this._onLoad)}p.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,h.call(this))},p.prototype.isDestroyed=function(){return this._destroyed},p.prototype.loadAdUnit=function(t,a){(function(){if(this._destroyed)throw new Error("VPAIDHTML5Client already destroyed!")}).call(this),h.call(this);window.location.protocol,window.location.host;this._iframeID=this.getID()+(new Date).getTime(),this.callbackName="vpaid_callback_"+this._iframeID,this._onLoad=s.callbackTimeout(this._vpaidOptions.timeout,d.bind(this),c.bind(this));var u=this._frameContainer&&this._frameContainer.ownerDocument&&this._frameContainer.ownerDocument.defaultView;if(u&&u!==window)try{u[this.callbackName]=this._onLoad,this._onLoad.__isGlobalOn=u}catch(t){setTimeout(s.callbackTimeout(this._vpaidOptions.timeout,d.bind(this),c.bind(this)).bind(this,!0),Math.max(0,this._vpaidOptions.timeout-100))}else window[this.callbackName]=this._onLoad,this._onLoad.__isGlobalOn=window;function d(t){var e,n,r;if(t){if(this._frame&&this._frame.contentWindow?(r=this._frame.contentWindow.getVPAIDAd,e=s.validate("function"==typeof r,"114")):e="116",!e){var i=this._frame.contentWindow.document.querySelector(".ad-element");n=new l(r(),i,this._videoEl,this._frame),e=s.validate(n.isValidVPAIDAd(),"115")}}else e="118";return this._adUnit=n,v.call(this),a(e,e?null:n),!0}function c(){a("117",null)}this._frame=(0,i.default)(),this._frame.marginWidth="0",this._frame.marginHeight="0",this._frame.frameBorder="0",this._frame.width="100%",this._frame.height="100%",this._frame.style.position="absolute",this._frame.style.left="0",this._frame.style.top="0",this._frame.style.margin="0px",this._frame.style.padding="0px",this._frame.style.border="none",this._frame.setAttribute("SCROLLING","NO"),this._frameContainer.appendChild(this._frame),(0,o.default)(this._frame,s.simpleTemplate(this._templateConfig.template,(0,r.default)({mobileVPAIDBootstrap_JS:""+n.p+e.env.MOBILE_VPAID_BOOTSTRAP_SCRIPT_NAME+".js",iframeURL_JS:t,iframeID:this._iframeID},this._templateConfig.extraOptions)))},p.prototype.unloadAdUnit=function(){h.call(this)},p.prototype.getID=function(){return this._id},t.exports=p}).call(this,n(8))},function(t,e,n){(function(e){var r=n(0),i=n(217),o=n(218),a=i.checkVPAIDInterface,s=n(105),u="AdError",l="AdClickThru",d=i.EVENTS.filter(function(t){return t!=l});function c(t,e,n,r){this._isValid=a(t),this._isValid&&(this._eventHandlers=[],this._creative=t,this._el=e,this._videoEl=n,this._subscribers=new o,function(){d.forEach(function(t){var e=function(t){this._subscribers.trigger(t,Array.prototype.slice.call(arguments,1))}.bind(this,t);this._eventHandlers.push({event:t,handler:e}),this._creative.subscribe(e,t)}.bind(this));var t=function(t,e,n){this._subscribers.triggerSync(l,{url:t,id:e,playerHandles:n})}.bind(this);this._eventHandlers.push({event:l,handler:t}),this._creative.subscribe(t,l)}.call(this))}function f(t,e,n,r){t?t(n,r):n&&e.trigger(u,n)}d.push("EndCardView"),c.prototype=Object.create(i.prototype),c.prototype.isValidVPAIDAd=function(){return this._isValid},i.METHODS.forEach(function(t){-1===["subscribe","unsubscribe","initAd"].indexOf(t)&&(c.prototype[t]=function(){var e=i.prototype[t].length,n=Array.prototype.slice.call(arguments),r=e===n.length?n.pop():void 0;setTimeout(function(){var e,i=null;try{e=this._creative[t].apply(this._creative,n)}catch(t){i=t}f(r,this._subscribers,i,e)}.bind(this),0)})}),c.prototype.initAd=function(t,n,i,o,a,s,u){a=a||{};var l={slot:this._el,videoSlot:this._videoEl};this._videoEl&&this._videoEl.srvideo&&"pepsi"===this._videoEl["data-player-type"]?l.convertedVideo=!0:l.convertedVideo=!1,e.env.PLAYER_SDK&&(l.playerSDK=e.env.PLAYER_SDK),e.env.SDK_VERSION&&(l.versionSDK=e.env.SDK_VERSION),s=r(l,s||{}),setTimeout(function(){var e;try{this._creative.initAd(t,n,i,o,a,s)}catch(t){e=t}f(u,this._subscribers,e)}.bind(this),0)},c.prototype.subscribe=function(t,e,n){this._subscribers.subscribe(e,t,n)},c.prototype.unsubscribe=function(t,e){this._subscribers.unsubscribe(e,t)},c.prototype.on=c.prototype.subscribe,c.prototype.off=c.prototype.unsubscribe,i.GETTERS.forEach(function(t){c.prototype[t]=function(e){setTimeout(function(){var n,r=null;try{n=this._creative[t]()}catch(t){r=t}f(e,this._subscribers,r,n)}.bind(this),0)}}),c.prototype.setAdVolume=function(t,e){setTimeout(function(){var n,r=null;try{this._creative.setAdVolume(t),n=this._creative.getAdVolume()}catch(t){r=t}r||(r=s.validate(n===t,"failed to apply volume: "+t)),f(e,this._subscribers,r,n)}.bind(this),0)},c.prototype._destroy=function(){var t=this;this._eventHandlers.forEach(function(e){var n=e.event,r=e.handler;try{t._creative.unsubscribe(r,n)}catch(t){}}),this._subscribers.unsubscribeAll(),this._eventHandlers=null,this._creative=null,this._el=null,this._videoEl=null},t.exports=c}).call(this,n(8))},function(t,e){var n=["handshakeVersion","initAd","startAd","stopAd","skipAd","resizeAd","pauseAd","resumeAd","expandAd","collapseAd","subscribe","unsubscribe"];function r(t,e,n){}r.prototype.handshakeVersion=function(t,e){},r.prototype.initAd=function(t,e,n,r,i,o,a){},r.prototype.startAd=function(t){},r.prototype.stopAd=function(t){},r.prototype.skipAd=function(t){},r.prototype.resizeAd=function(t,e,n,r){},r.prototype.pauseAd=function(t){},r.prototype.resumeAd=function(t){},r.prototype.expandAd=function(t){},r.prototype.collapseAd=function(t){},r.prototype.subscribe=function(t,e,n){},r.prototype.unsubscribe=function(t,e){},r.prototype.getAdLinear=function(t){},r.prototype.getAdWidth=function(t){},r.prototype.getAdHeight=function(t){},r.prototype.getAdExpanded=function(t){},r.prototype.getAdSkippableState=function(t){},r.prototype.getAdRemainingTime=function(t){},r.prototype.getAdDuration=function(t){},r.prototype.getAdVolume=function(t){},r.prototype.getAdCompanions=function(t){},r.prototype.getAdIcons=function(t){},r.prototype.setAdVolume=function(t,e){},o(r,"METHODS",n),o(r,"GETTERS",["getAdLinear","getAdWidth","getAdHeight","getAdExpanded","getAdSkippableState","getAdRemainingTime","getAdDuration","getAdVolume","getAdCompanions","getAdIcons"]),o(r,"SETTERS",["setAdVolume"]),o(r,"EVENTS",["AdLoaded","AdStarted","AdStopped","AdSkipped","AdSkippableStateChange","AdSizeChange","AdLinearChange","AdDurationChange","AdExpandedChange","AdRemainingTimeChange","AdVolumeChange","AdImpression","AdVideoStart","AdVideoFirstQuartile","AdVideoMidpoint","AdVideoThirdQuartile","AdVideoComplete","AdClickThru","AdInteraction","AdUserAcceptInvitation","AdUserMinimize","AdUserClose","AdPaused","AdPlaying","AdLog","AdError"]);var i=n.filter(function(t){return-1===["skipAd"].indexOf(t)});function o(t,e,n){Object.defineProperty(t,e,{writable:!1,configurable:!1,value:n})}o(r,"checkVPAIDInterface",function(t){return i.every(function(e){return"function"==typeof t[e]})}),t.exports=r},function(t,e){function n(){this._subscribers={}}n.prototype.subscribe=function(t,e,n){this.get(e).push({handler:t,context:n})},n.prototype.unsubscribe=function(t,e){this._subscribers[e]=t?this.get(e).filter(function(e){return t!==e.handler}):[]},n.prototype.unsubscribeAll=function(){this._subscribers={}},n.prototype.trigger=function(t,e){var n=this;n.get(t).forEach(function(r){setTimeout(function(){n.get(t)&&r.handler.call(r.context,e)},0)})},n.prototype.triggerSync=function(t,e){this.get(t).forEach(function(t){t.handler.call(t.context,e)})},n.prototype.get=function(t){return this._subscribers[t]||(this._subscribers[t]=[]),this._subscribers[t]},t.exports=n},function(t,e){t.exports='<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <style>\n\t\thtml {\n\t\t\theight: 100%;\n\t\t\twidth: 100%;\n\t\t}\n\t\tbody {\n\t\t\tmargin: 0;\n\t\t\tpadding: 0;\n\t\t\theight: 100%;\n\t\t\twidth: 100%;\n\t\t}\n\t\t.ad-element {\n\t\t\theight: 100%;\n\t\t\twidth: 100%;\n\t\t}\n\t</style>\n</head>\n<body>\n\t<div class="ad-element">\n\t</div>\n\t<script>\n\t\tfunction notifyReady(success) {\n\t\t\tvar parentCallback = parent["vpaid_callback_{{iframeID}}"];\n\t\t\tif (typeof parentCallback === \'function\'){\n\t\t\t\tparentCallback(success);\n\t\t\t}\n\t\t}\n\t<\/script>\n    <script type="text/javascript" src="{{iframeURL_JS}}" onload="notifyReady(true)" onerror="notifyReady(false)"><\/script>\n</body>\n</html>\n'},function(t,e){t.exports='<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <style>\n\t\thtml {\n\t\t\theight: 100%;\n\t\t\twidth: 100%;\n\t\t}\n\t\tbody {\n\t\t\tmargin: 0;\n\t\t\tpadding: 0;\n\t\t\theight: 100%;\n\t\t\twidth: 100%;\n\t\t}\n\t\t.ad-element {\n\t\t\theight: 100%;\n\t\t\twidth: 100%;\n\t\t}\n\t</style>\n</head>\n<body>\n    <script src="{{mobileVPAIDBootstrap_JS}}"><\/script>\n    <script type="text/javascript" src="{{iframeURL_JS}}"><\/script>\n    <script>\n        if (!window.location.origin) {\n            window.location.origin = window.location.protocol + "//" + window.location.hostname + (window.location.port ? \':\' + window.location.port: \'\');\n        }\n\n\t\tif (document.readyState !== \'loading\') {\n\t\t\tnotifyReady();\n\t\t} else {\n\t\t\tdocument.addEventListener(\'DOMContentLoaded\', notifyReady);\n\t\t}\n\n\t\tfunction notifyReady() {\n\t\t\tparent.postMessage(\'{"event": "ready", "id": "{{iframeID}}", "vendor": "streamrail"}\', \'*\');\n\t\t}\n    <\/script>\n    <div class="ad-element">\n    </div>\n</body>\n</html>\n'},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.prototype.loadAdUnit=function(){},t.prototype.unloadAdUnit=function(){},t}();n.supports=function(){return!1},e.default=n,t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=[];(e=e||{}).CACHEBUSTING||(e.CACHEBUSTING=Math.round(1e10*Math.random()));return t.forEach(function(t){n.push((0,o.default)(t,e))}),n};var r,i=n(107),o=(r=i)&&r.__esModule?r:{default:r};t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=t+"";if(e=(0,o.default)(e)?e:0,t=(0,o.default)(t)?t:parseInt(t,10),(0,o.default)(t)&&!isNaN(t)){for(n=t+"";n.length<e;)n="0"+n;return n}return"NaN"};var r,i=n(65),o=(r=i)&&r.__esModule?r:{default:r};t.exports=e.default},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n,r){var i=document.createElement("script"),o={events:[],addEvent:function(t){s.sendEvent?(o.events&&(s.sendEvent(o.events),o.events=!1),s.sendEvent(t)):o.events.push(t)}},a=function(e){return function(){var n,r=-1;if(t&&t.getAdVolume&&(n=t.getAdVolume()),"number"==typeof n&&!isNaN(n)&&n>=0&&(r=n),o.addEvent({type:e,adVolume:r}),-1!==f.indexOf(e)&&t&&t.unsubscribe&&!c)for(var i in c=!0,d)if(d.hasOwnProperty&&d.hasOwnProperty(i))try{t.unsubscribe(d[i],i)}catch(t){}}},s={adData:{ids:n,vpaid:t,build:"cc07a80-clean"},dispatchEvent:o.addEvent};n="_moatApi"+Math.floor(1e8*Math.random());var u,l,d={AdStarted:a("AdStarted"),AdStopped:a("AdStopped"),AdSkipped:a("AdSkipped"),AdLoaded:a("AdLoaded"),AdLinearChange:a("AdLinearChange"),AdSizeChange:a("AdSizeChange"),AdExpandedChange:a("AdExpandedChange"),AdSkippableStateChange:a("AdSkippableStateChange"),AdDurationChange:a("AdDurationChange"),AdRemainingTimeChange:a("AdRemainingTimeChange"),AdVolumeChange:a("AdVolumeChange"),AdImpression:a("AdImpression"),AdClickThru:a("AdClickThru"),AdInteraction:a("AdInteraction"),AdVideoStart:a("AdVideoStart"),AdVideoFirstQuartile:a("AdVideoFirstQuartile"),AdVideoMidpoint:a("AdVideoMidpoint"),AdVideoThirdQuartile:a("AdVideoThirdQuartile"),AdVideoComplete:a("AdVideoComplete"),AdUserAcceptInvitation:a("AdUserAcceptInvitation"),AdUserMinimize:a("AdUserMinimize"),AdUserClose:a("AdUserClose"),AdPaused:a("AdPaused"),AdPlaying:a("AdPlaying"),AdError:a("AdError")},c=!1,f=["AdStopped","AdSkipped","AdVideoComplete"];!function(){if(t&&t.subscribe)for(var e in d)d.hasOwnProperty&&d.hasOwnProperty(e)&&t.subscribe(d[e],e)}();try{u=e.ownerDocument,l=u.defaultView||u.parentWindow}catch(t){u=document,l=window}return l[n]=s,i.type="text/javascript",e&&e.insertBefore(i,e.childNodes[0]||null),i.src="https://z.moatads.com/"+r+"/moatvideo.js#"+n,s},t.exports=e.default},function(t,e){function n(t){try{var e=t.contentWindow||t,r=Array.prototype.slice.call(t.frames,0);return[].concat.apply([e],r.map(n))}catch(t){return[]}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;return[].concat.apply([],n(e).map(function(e){return e&&e.document&&e.document.querySelectorAll?Array.prototype.slice.call(e.document.querySelectorAll(t),0):[]}))},t.exports=e.default},function(t,e,n){(function(r){Object.defineProperty(e,"__esModule",{value:!0});var i=A(n(63)),o=A(n(19)),a=A(n(227)),s=A(n(20)),u=A(n(104)),l=A(n(60)),d=A(n(64)),c=A(n(228)),f=n(3),p=A(n(11)),h=A(n(4)),_=n(5),v=A(n(13)),m=A(n(32)),y=A(n(12));function A(t){return t&&t.__esModule?t:{default:t}}function E(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e))}var g=function(t){function e(n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,f.AD_TYPES.VAST));if(o.adSource=n,o.settings=i,o.slot=i.environmentVars?i.environmentVars.slot:void 0,o.videoSlot=i.environmentVars?i.environmentVars.videoSlot:void 0,"true"===r.env.VAST_INLINE_VIDEO){var a=o.createInlineVideoWrapper(),s=a.video,u=a.wrapper;o.videoSlot=s,o.inlineVideoWrapper=u,o.slot.appendChild(u)}return o.updateBlockerInterval=void 0,o.skipStateIterval=void 0,o.skipState=!1,o.adExpanded=!1,o.remainingTime=-2,o.adDuration=-2,o.hadImpression=!1,o.trackVideoError=o._trackVideoError.bind(o),o._allMediaFiles=[],o.log("initialized"),o}return E(e,t),e.prototype.createInlineVideoWrapper=function(){var t=document.createElement("div"),e=document.createElement(((0,v.default)(),"video"));e.height=this.settings.height,e.width=this.settings.width,this.settings.muted&&e.setAttribute("muted","muted");var n=document.createElement("style");return n.innerHTML=r.env.SR_VIDEO_CSS,t.appendChild(n),t.appendChild(e),{wrapper:t,video:e}},e.prototype.removeInlineVideoWrapper=function(){this.inlineVideoWrapper&&((0,m.default)(this.videoSlot),(0,m.default)(this.inlineVideoWrapper),this.videoSlot=this.inlineVideoWrapper=null)},e.prototype.playAd=function(t){var e=this;if(this._canPlayVAST())(0,u.default)([function(t){t(null,e.adSource.vastResponse)},this._selectAdSource.bind(this),this._createVASTTracker.bind(this),this._addClickThrough.bind(this),this._addSkipButton.bind(this),this._setupEvents.bind(this),this._playSelectedAd.bind(this)],function(e,n){t(e,n)});else{var n=new o.default("missing slot or videoSlot",f.ERROR_CODES.MISSING_SLOT_OR_VIDEO_SLOT);this.emit(h.default.AdError,n)}},e.prototype._canPlayVAST=function(){return this.slot&&this.videoSlot},e.prototype._selectAdSource=function(t,e){var n=this,r=this.settings.width;if(this._allMediaFiles=t.mediaFiles,this.settings.environmentVars.appendSources||(this._allMediaFiles=this._allMediaFiles.filter(function(t){return n.videoSlot.canPlayType(t.type)})),this._allMediaFiles.sort(function(t,e){var i=f.CAN_PLAY_TYPE_SCORES[n.videoSlot.canPlayType(t.type)],o=f.CAN_PLAY_TYPE_SCORES[n.videoSlot.canPlayType(e.type)];return i===o?Math.abs(r-t.width)-Math.abs(r-e.width):o-i}),this._allMediaFiles.length)t.duration>=1e3&&(t.duration=t.duration/1e3),this.adDuration=t.duration,e(null,t),this.emit(h.default.AdLoaded);else{var i=new o.default("Could not find Ad Media File supported by this player",f.ERROR_CODES.SUPPORTED_MEDIA_FILE_NOT_FOUND);e(i,t),this.emit(h.default.AdError,i)}},e.prototype._createVASTTracker=function(t,e){try{this.tracker=new c.default(this._allMediaFiles[0]?this._allMediaFiles[0].src:"",t),e(null,this.tracker,t)}catch(n){e(n,t)}},e.prototype._addClickThrough=function(t,e,n){var r=this,i=this.videoSlot,o=this.slot,u=function(t,e,n){var i=r&&r.settings&&r.settings.queryParams&&r.settings.queryParams.env,o=i===f.ENV_TYPES.MOBILE_APP[0]||i===f.ENV_TYPES.MOBILE_APP[1],a=window.document.createElement(o?"div":"a"),u=n.clickThrough,d=r.settings.registry.getConfig().clickThruText();d?(a.innerHTML=d,a.style.left="1px",a.style.bottom="1px",a.style.color="white",a.style.fontFamily="sans-serif",a.style.textDecoration="none"):(a.style.height="100%",a.style.width="100%",a.style.top=0,a.style.left=0,a.style.right=0,a.style.bottom=0);a.style.display="block",a.style.position="absolute",a.style.margin=0,a.style.padding=0,a.href=p(u,t),(0,s.default)(u)&&(a.target="_blank");return a.onclick=function(n){return r.settings&&r.settings.registry&&r.settings.registry.getConfig().disableBufferingVastClick()&&r.videoSlot&&r.videoSlot.readyState<3?(r.emit(h.default.AdBufferingClickThru),void 0!==window.Event.prototype.stopPropagation&&n.stopPropagation(),!1):t.paused&&!t.forceNotPaused?(r.resumeAd(),void 0!==window.Event.prototype.stopPropagation&&n.stopPropagation(),!1):(o&&(window.mraid&&"function"==typeof window.mraid.open?window.mraid.open(a.href):(0,l.default)().open(a.href,"_blank")),r.pauseAd(),e.trackEvent(h.default.AdClickThru),void r.emit(h.default.AdClickThru))},a}(i,t,e),c=function(t,e,n){t.href=p(e.clickThrough,n)}.bind(this,u,e,i);function p(t,e){var n={ASSETURI:r._allMediaFiles[0].src,CONTENTPLAYHEAD:(0,d.default)(1e3*e.currentTime)};return t?(0,a.default)(t,n):"#"}o.appendChild(u),this.updateBlockerInterval=setInterval(function(){c()},250),n(null,t,e)},e.prototype._addSkipButton=function(t,e,n){var r=this;e.skipoffset&&(this.skipStateIterval=setInterval(function(){1e3*r.videoSlot.currentTime>=e.skipoffset&&(clearInterval(r.skipStateIterval),r.skipStateIterval=void 0,r.skipState=!0,t.trackEvent(h.default.AdSkippableStateChange),r.emit(h.default.AdSkippableStateChange))},250)),n(null,t,e)},e.prototype._setupEvents=function(t,e,n){var r=this.videoSlot,i=this;function o(){var t=r.duration;"number"!=typeof t||isNaN(t)||t===1/0||(i.adDuration=t,i.adSource&&i.adSource.vastResponse&&(i.adSource.vastResponse.duration=t)),i.emit(h.default.AdDurationChange)}function a(){}function s(){i.hadImpression||(i.hadImpression=!0,r.removeEventListener("playing",s),r.removeEventListener("play",s),t.trackEvent(h.default.AdImpression,!0),t.trackEvent(h.default.creativeView,!0),i.emit(h.default.AdImpression))}function u(){r.addEventListener("playing",l),t.trackEvent(h.default.AdPaused),i.emit(h.default.AdPaused)}function l(){r.removeEventListener("playing",l),t.trackEvent(h.default.AdPlaying),i.emit(h.default.AdPlaying)}function d(){i.currentTime=r.currentTime;var e=t.trackTimeUpdate(i.currentTime);e&&i.emit(e),isNaN(i.adDuration)||isNaN(i.currentTime)||(i.remainingTime=i.adDuration-i.currentTime,i.emit(h.default.AdRemainingTimeChange))}function c(){r.volume?t.trackEvent(h.default.AdUnMute):t.trackEvent(h.default.AdMute),i.emit(h.default.AdVolumeChange)}function f(){y.default.log("trackEnded"),t.trackEvent(h.default.AdStopped),i.emit(h.default.AdStopped),function(){r.removeEventListener("resize",a),r.removeEventListener("playing",s),r.removeEventListener("play",s),r.removeEventListener("pause",u),r.removeEventListener("timeupdate",d),r.removeEventListener("volumechange",c),r.removeEventListener("ended",f),r.removeEventListener("loadedmetadata",o),r.removeEventListener(_.ERROR,this.trackVideoError)}()}r.addEventListener("resize",a),r.addEventListener("playing",s),r.addEventListener("play",s),r.addEventListener("pause",u),r.addEventListener("timeupdate",d),r.addEventListener("volumechange",c),r.addEventListener("ended",f),r.addEventListener("loadedmetadata",o),r.addEventListener(_.ERROR,this.trackVideoError),n(null,e)},e.prototype._playSelectedAd=function(){var t=this,e=this.videoSlot;this.emit(h.default.AdStarted),e.srvideo||1===this._allMediaFiles.length||!this.settings.environmentVars.appendSources?e.src=this._allMediaFiles[0].src:this._allMediaFiles.forEach(function(n){var r=document.createElement("source");r.setAttribute("src",n.src),r.setAttribute("type",n.type),r.addEventListener(_.ERROR,t.trackVideoError),e.appendChild(r)}),p.default.safeMediaMethod(e,"load"),this.pauseOnBreakpoint(f.BREAKPOINTS.MAX,function(){p.default.safeMediaMethod(e,"play")})&&p.default.changeAttr(this.videoSlot,"autoplay",!1,!0)},e.prototype._trackVideoError=function(t){var e=this.videoSlot.error;if("source"===t.target.tagName.toLowerCase()){if(t.target.error=!0,Array.prototype.slice.call(this.videoSlot.querySelectorAll("source"),0).some(function(t){return!t.error}))return;e={code:5,message:"sources error"}}this.tracker.trackEvent(h.default.AdError);var n=new o.default("video media error code="+e.code+" msg="+e.message+" src="+this.videoSlot.currentSrc,f.ERROR_CODES.MEDIA_ERROR),r=void 0;try{r=this.this.videoSlot.querySelector('source[src="'+this.videoSlot.currentSrc+'"]').getAttribute("type")}catch(t){r=""}n.metadata=this.videoSlot.currentSrc+","+r+","+e.code+","+e.message,this.emit(h.default.AdError,n)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.videoSlot&&(this.videoSlot.querySelectorAll&&Array.prototype.slice.call(this.videoSlot.querySelectorAll("source"),0).forEach(m.default),this.videoSlot.removeAttribute&&this.videoSlot.removeAttribute("src")),this.trackVideoError=null,this.removeInlineVideoWrapper(),this._allMediaFiles=[],clearInterval(this.updateBlockerInterval),clearInterval(this.skipStateIterval)},e.prototype.stopAd=function(){this.log("stopAd called");try{this.videoSlot.dispatchEvent(new Event("ended"))}catch(t){}},e.prototype.resizeAd=function(){this.emit(h.default.AdSizeChange)},e.prototype.pauseAd=function(){p.default.safeMediaMethod(this.videoSlot,"pause")},e.prototype.techResume=function(){p.default.safeMediaMethod(this.videoSlot,"play")},e.prototype.expandAd=function(){this.adExpanded=!0},e.prototype.collapseAd=function(){this.adExpanded=!1},e.prototype.skipAd=function(){this.log("skipAd called"),this.pauseAd(),this.tracker.trackEvent(h.default.AdSkipped),this.emit(h.default.AdSkipped)},e.prototype.getAdLinear=function(t){t(null,!0)},e.prototype.getAdWidth=function(t){t(null,this.videoSlot.clientWidth)},e.prototype.getAdHeight=function(t){t(null,this.videoSlot.clientHeight)},e.prototype.getAdExpanded=function(t){t(null,this.adExpanded)},e.prototype.getAdSkippableState=function(t){t(null,this.skipState)},e.prototype.getAdRemainingTime=function(t){t(null,this.remainingTime)},e.prototype.getAdDuration=function(t){t(null,this.adDuration)},e.prototype.getAdVolume=function(t){t(null,this.videoSlot.volume)},e.prototype.getAdCompanions=function(t){t(null,"")},e.prototype.getAdIcons=function(t){t(null,!1)},e.prototype.setAdVolume=function(t){this.videoSlot.volume=t,t?p.default.changeAttr(this.videoSlot,"muted",!1,!0):(this.videoSlot.muted=!0,this.videoSlot.setAttribute("muted","muted"))},e.prototype.shouldSampleRemainingTime=function(){return!1},e}(i.default);e.default=g,t.exports=e.default}).call(this,n(8))},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(e=e||{}).CACHEBUSTING||(e.CACHEBUSTING=Math.round(1e10*Math.random()));return(0,o.default)(t,e)};var r,i=n(107),o=(r=i)&&r.__esModule?r:{default:r};t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=f(n(46)),i=f(n(64)),o=f(n(0)),a=f(n(19)),s=n(3),u=f(n(4)),l=f(n(20)),d=f(n(2)),c=f(n(108));function f(t){return t&&t.__esModule?t:{default:t}}var p=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e){if(!(0,l.default)(t)||(0,c.default)(t))throw new a.default("on VASTTracker constructor, missing required the URI of the ad asset being played");if(!e||"[object VASTResponse]"!==e.toString())throw new a.default("on VASTTracker constructor, missing required VAST response")}(e,n),this.assetURI=e,this.response=n,this.requestUrl=n.requestUrl,this.progress=0,this.quartiles={start:{tracked:!1,time:function(){return.1}},firstQuartile:{tracked:!1,time:function(){return Math.round(25*n.duration)/100}},midpoint:{tracked:!1,time:function(){return Math.round(50*n.duration)/100}},thirdQuartile:{tracked:!1,time:function(){return Math.round(75*n.duration)/100}},complete:{tracked:!1,time:function(){return n.duration}}}}return t.prototype.trackURLs=function(t,e){(0,d.default)(t)&&t.length>0&&(e=(0,o.default)({ASSETURI:this.assetURI,CONTENTPLAYHEAD:(0,i.default)(this.progress)},e||{}),(0,r.default)(t,e))},t.prototype.trackEvent=function(t){if(t===u.default.AdImpression)this.trackURLs(this.response.impressions);else if(t===u.default.AdClickThru)this.trackURLs(this.response.clickTrackings);else{var e=s.VPAID_TO_VAST_EVENTS[t]||t;this.trackURLs(function(t){var e=void 0;t&&(e=[],t.forEach(function(t){e.push(t.uri)}));return e}(this.response.trackingEvents[e]))}},t.prototype.trackTimeUpdate=function(t){var e=this.response.trackingEvents,n=[],r=void 0;return function(t){var i=this.quartiles,o=i.start,a=i.firstQuartile,s=i.midpoint,l=i.thirdQuartile,d=i.complete,c=!1;o.tracked?a.tracked?s.tracked?l.tracked?d.tracked||(c=f("complete",t),r=c?u.default.AdVideoComplete:void 0):(c=f("thirdQuartile",t),r=c?u.default.AdVideoThirdQuartile:void 0):(c=f("midpoint",t),r=c?u.default.AdVideoMidpoint:void 0):(c=f("firstQuartile",t),r=c?u.default.AdVideoFirstQuartile:void 0):(c=f("start",t),r=c?u.default.AdVideoStart:void 0);function f(t,r){var o,a=i[t];return!!function(t,e){return e>=t.time()}(a,r)&&(a.tracked=!0,e[o=t]&&n.push({name:o,trackOnce:!0}),!0)}}.call(this,t),function(t){if(!(0,d.default)(e.progress))return;var n=[],r=this;e.progress.forEach(function(e){e.offset<=t?r.trackURLs([e.uri]):n.push(e)}),e.progress=n}.call(this,t),function(){n.forEach(function(t){this.trackEvent(t.name,t.trackOnce)},this)}.call(this),this.progress=t,r},t}();e.default=p,t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=f(n(63)),i=f(n(4)),o=f(n(19)),a=f(n(1)),s=n(3),u=f(n(103)),l=f(n(106)),d=f(n(11)),c=f(n(0));function f(t){return t&&t.__esModule?t:{default:t}}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e))}var _=function(t){function e(n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,s.AD_TYPES.IMA));return i.adSource=n,i.settings=r,i.vastTracker=void 0,i.videoSlot=r.environmentVars.videoSlot,i.slot=r.environmentVars.slot,i.document=r.environmentVars.document||window.document,i.numberOfImpressions=0,i.adExpanded=!1,i.google=i.document.defaultView.google,i.adsManagerEventListeners={},i.adsLoaderEventListeners={},i.log("initialized"),i}return h(e,t),e.prototype.playAd=function(t){var e=this;this.log("playAd"),this.loadIMA().then(this.loadAdUnit.bind(this)).then(this.playAdUnit.bind(this)).then(function(){t()}).catch(function(n){if(!e.destroyed){n=n||new o.default("na",s.ERROR_CODES.IMA_ADS_LOAD_ERROR_HANDLER);try{n.message=n.message||"na",e.log("playAd error "+n.message),t(n.message)}catch(t){}e.emit(i.default.AdError,n)}})},e.prototype.loadIMA=function(){var t=this;return this.log("loadIMA"),new a.default(function(e,n){try{t.google&&t.google.ima?e():(0,u.default)({src:s.IMA_SDK_LOADER_URL,document:t.document}).then(e).catch(n)}catch(t){n(new o.default("lima: "+t.message,s.ERROR_CODES.EXCEPTION))}})},e.prototype.loadAdUnit=function(){var t=this;return this.google=this.document.defaultView.google,this.log("loadAdUnit"),new a.default(function(e,n){var r=function(t){if(this.destroyed)return;this.log("adsManagerLoadError");var e="amle: ";try{var r=t.getError();r&&r.h&&(e+=r.h)}catch(t){}this.log(e),n(new o.default(e,s.ERROR_CODES.IMA_ADS_LOAD_ERROR_HANDLER))}.bind(t),i=function(t){if(this.destroyed)return;this.log("adsManagerLoaded");try{var r=this.adsRenderingSettings=new this.google.ima.AdsRenderingSettings;r.loadVideoTimeout=s.IMA_SETTINGS_LOAD_VIDEO_TIMEOUT,r.mimeTypes=[],this.adsManager=t.getAdsManager(this.videoSlot,r),e(!0)}catch(t){n(new o.default("amlh: "+t.message,s.ERROR_CODES.EXCEPTION))}}.bind(t);try{var a,u=t.adSource.vastResponse.imaURL;t.log("loading DFP ad unit with url "+u);var l=[t.slot],d=/ad_type=skippablevideo/.test(u)&&/iPad|iPhone/.test(navigator.userAgent);d&&l.push(t.videoSlot);var c=t.adDisplayContainer=new(Function.prototype.bind.apply(t.google.ima.AdDisplayContainer,[null].concat(l)));c.initialize(),t.adsLoader=new t.google.ima.AdsLoader(c),d&&t.adsLoader.getSettings().setDisableCustomPlaybackForIOS10Plus(!0),t.adsLoader.getSettings().setNumRedirects(s.IMA_SETTINGS_NUM_REDIRECTS),t.adsLoader.getSettings().setVpaidMode(t._getVpaidMode()),t.adsLoader.addEventListener(t.google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,i),t.adsLoader.addEventListener(t.google.ima.AdErrorEvent.Type.AD_ERROR,r),t.adsLoaderEventListeners=(p(a={},t.google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,i),p(a,t.google.ima.AdErrorEvent.Type.AD_ERROR,r),a);var f=t.adsRequest=new t.google.ima.AdsRequest;f.vastLoadTimeout=s.IMA_SETTINGS_VAST_LOAD_TIMEOUT,f.adTagUrl=u,f.linearAdSlotWidth=f.nonLinearAdSlotWidth=t.settings.width,f.linearAdSlotHeight=f.nonLinearAdSlotHeight=t.settings.height,t.adsLoader.requestAds(f)}catch(t){n(new o.default("lau: "+t.message,s.ERROR_CODES.EXCEPTION))}})},e.prototype.playAdUnit=function(){var t=this;return this.log("playAdUnit"),new a.default(function(e,n){try{t.adsManager?t.setupEvents().then(t._playAd.bind(t)).then(e).catch(n):n(new o.default("pau: this.adsManager is null",s.ERROR_CODES.IMA_ADS_LOAD_ERROR_HANDLER))}catch(t){n(new o.default("pau: "+t.message,s.ERROR_CODES.EXCEPTION))}})},e.prototype.setupEvents=function(){var t=this;return this.log("setupEvents"),new a.default(function(e,n){try{t.vastTracker=new l.default("",t.adSource.vastResponse),t.adsManagerEventListeners=(0,c.default)(t.adsManagerEventListeners,d.default.bindEvents(t.adsManager,t._eventsHandler.bind(t),t.google.ima.AdEvent.Type),d.default.bindEvents(t.adsManager,t._eventsHandler.bind(t),t.google.ima.AdError.Type),d.default.bindEvents(t.adsManager,t._eventsHandler.bind(t),t.google.ima.AdErrorEvent.Type)),e()}catch(t){n(new o.default("se: "+t.message,s.ERROR_CODES.EXCEPTION))}})},e.prototype._eventsHandler=function(t,e){this.log("adEvent "+t);try{if(this.destroyed)return;if(t===this.google.ima.AdEvent.Type.ALL_ADS_COMPLETED&&0===this.numberOfImpressions)this.vastTracker.trackEvent(i.default.AdError),this.emit(i.default.AdError);else if(t===this.google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED)this.videoSlot.pause();else{var n=d.default.convertAdEventToVPAIDEvent(this.google,e);if(n){this.log("VPAIDEvent "+n);var r={};if(n===i.default.AdStarted)this.currentAd=e.getAd();else if(n===i.default.AdVideoComplete)this.stopAd();else if(n===i.default.AdError){var a="eh "+e.getError().toString();r=new o.default(a,s.ERROR_CODES.IMA_ADS_LOAD_ERROR_HANDLER)}this.vastTracker.trackEvent(n),this.emit(n,r),n===i.default.AdStarted&&(this.numberOfImpressions+=1,1===this.numberOfImpressions&&(this.vastTracker.trackEvent(i.default.AdImpression),this.vastTracker.trackEvent(i.default.creativeView,!0),this.vastTracker.trackEvent(i.default.AdVideoStart),this.emit(i.default.AdImpression),this.emit(i.default.AdVideoStart)))}}}catch(t){}},e.prototype._playAd=function(){var t=this;return this.log("_playAd"),new a.default(function(e,n){try{t._initAdManager(),t.pauseOnBreakpoint(s.BREAKPOINTS.MAX,function(){t._startAdsManager(),e()})}catch(t){n(new o.default("_pa: "+t.message,s.ERROR_CODES.EXCEPTION))}})},e.prototype._initAdManager=function(){this.adsManager.init(this.settings.width,this.settings.height,this.google.ima.ViewMode.NORMAL),this.adsManager.setVolume(this.videoSlot.muted||0===this.videoSlot.volume?0:this.videoSlot.volume)},e.prototype._startAdsManager=function(){this.adsManager.start()},e.prototype._getVpaidMode=function(){if(this.settings&&this.settings.queryParams&&this.settings.queryParams.imavpaid){var t=this.settings.queryParams.imavpaid;if("0"===t||"1"===t||"2"===t)return parseInt(t,10)}return this.google.ima.ImaSdkSettings.VpaidMode.ENABLED},e.prototype.destroy=function(){var t=this;if(this.log("destroy"),!this.destroyed){this.destroyed=!0;try{this.adsManager&&(this.adsManagerEventListeners&&(d.default.unbindEvents(this.adsManager,this.adsManagerEventListeners),this.adsManagerEventListeners={}),this.adsManager.adsContainer&&this.adsManager.adsContainer.parent&&this.adsManager.adsContainer.parent.contains(this.adsManager.adsContainer)&&this.adsManager.adsContainer.parent.removeChild(this.adsManager.adsContainer),this.adsManager.destroy()),this.adsLoader&&(this.adsLoaderEventListeners&&(d.default.unbindEvents(this.adsLoader,this.adsLoaderEventListeners),this.adsLoaderEventListeners={}),this.adsLoader.destroy()),this.adDisplayContainer&&this.adDisplayContainer.destroy(),Object.keys(window).filter(function(t){return/^closure_lm_/.test(t)}).forEach(function(t){delete window[t]}),Object.keys(this.document.defaultView).filter(function(t){return/^closure_lm_/.test(t)}).forEach(function(e){console.log("delete closure ",e),delete t.document.defaultView[e]})}catch(t){}finally{this.document=this.adsManager=this.google=this.adSource=this.settings=this.vastTracker=this.videoSlot=this.slot=this.adExpanded=this.currentAd=this.adsLoader=this.adDisplayContainer=this.adsRequest=this.adsRenderingSettings=null}}},e.prototype.getAdLinear=function(t){this.log("adLinear");try{t(null,this.currentAd.isLinear())}catch(e){t(null,!0)}},e.prototype.getAdWidth=function(t){this.log("adWidth");try{t(null,this.currentAd.getWidth()||this.settings.width)}catch(e){t(null,0)}},e.prototype.getAdHeight=function(t){this.log("adHeight");try{t(null,this.currentAd.getHeight()||this.settings.height)}catch(e){t(null,0)}},e.prototype.getAdSkippableState=function(t){this.log("adSkippableState");try{t(null,this.adsManager.getAdSkippableState())}catch(e){t(null,0)}},e.prototype.getAdRemainingTime=function(t){this.log("adRemainingTime");try{t(null,this.adsManager.getRemainingTime())}catch(e){t(null,0)}},e.prototype.getAdDuration=function(t){this.log("adDuration");try{t(null,this.currentAd.getDuration())}catch(e){t(null,0)}},e.prototype.getAdVolume=function(t){this.log("get adVolume");try{t(null,this.adsManager.getVolume())}catch(e){t(null,0)}},e.prototype.setAdVolume=function(t){this.log("set adVolume");try{this.adsManager.setVolume(t)}catch(t){}},e.prototype.resizeAd=function(t){this.log("resizeAd");try{t&&t.length>3&&this.adsManager.resize(t[0],t[1],t[2])}catch(t){}},e.prototype.stopAd=function(){var t=this;this.log("stopAd");try{this.adsManager.stop()}catch(t){}setTimeout(function(){t.vastTracker.trackEvent(i.default.AdStopped),t.emit(i.default.AdStopped)},0)},e.prototype.pauseAd=function(){this.log("pauseAd");try{this.adsManager.pause()}catch(t){}},e.prototype.techResume=function(){try{this.adsManager.resume()}catch(t){}},e.prototype.expandAd=function(){this.log("expandAd");try{this.adExpanded=!0,this.adsManager.expand()}catch(t){}},e.prototype.collapseAd=function(){this.log("collapseAd");try{this.adExpanded=!1,this.adsManager.collapse()}catch(t){}},e.prototype.getAdExpanded=function(t){this.log("adExpanded");try{t(null,this.adExpanded)}catch(e){t(null,!1)}},e.prototype.skipAd=function(){this.log("skipAd");try{this.adsManager.skip()}catch(t){}},e.prototype.getAdCompanions=function(t){t(null,"")},e.prototype.getAdIcons=function(t){t(null,"")},e.prototype.shouldSampleRemainingTime=function(){return!0},e}(r.default);e.default=_,t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=A(n(231)),o=n(1),a=A(n(12)),s=n(3),u=n(61),l=A(n(232)),d=A(n(250)),c=A(n(39)),f=A(n(31)),p=A(n(251)),h=A(n(0)),_=A(n(253)),v=A(n(34)),m=A(n(254)),y=n(11);function A(t){return t&&t.__esModule?t:{default:t}}var E=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.settings=n,this.registry=this.settings.registry,this.waterfall=e,this.numberOfTiers=e.tiers.length,this._setNextTier(),this.getVastResponseForTierStartTime=0,this.adSourceIndex=1,this.onFoundVASTCallback=r,this.adSourceCache=n.serial?null:this.settings.environmentVars.srCache,this._markCachedAdSourced()}return t.prototype.getVASTResponseForTier=function(){var t=this;this.getVastResponseForTierStartTime=(new Date).getTime(),this.numberOfTiers>0&&(a.default.log("sending requests to "+this.currentTier.adSources.length+" sources in tier "+this.currentTier.tier),this.currentTier.adSources.forEach(function(e){t._fetchAdSource(e).then(function(){}).catch(function(t){return t instanceof Error&&a.default.log("Error: "+t.message+"\n"+t.stack),{}})}))},t.prototype._filterAdSources=function(){-1!==this.currentTier.adSources.map(function(t){return t.status}).indexOf(s.AD_SOURCE_STATUS.ERROR)&&(this.currentTier.adSources=this.currentTier.adSources.filter(function(t){return t.status!==s.AD_SOURCE_STATUS.ERROR}))},t.prototype._sortAdSources=function(){-1!==this.currentTier.adSources.map(function(t){return t.isVAST}).indexOf(!0)&&(this.currentTier.adSources=this.currentTier.adSources.sort(function(t,e){return t.isVAST?-1:e.isVAST?1:0}))},t.prototype._fetchAdSource=function(t){var e=this;return new o.Promise(function(n,r){t.analytics=e.registry.createAnalyticsObject({tier:e.currentTier.tier,tierLength:e.currentTierAdSourceLength,adSource:t}),e._getAdSourceNoFetchReason(t).then(function(){if(e._isAdSourceInCache(t)){a.default.log("not calling adSource "+t.id+" (in cache)");var i=e._getAdSourceFromCache(t);return t.fc=i.fc,e._analyzeVastResponse(t,i,null).then(n).catch(r),null}return t.status=s.AD_SOURCE_STATUS.LOADING,t.index=t.analytics.rank=e.adSourceIndex++,e._getVastResponse(t).timeout(e.registry.getConfig(t.id).adSourceRequestTimeout()).then(function(t){return e._analyzeVastResponse(t.adSource,t.vastResponse,t.error).then(n).catch(r),null}).catch(function(){return e._analyzeVastResponse(t,null,{code:s.ERROR_CODES.AD_SOURCE_REQUEST_TO}).then(n).catch(r),null}),null}).catch(function(i){return a.default.log("not calling adSource "+t.id+" (no fetch "+i.code+")"),e._analyzeVastResponse(t,null,i).then(n).catch(r),null})})},t.prototype._getAdSourceNoFetchReason=function(t){var e=this;return new o.Promise(function(n,r){var i=e.registry.getTracker(t.id),o=(0,h.default)({},e.settings,{bundleId:t[s.APS.BUNDLE_ID[1]]});if((0,y.didReachAdSourceNoFillRequestCap)(t))r({code:s.ERROR_CODES.AD_SOURCE_NO_FILL_REQUEST_CAP});else{try{var u=(0,y.getAdParametersValue)(t,s.APS.SIZE),l=i.settings.dplayersize;if(u&&l){var d=u.split(",");d.indexOf(l.charAt(0))>-1?n():(a.default.log("invalid detected size, wanted "+d+", found "+l),r({code:s.ERROR_CODES.AD_SOURCE_DETECTED_SIZE_MISS_MATCH}))}else e._isFilteredByPlayerDimensions(t)&&(a.default.log("adSource: "+t.id+" filtered by player dimensions"),r({code:s.ERROR_CODES.AD_SOURCE_DETECTED_DIMENSIONS_MISS_MATCH}))}catch(t){}(0,y.handleRateLimit)(t,o,i).then(function(e){e&&(t.url=decodeURIComponent((0,m.default)("url",t.url))),n()}).catch(function(t){var e=t?t.status||t.code:0;r({code:s.ERROR_CODES.AD_SOURCE_RATE_LIMITED,status:e})})}})},t.prototype._getVastResponse=function(t){var e=this;return new o.Promise(function(n){var r=e.registry.getTracker(t.id);if(r.reportRequest(t.analytics),t.adParameters&&t.mediaFiles&&(t.url=(0,d.default)({adParams:t.adParameters,mediaFiles:t.mediaFiles})),!(0,c.default)(t.url)){var i=(0,h.default)({},e.settings,{bundleId:t[s.APS.BUNDLE_ID[1]]});t.url=(0,u.injectMacros)(t.url,i,r)}var f=o.Promise.resolve(t.url);p.default.some(function(n){var r=n.getVAST({timeout:e.registry.getConfig(t.id).adSourceRequestTimeout(),url:t.url,settings:e.settings});return!!r&&(f=r,!0)});var _=(0,y.getCredentialsLists)(e.settings.queryParams.env),m=_.withCredentials,A=_.withoutCredentials;f.then(function(n){return(0,l.default)(n,{timeout:e.registry.getConfig(t.id).adSourceRequestTimeout(),supportIMA:e.settings.environmentVars&&e.settings.environmentVars.slot&&e.settings.environmentVars.videoSlot&&!e.settings.environmentVars.disableIMA,withCredentials:e.settings.queryParams.wc?m.concat([(0,v.default)(n)]):m,withoutCredentials:A})}).then(function(e){a.default.log("got vast response from VASTParser"),n({vastResponse:e,adSource:t,error:null})}).catch(function(e){a.default.log("could not get vast response from VASTParser"),n({error:e,adSource:t,vastResponse:null})})})},t.prototype._analyzeVastResponse=function(t,e,n){var r=this;return a.default.log("analyzeVastResponse"),new o.Promise(function(i,o){var u=r.registry.getTracker(t.id);t.adsLogger&&(0,_.default)(e,u,t),!e||n?(t.status=s.AD_SOURCE_STATUS.ERROR,a.default.log("adSource "+t.id+" got error "+(n&&n.code)),n?n instanceof f.default?(t.analytics.error="",n.code?t.analytics.error=n.code:n.xhr&&n.xhr.url&&(t.analytics.error=n.xhr.url),t.analytics.errorcode=s.ERROR_CODES.HTTP_ERROR):n.code?t.analytics.errorcode=n.code:t.analytics.errorcode=s.ERROR_CODES.UNKNOWN:t.analytics.errorcode=s.ERROR_CODES.UNKNOWN,s.ERROR_CODES_CATEGORIES["rl-error"].indexOf(t.analytics.errorcode)>-1?(t.analytics.status=n.status,u.reportRateLimiterError(t.analytics)):s.ERROR_CODES_CATEGORIES["targeting-error"].indexOf(t.analytics.errorcode)>-1?u.reportTargetingError(t.analytics):(t.analytics.errorcode===s.ERROR_CODES.HTTP_ERROR?u.reportHttpError(t.analytics):u.reportLose(t.analytics),(0,y.incrementAdSourceNoFill)(t.id)),o(new Error("invalid ad source"))):(t.status=s.AD_SOURCE_STATUS.SUCCESS,t.vastResponse=e,t.isVAST=e.isVAST,t.isVPAID=e.isVPAID,t.isIMA=e.isIMA,t.type=t.analytics.adsourcetype=(0,y.getAdSourceType)(t,e),u.reportBid(t.analytics),a.default.log("adSource "+t.id+" got response as "+t.type),t.isVAST&&r._foundVAST(t),i())})},t.prototype.getNextAdSource=function(){return this.settings.serial?this._getNextAdSourceSerial():this._getNextAdSourceParallel()},t.prototype._getNextAdSource=function(t){this.getNextAdSource().then(function(e){t.resolve(e)},function(){t.reject(new Error)})},t.prototype._shouldReplaceTier=function(){return!this.currentTier||this.currentTier&&(!this.currentTier.adSources||!this.currentTier.adSources.length)},t.prototype._getNextAdSourceSerial=function(){var t=this;a.default.log("getting next ad source - serial");var e=(0,i.default)();if(this._shouldReplaceTier()){if(0===this.waterfall.tiers.length)return e.reject(new Error),e.promise;this._setNextTier()}var n=this.currentTier.adSources.shift(),r=this.numberOfTiers-this.waterfall.tiers.length,o=this.currentTierAdSourceLength-this.currentTier.adSources.length;return a.default.log("fetching adSource "+o+"/"+this.currentTierAdSourceLength+" tier "+r+"/"+this.numberOfTiers),this._fetchAdSource(n).then(function(){e.resolve(n)}).catch(function(n){n instanceof Error&&a.default.log("Error: "+n.message+"\n"+n.stack),t._getNextAdSource(e)}),e.promise},t.prototype._getNextAdSourceParallel=function(){var t=this;a.default.log("getNextAdSourceParallel - getting next ad source - parallel");var e=(0,i.default)();if(this._filterAdSources(),this._sortAdSources(),this._shouldReplaceTier())return 0===this.waterfall.tiers.length?(a.default.log("getNextAdSourceParallel - waterfall has no more tiers and ad sources"),e.reject(new Error)):(a.default.log("getNextAdSourceParallel - changing tier and getting responses for new tier"),this._setNextTier(),this.getVASTResponseForTier(),this._getNextAdSource(e)),e.promise;if(this.currentTier.adSources[0].status===s.AD_SOURCE_STATUS.LOADING&&(new Date).getTime()-this.getVastResponseForTierStartTime<this.registry.getConfig().waitForDownloads())return a.default.log("getNextAdSourceParallel - waiting for slow ad sources"),setTimeout(function(){t._getNextAdSource(e)},100),e.promise;a.default.log("getNextAdSourceParallel - looking for candidates to play in waterfall tier "+this.currentTier.tier);var n=this.currentTier.adSources.map(function(t){return t.status}).indexOf(s.AD_SOURCE_STATUS.SUCCESS);if(-1===n)a.default.log("getNextAdSourceParallel - all ad sources are still loading"),setTimeout(function(){t._getNextAdSource(e)},100);else{var r=this.currentTier.adSources.splice(n,1)[0];a.default.log("getNextAdSourceParallel - found valid adSource "+r.id),this._removeAdSourceFromCache(r),e.resolve(r)}return e.promise},t.prototype._setNextTier=function(){this.currentTier=this.waterfall.tiers.shift(),this.currentTierAdSourceLength=this.currentTier?this.currentTier.adSources.length.toString():"0",this.adSourceIndex=1;var t=this.numberOfTiers-this.waterfall.tiers.length;a.default.log("current tier "+t+"/"+this.numberOfTiers)},t.prototype._foundVAST=function(t){this._addAdSourceToCache(t),this.onFoundVASTCallback&&this.onFoundVASTCallback()},t.prototype._markCachedAdSourced=function(){var t=this;this.adSourceCache&&Object.keys(this.adSourceCache).forEach(function(e){t.adSourceCache[e].fc=!0})},t.prototype._isAdSourceInCache=function(t){return this.adSourceCache&&this.adSourceCache[t.id]},t.prototype._addAdSourceToCache=function(t){this.adSourceCache&&!this.adSourceCache[t.id]&&(a.default.log("adding adSource "+t.id+" to cache"),this.adSourceCache[t.id]=t.vastResponse)},t.prototype._removeAdSourceFromCache=function(t){this.adSourceCache&&this.adSourceCache[t.id]&&(a.default.log("removing adSource "+t.id+" from cache"),this.adSourceCache[t.id]=null,delete this.adSourceCache[t.id])},t.prototype._getAdSourceFromCache=function(t){return this.adSourceCache&&this.adSourceCache[t.id]?(a.default.log("getting adSource "+t.id+" from cache"),this.adSourceCache[t.id]):null},t.prototype._isFilteredByPlayerDimensions=function(t){var e=t.playerDimensions,n=this.registry.getTracker(t.id),i=n.settings.dwidth,o=n.settings.dheight;if(o&&i&&e&&e.values&&e.rel){var a=e.values.map(Number),u=a.length;if(u>0&&u%2==0)switch(e.rel){case s.PLAYER_DIMENSIONS_TYPE.EQUAL:for(var l=0;l<u;l+=2)if(i===a[l]&&o===a[l+1])return!1;return!0;case s.PLAYER_DIMENSIONS_TYPE.NOT_EQUAL:for(var d=0;d<u;d+=2)if(i===a[d]&&o===a[d+1])return!0;break;case s.PLAYER_DIMENSIONS_TYPE.RANGE:if(4===u){var c=r(a,4),f=c[0],p=c[1],h=c[2],_=c[3];if(i<f||o<p)return!0;if(h&&h<i)return!0;if(_&&_<o)return!0}break;default:return!1}}return!1},t}();e.default=E,t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(51);(r=i)&&r.__esModule;var o,a=void 0,s=n(52);o=s,a=function(){var t={},e=new o(function(e,n){t.resolve=e,t.reject=n});return t.promise=e,t},e.default=a,t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{timeout:a},n=new o.default,r=n.parse({url:t,timeout:e.timeout||a,supportIMA:e.supportIMA,withCredentials:e.withCredentials,withoutCredentials:e.withoutCredentials});return r.catch(function(){}).finally(n.dispose.bind(n)),r};var r,i=n(233),o=(r=i)&&r.__esModule?r:{default:r};var a=5e3;t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=y(n(19)),i=y(n(234)),o=y(n(118)),a=y(n(2)),s=y(n(108)),u=y(n(20)),l=y(n(246)),d=y(n(49)),c=y(n(39)),f=n(1),p=n(30),h=y(n(248)),_=y(n(249)),v=y(n(34)),m=y(n(46));function y(t){return t&&t.__esModule?t:{default:t}}var A=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._isDisposed=!1,this._isParsing=!1,this._adXMLs=[],this.position=null,this._errors=[]}return t.prototype.parse=function(t){var e=this,n=t.url,r=t.position,i=t.timeout,o=t.withCredentials,a=t.withoutCredentials,s=t.supportIMA,u=t.disableFlash;return this.disableFlash=void 0!==u&&u,new f.Promise(function(t,u){(0,f.resolve)().then(e._start.bind(e,{timeout:i,withCredentials:o,withoutCredentials:a,position:r,supportIMA:s})).then(e._sanityCheck.bind(e,n)).then(e._requestVASTXml.bind(e,n,i,s)).then(e._getVastTree.bind(e,s)).then(e._populateWaterfallAds.bind(e)).then(e._populateAdsChainWithWaterfallAds.bind(e)).then(e._buildVASTResponse.bind(e,n)).then(e._end.bind(e)).then(t).catch(function(t){if(t&&t.code&&e._adXMLs&&e._adXMLs.length&&(t.adXMLs=e._adXMLs),e._errors&&e._errors.length)try{(0,m.default)(e._errors)}catch(t){}e._end(t.vastResponse),u(t)})})},t.prototype.dispose=function(){if(this._isParsing)throw new Error("Attempt to dispose VASTParser was made while parsing");this._isDisposed=!0,this._isParsing=!1,this._waterfallAds=null,this._adsChain=null},t.prototype._populateWaterfallAds=function(t){if(this._waterfallAds=t&&(0,a.default)(t.ads)?t.ads:null,null===this._waterfallAds)throw new r.default("on VASTParser._populateWaterfallAds, no Ad in VAST tree",r.default.NO_AD_IN_VAST_TREE)},t.prototype._handleBuiltAd=function(t){return t&&this._adsChain.push(t),t.wrapper?this._populateAdsChainWithWaterfallAds(t.wrapper.VASTAdTagURI):this._adsChain},t.prototype._populateAdsChainWithWaterfallAds=function(t){var e=void 0,n=void 0;return t?e=t:this._waterfallAds.length&&(e=this._waterfallAds.shift()),e?(0,u.default)(e)&&this._supportIMA&&(0,_.default)(e)?(this._adsChain.push({ima:!0,url:e}),n=(0,f.resolve)(this._adsChain)):n=this._getAdJXONTree(e,this._timeout,this._supportIMA).then(this._buildAd.bind(this)).then(this._handleBuiltAd.bind(this)):n=(0,f.resolve)(this._adsChain),n},t.prototype._start=function(t){if(this._isParsing)throw new Error("VASTParser instance is during parsing");this._isParsing=!0,this._timeout=t.timeout,this._withCredentials=t.withCredentials,this._withoutCredentials=t.withoutCredentials,this._supportIMA=t.supportIMA,this._waterfallAds=null,this._adsChain=[],this._position=t.position},t.prototype._end=function(t){return t instanceof i.default&&(t.adXMLs=this._adXMLs,t.position=this._position),this._isParsing=!1,this._timeout=null,this._adXMLs=[],this._position=null,t},t.prototype._getVastTree=function(t,e){var n=void 0;if(this._adXMLs.push(e),!e||"FAILURE"===e)throw new r.default("on VASTParser.getVastTree, got empty vast xmlStr",r.default.NO_AD_IN_VAST_TREE);if(!(0,c.default)(e)&&t&&(0,_.default)(e))return{ads:[e]};try{(n=(0,l.default)(e)).ads=(0,a.default)(n.ad)?n.ad:[n.ad],n.xml=e}catch(t){throw new r.default("on VASTParser.getVastTree, error parsing xml",r.default.ERROR_PARSING_XML)}return this._validateVASTTree(n),n},t.prototype._extractAdFromXMLString=function(t){var e=void 0;if(this._adXMLs.push(t),!t||"FAILURE"===t)throw new r.default("on VASTParser.getVastTree, got empty vast xmlStr",r.default.NO_AD_IN_VAST_TREE);try{e=(0,l.default)(t)}catch(t){throw new r.default("on VASTParser.getVastTree, error parsing xml",r.default.ERROR_PARSING_XML)}return this._validateVASTTree(e),e.ad},t.prototype._buildAd=function(t){var e=void 0;try{e=this._findBestAd(t)}catch(t){throw new r.default("on VASTParser.buildAd, error parsing xml",r.default.ERROR_PARSING_XML)}return e.inLine&&e.inLine.error?this._errors.push(e.inLine.error):e.wrapper&&e.wrapper.error&&this._errors.push(e.wrapper.error),this._validateAd(e),e},t.prototype._getAdJXONTree=function(t,e,n){var r=this;return(0,f.resolve)().then(function(){return(0,u.default)(t)?r._requestVASTXml(t,e,n).then(r._extractAdFromXMLString.bind(r)):t})},t.prototype._validateAd=function(t){var e=t.wrapper,n=t.inLine,i="on VASTParser.validateAd, ";if(n&&e)throw new r.default(i+" InLine and Wrapper both found on the same Ad",r.default.INLINE_AND_WRAPPER_IN_RESPONSE);if(!n&&!e)throw new r.default(i+" nor wrapper nor inline elements found on the Ad",r.default.INLINE_AND_WRAPPER_NOT_IN_RESPONSE);if(n){if(!n.creatives&&!n.video)throw new r.default(i+" missing creative and video in InLine element",r.default.MISSING_CREATIVE_AND_VIDEO_IN_INLINE);if(n.creatives&&0===n.creatives.length)throw new r.default(i+" missing creative in InLine element",r.default.MISSING_CREATIVE_IN_INLINE)}if(e&&!e.VASTAdTagURI)throw new r.default(i+" missing 'VASTAdTagURI' in wrapper",r.default.MISSING_VASTADTAGURI_IN_WRAPPER)},t.prototype._validateVASTTree=function(t){var e=(0,d.default)(t,"version");if(!t.ad)throw new r.default("on VASTParser.validateVASTTree, no Ad in VAST tree",r.default.NO_AD_IN_VAST_TREE);if(e&&4!==e&&3!==e&&2!==e&&e.indexOf&&e.indexOf("2.")<0&&e.indexOf("3.")&&e.indexOf("4."))throw new r.default("on VASTParser.validateVASTTree, not supported VAST version "+e,r.default.VAST_VERSION_NOT_SUPPORTED)},t.prototype._buildVASTResponse=function(t,e){var n=new i.default({requestUrl:t,ads:e});return n.validate(),n},t.prototype._generateCatcher=function(t){return function(e){throw e.constructor===p.XMLHttpRequestConstructor?new r.default("on VASTParser."+t+", HTTP request error with status "+e.status,r.default.HTTP_ERROR):"ETIMEDOUT"===e.code?new r.default("on VASTParser."+t+", Timeout",r.default.AD_SOURCE_REQUEST_TO):e instanceof Error?e:"string"==typeof e?new Error(e):new Error("General Error")}},t.prototype._sanityCheck=function(t){if((0,s.default)(t))throw new r.default("on VASTParser.sanityCheck, missing ad tag URL",r.default.MISSING_AD_TAG_URL);return!0},t.prototype._requestVASTXml=function(t,e,n){var r=void 0;if((0,c.default)(t))r=t;else if(n&&(0,_.default)(t))r=t;else{var i=/cb=\[.*\]/.exec(t),o=t;i&&i[0]&&(o=t.replace(i[0],"cb="+(new Date).getTime())),r=(0,h.default)(o,{withCredentials:this._shouldUseCredentials(o),disableFlash:this.disableFlash}).timeout(e).catch(this._generateCatcher("_requestVASTXml"))}return r},t.prototype._findBestAd=function(t){var e=void 0;if((0,a.default)(t)){var n=t.map(function(t){return new o.default(t)}).map(function(t){return new i.default({ads:[t]})});e=(n=n.sort(function(t,e){return t.isVAST?-1:e.isVAST?1:t.isVPAID?e.isVPAID?0:1:-1}))[0].ads[0]}else e=new o.default(t);return e},t.prototype._shouldUseCredentials=function(t){var e=this._withCredentials||[],n=this._withoutCredentials||[],r=(0,v.default)(t);return n.every(function(t){return-1===t.indexOf(r)})&&e.some(function(t){return r.indexOf(t)>-1})},t}();e.default=A,t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=m(n(47)),i=m(n(109)),o=m(n(118)),a=m(n(119)),s=m(n(112)),u=n(19),l=m(u),d=m(n(243)),c=m(n(2)),f=m(n(66)),p=m(n(65)),h=m(n(120)),_=m(n(10)),v=n(114);function m(t){return t&&t.__esModule?t:{default:t}}var y=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._linearAdded=!1,this.ads=[],this.errorURLMacros=[],this.impressions=[],this.clickTrackings=[],this.customClicks=[],this.trackingEvents={},this.mediaFiles=[],this.clickThrough=void 0,this.adTitle="",this.duration=void 0,this._videoAdded=void 0,this.skipoffset=void 0,this.isVPAID=!1,this.isVAST=!1,this.VPAIDType=void 0,this.requestUrl=n.requestUrl,this.adXMLs=[],this.position=null,this.adSystems=[],n.ads&&n.ads.forEach(function(t){e.addAd(t)})}return t.prototype.addAd=function(t){var e=void 0,n=void 0;t&&(t instanceof o.default?(e=t.inLine,n=t.wrapper,this.ads.push(t),e&&this._addInLine(e),n&&this._addWrapper(n)):t.ima&&(this.isIMA=!0,this.imaURL=t.url))},t.prototype.validate=function(){var t=this.trackingEvents.progress;if(!this.imaURL){if(!this.hasLinear())throw new l.default("on VASTResponse.validate, Received an Ad type that is not supported",u.AD_TYPE_NOT_SUPPORTED,this);void 0===this.duration&&(this.duration=15),t&&t.forEach(function(t){(0,p.default)(t.offset)||(t.offset=0)})}},t.prototype._addErrorTrackUrl=function(t){var e=t instanceof h.default?(0,_.default)(t):t;e&&this.errorURLMacros.push(e)},t.prototype._addImpressions=function(t){(0,c.default)(t)&&(0,d.default)(this.impressions,t)},t.prototype._addClickThrough=function(t){(0,f.default)(t)&&(this.clickThrough=t)},t.prototype._addClickTrackings=function(t){(0,c.default)(t)&&(0,d.default)(this.clickTrackings,t)},t.prototype._addCustomClicks=function(t){(0,c.default)(t)&&(0,d.default)(this.customClicks,t)},t.prototype._addTrackingEvents=function(t){var e=this.trackingEvents;t&&(t=(0,c.default)(t)?t:[t]).forEach(function(t){e[t.name]||(e[t.name]=[]),e[t.name].push(t)})},t.prototype._addTitle=function(t){(0,f.default)(t)&&(this.adTitle=t)},t.prototype._addAdSystem=function(t){this.adSystems.push(t||"")},t.prototype._addDuration=function(t){(0,p.default)(t)&&(this.duration=t)},t.prototype._addVideoClicks=function(t){t instanceof r.default&&(this._addClickThrough(t.clickThrough),this._addClickTrackings(t.clickTrackings),this._addCustomClicks(t.customClicks))},t.prototype._addMediaFiles=function(t){if((0,c.default)(t)&&(0,d.default)(this.mediaFiles,t),this.isVPAID=this.isVPAID||(this.mediaFiles||[]).some(function(t){return t.isVPAID()}),this.isVAST=this.isVAST||(this.mediaFiles||[]).some(function(t){return t.isVAST()}),this.isVPAID){var e=this.VPAIDType===v.FLASH||this.VPAIDType===v.BOTH||(this.mediaFiles||[]).some(function(t){return t.VPAIDType===v.FLASH}),n=this.VPAIDType===v.JS||this.VPAIDType===v.BOTH||(this.mediaFiles||[]).some(function(t){return t.VPAIDType===v.JS}),r=e&&n;this.VPAIDType=r?v.BOTH:e?v.FLASH:v.JS}else this.VPAIDType=v.NONE},t.prototype._addSkipoffset=function(t){t&&(this.skipoffset=t)},t.prototype._addAdParameters=function(t){t&&(this.adParameters=t)},t.prototype._addLinear=function(t){t instanceof s.default&&(this._addDuration(t.duration),this._addTrackingEvents(t.trackingEvents),this._addVideoClicks(t.videoClicks),this._addMediaFiles(t.mediaFiles),this._addSkipoffset(t.skipoffset),this._addAdParameters(t.adParameters),this._linearAdded=!0)},t.prototype._addCompanionAds=function(t){this.companionAds=t},t.prototype._addInLine=function(t){var e=this;t instanceof a.default&&(this._addTitle(t.adTitle),this._addErrorTrackUrl(t.error),this._addImpressions(t.impressions),this._addAdSystem(t.adSystem),t.creatives?t.creatives.forEach(function(t){t.linear?e._addLinear(t.linear):t.companionAds&&e._addCompanionAds(t.companionAds)}):(this._addVideo(t.video),this._addTrackingEvents(t.trackingEvents)))},t.prototype._addVideo=function(t){this._addDuration(t.duration),this._addVideoClicks(t.videoClicks),this._addMediaFiles(t.mediaFiles),this._videoAdded=!0},t.prototype._addWrapper=function(t){var e=this;t instanceof i.default&&(this._addErrorTrackUrl(t.error),this._addImpressions(t.impressions),this._addAdSystem(t.adSystem),t.creatives.forEach(function(t){var n=t.linear;n&&(e._addVideoClicks(n.videoClicks),e.clickThrough=void 0,e._addTrackingEvents(n.trackingEvents))}),e._addTrackingEvents(t.trackingEvents),e._addVideoClicks(t.videoClicks))},t.prototype.hasLinear=function(){return this._linearAdded||this._videoAdded},t.prototype.toString=function(){return"[object VASTResponse]"},t}();e.default=y,t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=void 0;t?(t=(0,r.default)(t)?t:[t],e=t.map(function(t){return(0,i.default)(t)})):e=[];return e.filter(function(t){return!!t})};var r=o(n(2)),i=o(n(10));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=a(n(112)),i=a(n(240)),o=a(n(2));function a(t){return t&&t.__esModule?t:{default:t}}e.default=function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=e.attr("id"),this.sequence=e.attr("sequence"),this.adId=e.attr("adId"),this.apiFramework=e.attr("apiFramework"),e.linear)this.linear=new r.default(e.linear);else if(e.companionAds&&e.companionAds.companion){var n=(0,o.default)(e.companionAds.companion)?e.companionAds.companion:[e.companionAds.companion];this.companionAds=n.map(function(t){return new i.default(t)})}},t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(10),o=(r=i)&&r.__esModule?r:{default:r},a=n(114);var s="VPAID",u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.type=e.attr("type"),"application/x-shockwave-flash"===this.type?this.VPAIDType=a.FLASH:"application/javascript"===this.type?this.VPAIDType=a.JS:this.VPAIDType=a.NONE,"video/x-mp4"===this.type&&(this.type="video/mp4"),e.uRL?(this.src=(0,o.default)(e),"application/x-shockwave-flash"!==this.type&&"application/javascript"!==this.type||(this.apiFramework=s)):(this.src=(0,o.default)(e),this.apiFramework=e.attr("apiFramework")),this.delivery=e.attr("delivery"),this.width=e.attr("width"),this.height=e.attr("height"),this.codec=e.attr("codec"),this.id=e.attr("id"),this.bitrate=e.attr("bitrate"),this.minBitrate=e.attr("minBitrate"),this.maxBitrate=e.attr("maxBitrate"),this.scalable=e.attr("scalable"),this.maintainAspectRatio=e.attr("maintainAspectRatio")}return t.prototype.isVPAID=function(){return this.apiFramework===s},t.prototype.isVAST=function(){return this.apiFramework!==s},t}();e.default=u,t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(115)),i=o(n(10));function o(t){return t&&t.__esModule?t:{default:t}}e.default=function t(e,n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name=o||e.attr("event"),this.uri=(0,i.default)(e),"progress"===this.name&&(this.offset=(0,r.default)(e.attr("offset"),n))},t.exports=e.default},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if(!t)return t;return t.replace(/&apos;/g,"'").replace(/&quot;/g,'"').replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&")},t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=s(n(117)),i=s(n(48)),o=s(n(10)),a=s(n(49));function s(t){return t&&t.__esModule?t:{default:t}}e.default=function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.width=(0,a.default)(e,"width"),this.height=(0,a.default)(e,"height"),this.expandedWidth=(0,a.default)(e,"expandedWidth"),this.expandedHeight=(0,a.default)(e,"expandedHeight"),this.apiFramework=(0,a.default)(e,"apiFramework"),this.trackingEvents=(0,i.default)(e.trackingEvents&&e.trackingEvents.tracking),this.companionClickThrough=(0,o.default)(e.companionClickThrough),this.companionClickTracking=(0,o.default)(e.companionClickTracking),e.staticResource)this.staticResource=(0,o.default)(e.staticResource),this.staticResourceType=e.staticResource.attr("creativeType");else if(e.iFrameResource)this.iFrameResource=(0,o.default)(e.iFrameResource);else if(e.hTMLResource){var n=(0,o.default)(e.hTMLResource);(0,r.default)(n)?this.iFrameResource=n:this.htmlResource=n}},t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=s(n(47)),i=s(n(67)),o=s(n(113)),a=s(n(10));function s(t){return t&&t.__esModule?t:{default:t}}e.default=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.duration=(0,i.default)((0,a.default)(e.duration)),this.adId=(0,a.default)(e.adID),this.mediaFiles=(0,o.default)(e.mediaFiles&&e.mediaFiles.mediaFile),e.videoClicks&&(this.videoClicks=new r.default(e.videoClicks)),e.adParameters&&(this.adParameters=(0,a.default)(e.adParameters))},t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if(t)return((0,r.default)(t)?t:[t]).filter(function(t){return(0,i.default)(t.keyValue)}).map(function(t){return{uri:t.keyValue,type:t.attr("type")}});return[]};var r=o(n(2)),i=o(n(66));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){e.forEach(function(e){t.push(e)})},t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if(/^\s*$/.test(t))return null;if(/^(?:true|false)$/i.test(t))return"true"===t.toLowerCase();if(isFinite(t))return parseFloat(t);if((0,o.default)(t))return new Date(t);return t.trim()};var r,i=n(245),o=(r=i)&&r.__esModule?r:{default:r};t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){(0,r.default)(t)&&(t+="");if(!(0,i.default)(t))return!1;return/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24\:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/.test(t.trim())};var r=o(n(65)),i=o(n(20));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=(0,r.default)(t);return new i.default(e)};var r=o(n(247)),i=o(n(120));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if(void 0===window.DOMParser){var e=new window.ActiveXObject("Microsoft.XMLDOM");return e.async=!1,e.loadXML(t),e}return(0,o.default)(t)};var r,i=n(81),o=(r=i)&&r.__esModule?r:{default:r};t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new o.default(function(n,o,l){var d=(0,r.default)({},e),c=(0,u.default)();d.withCredentials=e.withCredentials||!1,(0,a.log)("fetching "+t+" with credentials "+d.withCredentials,"kalmar::safeGet",c);var f=(0,i.default)(t,d).then(n).catch(function(e){if(d.withCredentials&&e&&e.xhr&&!e.xhr.status)return(0,i.default)(t,(0,r.default)({},d,{withCredentials:!1})).then(n).catch(o);o(e)});return s.default.isEnabled()&&f.then(function(){(0,a.log)("fetched "+t,"kalmar::safeGet",c)},function(e){(0,a.log)("error while fetching "+t+". "+(e?e.message:""),"kalmar::safeGet",c)}),l(function(){return f.cancel()}),f})};var r=l(n(124)),i=l(n(27)),o=l(n(1)),a=n(22),s=l(a),u=l(n(70));function l(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if(t)try{if(!document||!document.createElement)return t.indexOf(n)>-1;try{var e=document.createElement("a");return e.href=t,e.host.indexOf(n)>-1}catch(e){return t.indexOf(n)>-1}}catch(t){return!1}return!1};var n=".g.doubleclick.net";t.exports=e.default},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n={f:"application/x-shockwave-flash",j:"application/javascript"};function r(t){var e=t.t||t.type;return'<MediaFile delivery="progressive" width="480" height="360" bitrate="0" type="'+(e=n[e]||e)+'" apiFramework="VPAID">'+(t.u||t.url)+"</MediaFile>"}e.default=function(t){var e=t.adParams,n=t.mediaFiles;return e&&n?'<?xml version="1.0" encoding="utf-8"?>\n            <VAST version="2.0">\n            <Ad id="V">\n            <InLine>\n            <AdSystem>SR</AdSystem>\n            <AdTitle>V</AdTitle>\n            <Creatives>\n            <Creative sequence="1">\n            <Linear>\n            <Duration>00:00:15</Duration>\n            <MediaFiles> \n            '+n.map(r).join("\n")+"\n            </MediaFiles>\n            <AdParameters>\n            <![CDATA[\n            "+JSON.stringify(e)+"\n            ]]>\n            </AdParameters>\n            </Linear>\n            </Creative>\n            </Creatives>\n            </InLine>\n            </Ad>\n            </VAST>\n            ":'<?xml version="1.0" encoding="UTF-8"?><VAST version="2.0"></VAST>'},t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(252));e.default=[r],t.exports=e.default},function(t,e,n){var r;Object.defineProperty(e,"__esModule",{value:!0}),e.id=void 0,e.getVAST=function(t){var e=t.url;if(function(t){return[/^(https|http):\/\/sx\.streamrail\.net\/spot/].some(function(e){return e.test(t)})}(e)){var n=function(t){var e=(0,a.default)(t.split("?")[1]),n={};return Object.keys(e).forEach(function(t){(c[t]||t).split(".").reduce(function(r,i,o,a){return o===a.length-1?(r[i]=decodeURIComponent(e[t]),n):((0,s.default)(!0,r,l({},i,{})),r[i])},n)}),n}(e);return n.autoplay=!0,p(n,"hide_skin",void 0!==n.ctrl?!n.ctrl:void 0),p(n,"ad_mute",!0),(n&&n.ados&&n.ados.device&&n.ados.device.ifa||n.ados&&n.ados.app&&n.ados.app.bundle)&&(n.ados.query_params="use_mjpeg=1"),(0,o.resolve)(f(n))}return!1};var i=n(3),o=n(1),a=u(n(56)),s=u(n(0));function u(t){return t&&t.__esModule?t:{default:t}}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d="https://"+u(n(17)).default.sdk+"/spotx-vpaid/7/vpaid.js",c=(l(r={scid:"channel_id",p:"contentPageUrl",b:"ados.app.bundle",i:"ados.device.ifa",asu:"ados.app.storeurl",lat:"ados.device.geo.lat",lon:"ados.device.geo.lon",an:"ados.app.name",av:"ados.app.ver",muted:"ad_mute"},i.QUERY_PARAMS.PAGE_URL,"contentPageUrl"),l(r,i.QUERY_PARAMS.AUTOPLAY,"autoplay"),l(r,i.QUERY_PARAMS.MUTE,"ad_mute"),l(r,i.QUERY_PARAMS.WIDTH,"content_width"),l(r,i.QUERY_PARAMS.HEIGHT,"content_height"),l(r,i.QUERY_PARAMS.IFA,"ados.device.ifa"),l(r,i.QUERY_PARAMS.USER_AGENT,"ados.device.ua"),l(r,i.QUERY_PARAMS.USER_LATITUDE,"ados.device.geo.lat"),l(r,i.QUERY_PARAMS.USER_LONGITUDE,"ados.device.geo.lon"),l(r,i.QUERY_PARAMS.APP_NAME,"ados.app.name"),l(r,i.QUERY_PARAMS.BUNDLE_ID,"ados.app.bundle"),l(r,i.QUERY_PARAMS.APP_STORE_URL,"ados.app.storeurl"),l(r,i.QUERY_PARAMS.APP_CATEGORY,"ados.app.cat"),l(r,i.QUERY_PARAMS.DO_NOT_TRACK,"ados.app.dnt"),l(r,i.QUERY_PARAMS.USER_CONSENT,"ados.user.consent"),l(r,i.QUERY_PARAMS.GDPR,"ados.regs.gdpr"),r),f=function(t){return'<?xml version="1.0" encoding="UTF-8"?>\n<VAST xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" version="2.0" xsi:noNamespaceSchemaLocation="oxml.xsd">\n   <Ad id="spotxsdk">\n      <InLine>\n         <AdSystem version="1.0">SR-SPX</AdSystem>\n         <AdTitle><![CDATA[SR]]></AdTitle>\n         <Creatives>\n            <Creative>\n               <Linear>\n                  <MediaFiles>\n                     <MediaFile delivery="progressive" apiFramework="VPAID" width="300" height="250" type="application/javascript"><![CDATA['+d+"]]></MediaFile>\n                  </MediaFiles>\n                  <AdParameters>\n                     <![CDATA["+JSON.stringify(t)+"]]>\n                  </AdParameters>\n               </Linear>\n            </Creative>\n         </Creatives>\n      </InLine>\n   </Ad>\n</VAST>"};e.id="spotx";function p(t,e,n){void 0===t[e]&&void 0!==n&&(t[e]=n)}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){if(function(){if(101*Math.random()<=a.ADS_LOGGER_THRESHOLD)return!0;return!1}()){var r=void 0;r=t?a.ADS_LOGGER_ENDPOINT+"/tc%3D"+e.settings.tc+"/adsource%3D"+n.id+"/vastResponse/":a.ADS_LOGGER_ENDPOINT+"/tc%3D"+e.settings.tc+"/adsource%3D"+n.id+"/emptyResponse/";var i={headers:{otoken:a.ADS_LOGGER_TOKEN}},s={sid:e.settings.sid,tcId:e.settings.tc,asId:n.id,playerId:e.settings.playerid,req:n.url,res:t?t.adXMLs.join().replace(/(\r\n|\n|\r)/gm,""):null};(0,o.default)(r,s,i).then(function(){}).catch(function(){})}};var r,i=n(89),o=(r=i)&&r.__esModule?r:{default:r},a=n(3);t.exports=e.default},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){e||(e=window.location.href);t=t.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null},t.exports=e.default},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.width,n=t.height,r=-2,i=-2,o=!0,a=e,s=n,u=!1,l=!1,d=-1,c="",f=!1;return{get adRemainingTime(){return r},set adRemainingTime(t){isNaN(t)&&(t=-2),r=t},get adDuration(){return i},set adDuration(t){isNaN(t)&&(t=-2),i=t},get adLinear(){return o},set adLinear(t){o=t},get adWidth(){return a},set adWidth(t){a=t},get adHeight(){return s},set adHeight(t){s=t},get adExpanded(){return u},set adExpanded(t){u=t},get adSkippableState(){return l},set adSkippableState(t){l=t},get adVolume(){return d},set adVolume(t){d=t},get adCompanions(){return c},set adCompanions(t){c=t},get adIcons(){return f},set adIcons(t){f=t}}},t.exports=e.default},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default={CREATED:0,INIT_AD_CALLED:1,START_AD_CALLED:2,BREAKPOINT_BEFORE_AD_START:3,AD_STARTED:4,BREAKPOINT_MAX:5,AD_VIDEO_COMPLETE:6,AD_STOPPED:7};e.MIN_STATE_FOR_RESUME=3},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n,u,d){var c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};r.default.log("AdManagerSettings :: createSettingsObject :: start");try{var f=a.default.decryptAdParameters(d),p=function t(e){void 0!==e.w&&(e[i.APS.MODULE_VERSION[1]]=e[i.APS.MODULE_VERSION[0]],delete e[i.APS.MODULE_VERSION[0]],e[i.APS.HALFPIPE_HOSTNAME[1]]=e[i.APS.HALFPIPE_HOSTNAME[0]],delete e[i.APS.HALFPIPE_HOSTNAME[0]],e[i.APS.CONFIG[1]]=e[i.APS.CONFIG[0]],delete e[i.APS.CONFIG[0]],void 0!==e[i.APS.CONFIG[1]][i.APS.THIRD_PARTY_PIXELS[0]]&&(e[i.APS.CONFIG[1]][i.APS.THIRD_PARTY_PIXELS[1]]=e[i.APS.CONFIG[1]][i.APS.THIRD_PARTY_PIXELS[0]],delete e[i.APS.CONFIG[1]][i.APS.THIRD_PARTY_PIXELS[0]]),void 0!==e[i.APS.CONFIG[1]][i.APS.BILLED_EVENT[0]]&&(e[i.APS.CONFIG[1]][i.APS.BILLED_EVENT[1]]=e[i.APS.CONFIG[1]][i.APS.BILLED_EVENT[0]],delete e[i.APS.CONFIG[1]][i.APS.BILLED_EVENT[0]]),e[i.APS.CONFIG[1]][i.APS.DISABLE_BUFFERING_VAST_CLICK[1]]=e[i.APS.CONFIG[1]][i.APS.DISABLE_BUFFERING_VAST_CLICK[0]],e[i.APS.CONFIG[1]][i.APS.BREAKPOINT[1]]=e[i.APS.CONFIG[1]][i.APS.BREAKPOINT[0]],e[i.APS.CONFIG[1]][i.APS.BREAKPOINT_FOR[1]]=e[i.APS.CONFIG[1]][i.APS.BREAKPOINT_FOR[0]],e[i.APS.CONFIG[1]][i.APS.CLICK_THRU_TEXT[1]]=e[i.APS.CONFIG[1]][i.APS.CLICK_THRU_TEXT[0]],e[i.APS.WATERFALL[1]]=e[i.APS.WATERFALL[0]],delete e[i.APS.WATERFALL[0]],e[i.APS.DYNAMIC_VALUES[1]]=e[i.APS.DYNAMIC_VALUES[0]],delete e[i.APS.DYNAMIC_VALUES[0]],e[i.APS.WATERFALL[1]][i.APS.WATERFALL_NAME[1]]=e[i.APS.WATERFALL[1]][i.APS.WATERFALL_NAME[0]],delete e[i.APS.WATERFALL[1]][i.APS.WATERFALL_NAME[0]],e[i.APS.WATERFALL[1]][i.APS.WATERFALL_ID[1]]=e[i.APS.WATERFALL[1]][i.APS.WATERFALL_ID[0]],delete e[i.APS.WATERFALL[1]][i.APS.WATERFALL_ID[0]],e[i.APS.WATERFALL[1]][i.APS.REQUEST_METHOD[0]]=e[i.APS.WATERFALL[1]][i.APS.REQUEST_METHOD[0]]===i.APS.SERIAL[0]?i.APS.SERIAL[1]:i.APS.PARALLEL[1],e[i.APS.WATERFALL[1]][i.APS.REQUEST_METHOD[1]]=e[i.APS.WATERFALL[1]][i.APS.REQUEST_METHOD[0]],delete e[i.APS.WATERFALL[1]][i.APS.REQUEST_METHOD[0]],e[i.APS.WATERFALL[1]][i.APS.TIERS[1]]=e[i.APS.WATERFALL[1]][i.APS.TIERS[0]],delete e[i.APS.WATERFALL[1]][i.APS.TIERS[0]],e[i.APS.WATERFALL[1]][i.APS.TIERS[1]]&&e[i.APS.WATERFALL[1]][i.APS.TIERS[1]].forEach(function(n){if(n[i.APS.TIER[1]]=n[i.APS.TIER[0]],delete n[i.APS.TIER[0]],void 0!==n[i.APS.AD_SOURCES[0]]){var r=[];n[i.APS.AD_SOURCES[0]].forEach(function(n){if(n[i.APS.ID[0]]){var o={};if(o[i.APS.ID[1]]=n[i.APS.ID[0]],o[i.APS.URL[1]]=n[i.APS.URL[0]],o[i.APS.RATE[1]]=n[i.APS.RATE[0]],o[i.APS.COST[1]]=n[i.APS.COST[0]],o[i.APS.SER[1]]=n[i.APS.SER[0]],o[i.APS.FROM_BL[1]]=n[i.APS.FROM_BL[0]],o[i.APS.BL_SCORE[1]]=n[i.APS.BL_SCORE[0]],o[i.APS.EM_REPORT_TYPE[1]]=n[i.APS.EM_REPORT_TYPE[0]],o[i.APS.NO_FILL_REQUEST_CAP[1]]=n[i.APS.NO_FILL_REQUEST_CAP[0]],o[i.APS.SIZE[1]]=n[i.APS.SIZE[0]],o[i.APS.NESTED[1]]=n[i.APS.NESTED[0]],o[i.APS.NESTED_AD_PARAMETERS[1]]=n[i.APS.NESTED_AD_PARAMETERS[0]],o[i.APS.NESTED_MEDIA_FILE[1]]=n[i.APS.NESTED_MEDIA_FILE[0]],o[i.APS.BUNDLE_ID[1]]=n[i.APS.BUNDLE_ID[0]],o[i.APS.DYNAMIC_VALUES[1]]=n[i.APS.DYNAMIC_VALUES[0]],o[i.APS.AD_SOURCE_LOGGING[1]]=n[i.APS.AD_SOURCE_LOGGING[0]],o[i.APS.DISPLAY_END_CARD[1]]=n[i.APS.DISPLAY_END_CARD[0]]||n[i.APS.DISPLAY_END_CARD[1]],o[i.APS.END_CARD_TIME[1]]=n[i.APS.END_CARD_TIME[0]]||n[i.APS.END_CARD_TIME[1]],void 0!==n[i.APS.PLAYER_DIMENSIONS[0]]&&(o[i.APS.PLAYER_DIMENSIONS[1]]={},o[i.APS.PLAYER_DIMENSIONS[1]][i.APS.PLAYER_DIMENSIONS_REL[1]]=n[i.APS.PLAYER_DIMENSIONS[0]][i.APS.PLAYER_DIMENSIONS_REL[0]],o[i.APS.PLAYER_DIMENSIONS[1]][i.APS.PLAYER_DIMENSIONS_VALUES[1]]=n[i.APS.PLAYER_DIMENSIONS[0]][i.APS.PLAYER_DIMENSIONS_VALUES[0]]),void 0!==n[i.APS.THIRD_PARTY_PIXELS[0]]&&(o[i.APS.THIRD_PARTY_PIXELS[1]]=n[i.APS.THIRD_PARTY_PIXELS[0]]),n[i.APS.INTERLEAVED_AD_SOURCE_TC_OBJECT[1]]&&n[i.APS.PARENT_AD_SOURCE[0]]){var a,u;o[i.APS.DYNAMIC_VALUES[1]]=o[i.APS.DYNAMIC_VALUES[1]]||{},o[i.APS.DYNAMIC_VALUES[1]][i.DYNAMIC_VALUES.SELLER_TRAFFIC_CHANNEL]=e[i.SAM_CONFIG.QUERY_PARAMS][i.QUERY_PARAMS_SHORT.TRAFFIC_CHANNEL],o[i.APS.INTERLEAVED_AD_SOURCE_TC_OBJECT[1]]=t((0,s.default)(!0,(l(a={},i.APS.WATERFALL[0],!1),l(a,i.APS.QUERY_PARAMS[0],{}),l(a,i.APS.CONFIG[0],{}),l(a,i.APS.DYNAMIC_VALUES[0],l({},i.DYNAMIC_VALUES.SELLER_TRAFFIC_CHANNEL,e[i.SAM_CONFIG.QUERY_PARAMS][i.QUERY_PARAMS_SHORT.TRAFFIC_CHANNEL])),a),n[i.APS.INTERLEAVED_AD_SOURCE_TC_OBJECT[1]]));var d=parseInt(e[i.SAM_CONFIG.QUERY_PARAMS][i.QUERY_PARAMS_SHORT.NEST_LEVEL],10);isNaN(d)&&(d=0),o[i.APS.INTERLEAVED_AD_SOURCE_TC_OBJECT[1]][i.APS.QUERY_PARAMS[0]][i.QUERY_PARAMS_SHORT.NEST_LEVEL]=(d+1).toString(),o[i.APS.PARENT_AD_SOURCE[1]]=(l(u={},i.APS.ID[1],n[i.APS.PARENT_AD_SOURCE[0]][i.APS.ID[0]]),l(u,i.APS.RATE[1],n[i.APS.PARENT_AD_SOURCE[0]][i.APS.RATE[0]]),l(u,i.APS.COST[1],n[i.APS.PARENT_AD_SOURCE[0]][i.APS.COST[0]]),l(u,i.APS.EM_REPORT_TYPE[1],n[i.APS.PARENT_AD_SOURCE[0]][i.APS.EM_REPORT_TYPE[0]]),l(u,i.APS.THIRD_PARTY_PIXELS[1],n[i.APS.PARENT_AD_SOURCE[0]][i.APS.THIRD_PARTY_PIXELS[0]]),u),delete o[i.APS.INTERLEAVED_AD_SOURCE_TC_OBJECT[1]][i.APS.WATERFALL[1]],o[i.APS.INTERLEAVED_AD_SOURCE_TC_OBJECT[1]].queryParams=o[i.APS.INTERLEAVED_AD_SOURCE_TC_OBJECT[1]][i.SAM_CONFIG.QUERY_PARAMS],o[i.APS.INTERLEAVED_AD_SOURCE_TC_OBJECT[1]].isInterleaved=!0,delete o[i.APS.INTERLEAVED_AD_SOURCE_TC_OBJECT[1]][i.SAM_CONFIG.QUERY_PARAMS]}r.push(o)}else r.push(n)}),n[i.APS.AD_SOURCES[1]]=r,delete n[i.APS.AD_SOURCES[0]]}}));return e}(f),h=p[i.SAM_CONFIG.QUERY_PARAMS],_=p[i.SAM_CONFIG.WATERFALL],v=p[i.SAM_CONFIG.CONFIG],m=p[i.SAM_CONFIG.MODULE_VERSION],y=p[i.SAM_CONFIG.DYNAMIC_VALUES],A=p[i.SAM_CONFIG.HALFPIPE_HOSTNAME],E=_[i.SAM_CONFIG.CHANNEL_TIMEOUT]?_[i.SAM_CONFIG.CHANNEL_TIMEOUT]:i.DEFAULT_CHANNEL_TIMEOUT;if(_&&h){var g=(0,o.createQueryString)(h);r.default.log("AdManagerSettings :: createSettingsObject :: queryString = "+g),"0"!==h.mute&&(h.mute="1"),t=isNaN(t)?0:Math.round(t),e=isNaN(e)?0:Math.round(e);var S={adType:i.REPORT_TYPE.VPAID_JS,queryParams:h,width:t,height:e,viewMode:n,desiredBitrate:u,creativeData:d,environmentVars:c,moduleVersion:m,halfpipeHostname:A,configObject:v,channelTimeout:E,queryString:g,waterfallObject:_,mute:"1"===h.mute,dynamicValues:y,serial:_[i.WATERFALL_OBJECT.REQUEST_METHOD]===i.WATERFALL_REQUEST_METHOD.SERIAL,e:p.e};return r.default.log("AdManagerSettings :: createSettingsObject :: end"),S}}catch(t){var b=t.message||"could not get remote config from server";throw t.stack&&r.default.log(t.stack),r.default.log("AdManagerSettings :: createSettingsObject :: "+b),new Error(b)}throw new Error("waterfallObject or queryParamsObject missing")};var r=u(n(12)),i=n(3),o=n(11),a=u(o),s=u(n(0));function u(t){return t&&t.__esModule?t:{default:t}}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=u(n(0)),i=u(n(259)),o=u(n(263)),a=n(3),s=n(11);function u(t){return t&&t.__esModule?t:{default:t}}var l=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.trafficChannels={},this.adSources={},this.mainTrafficChannel=null,this.defaultTracker=new i.default({registry:this}),this.defaultConfig=new o.default}return t.prototype.process=function(t){var e=this,n=new o.default(t.configObject),r=new i.default({registry:this});this.registerTrafficChannel({trafficChannel:t.queryParams.tc,config:n,tracker:r,isMain:!0}),r.init(t),t&&t.waterfallObject&&t.waterfallObject.tiers&&t.waterfallObject.tiers.forEach(function(n){n&&n.adSources&&n.adSources.forEach(function(n){if(n.of&&n.of.queryParams&&n.of.queryParams.tc&&n.parentAdSource){var r=n.of.queryParams.tc;if(!e.getTrafficChannelEntry(r)){var i=e.createInterleavedTrafficChannelData(n.of,t),o=i.tracker,a=i.config,s=i.trackerOptions;e.registerTrafficChannel({trafficChannel:r,tracker:o,config:a}),o.init(s)}e.registerAdSource(n,r),e.registerAdSource(n.parentAdSource,null,n.id)}else e.registerAdSource(n)})}),Object.keys(this.trafficChannels).forEach(function(t){e.trafficChannels[t].tracker.createThirdPartyTracking({tiers:[{adSources:e.trafficChannels[t].adSources.map(function(t){return e.adSources[t]})}]})})},t.prototype.createInterleavedTrafficChannelData=function(t,e){var n=(0,r.default)(!0,{},e);return a.INTERLEAVED_QUERY_PARAMS_TO_DELETE.forEach(function(t){delete n.queryParams[t]}),(0,r.default)(n.queryParams,t.queryParams),n.queryString=(0,s.createQueryString)(t.queryParams),n.config=t.config||{},n.dynamicValues=t.dynamicValues||{},delete n.waterfallObject,{config:new o.default(n.config),tracker:new i.default({registry:this}),trackerOptions:n}},t.prototype.getTrafficChannelEntry=function(t){return this.trafficChannels[t]||null},t.prototype.createTrafficChannelEntry=function(t){var e={id:t,adSources:[],tracker:null,reports:[],config:null};return this.trafficChannels[t]=e,e},t.prototype.registerTrafficChannel=function(t){var e=t.trafficChannel,n=t.config,r=t.tracker,i=t.isMain,o=this.createTrafficChannelEntry(e);return o.config=n,o.tracker=r,i&&(this.mainTrafficChannel=o),o},t.prototype.registerAdSource=function(t,e,n){e=e||this.mainTrafficChannel.id;var i=this.getTrafficChannelEntry(e);-1===i.adSources.indexOf(t.id)&&i.adSources.push(t.id),this.adSources[t.id]||(n?(this.adSources[t.id]=(0,r.default)(!0,{},t),delete this.adSources[t.id].rate,delete this.adSources[t.id].cost):this.adSources[t.id]=(0,r.default)(!0,{},t))},t.prototype.getTrafficChannel=function(t){var e=this;return Object.keys(this.trafficChannels).filter(function(n){return-1!==e.trafficChannels[n].adSources.indexOf(t)})[0]},t.prototype.registerReport=function(t,e,n,r){var i=this.getReportKey(t,e,n);if(r=r||this.mainTrafficChannel.id,-1!==this.trafficChannels[r].reports.indexOf(i))throw new Error("Double report "+i);this.trafficChannels[r].reports.push(i)},t.prototype.canReport=function(t,e,n,r){return r=r||this.mainTrafficChannel.id,-1===this.trafficChannels[r].reports.indexOf(this.getReportKey(t,e,n))},t.prototype.getReportKey=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.map(function(t){return t||null}).join("@@")},t.prototype.matchKeyWith=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return 0===t.indexOf(this.getReportKey.apply(this,n))},t.prototype.getTracker=function(t,e){if(t&&!e){if(!(e=this.getTrafficChannel(t)))throw new Error("No matching tc for adSource "+t)}else if(!t&&!e&&this.mainTrafficChannel)return this.mainTrafficChannel.tracker;return e?this.trafficChannels[e].tracker:this.defaultTracker},t.prototype.getConfig=function(t,e){if(t&&!e){if(!(e=this.getTrafficChannel(t)))throw new Error("No matching tc for adSource "+t)}else if(!t&&!e&&this.mainTrafficChannel)return this.mainTrafficChannel.config;return e?this.trafficChannels[e].config:this.defaultConfig},t.prototype.getAdSourceData=function(t){return this.adSources[t]||null},t.prototype.applyOnTrackers=function(t){for(var e=this,n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Object.keys(this.trafficChannels).forEach(function(n){var i;(i=e.trafficChannels[n].tracker)[t].apply(i,r)})},t.prototype.isMainTrafficChannel=function(t){return this.trafficChannels[t]&&this.mainTrafficChannel===this.trafficChannels[t]},t.prototype.getParentAdSource=function(t){var e=this.getAdSourceData(t);return e&&e.parentAdSource||null},t.prototype.isParentAdSource=function(t){var e=this;return Object.keys(this.adSources).some(function(n){return e.adSources[n]&&e.adSources[n].parentAdSource&&e.adSources[n].parentAdSource.id===t})},t.prototype.countChildrenActions=function(t,e){var n=this;return Object.keys(this.adSources).filter(function(r){if(n.adSources[r]&&n.adSources[r].parentAdSource&&n.adSources[r].parentAdSource.id===t){var i=n.getTrafficChannel(r);if(n.getTrafficChannelEntry(i).reports.some(function(t){return e.some(function(e){return n.matchKeyWith(t,r,e)})}))return!0}return!1}).length},t.prototype.getParentAdSourceChildren=function(t){var e=this;return Object.keys(this.adSources).filter(function(n){return e.adSources[n]&&e.adSources[n].parentAdSource&&e.adSources[n].parentAdSource.id===t}).map(function(t){return e.getAdSourceData(t)})},t.prototype.createAnalyticsObject=function(t){var e=t.adSource,n=t.tier,i=t.tierLength;t.childAnalyticsObject;return(0,r.default)({tier:n,tierlength:i,adsourceid:e.id,adsourcename:e.name,adsourcerate:e.rate,fromBL:e.fromBL,blScore:e.blScore,emReportType:e.emReportType,fc:e.fc,bundleid:e.bundleId,cost:e.cost},{},this.isParentAdSource(e.id)?{adsourcetype:"vpaid js"}:{},e.dynamicValues)},t.prototype.dispose=function(){this.trafficChannels=null,this.adSources=null,this.mainTrafficChannel=null,this.defaultTracker=null},t.prototype.toString=function(){var t=this;return JSON.stringify({mainTrafficChannel:""+this.mainTrafficChannel.id,trafficChannels:Object.keys(this.trafficChannels).reduce(function(e,n){return e[n]={adSources:t.trafficChannels[n].adSources,reports:t.trafficChannels[n].reports,tracker:t.mainTrafficChannel.id===n?"Main Tracker":"Tracker of "+n,config:t.trafficChannels[n].config.serialize()},e},{}),adSources:this.adSources},null,2)},t}();e.default=l,t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=I(n(88)),i=n(3),o=I(n(27)),a=I(n(12)),s=n(11),u=I(s),l=I(n(4)),d=I(n(2)),c=I(n(0)),f=I(n(34)),p=I(n(83)),h=I(n(85)),_=I(n(41)),v=I(n(121)),m=I(n(117)),y=I(n(42)),A=I(n(92)),E=I(n(260)),g=I(n(262)),S=I(n(28)),b=I(n(26)),T=n(61);function I(t){return t&&t.__esModule?t:{default:t}}var R=(0,S.default)(),O=function(){function t(e){var n=e.registry;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.streamlytics=new r.default({component:"adsmanager"}),this.registry=n}return t.prototype.init=function(t){this.options=t,this.queryParams=t.queryParams,this.initTime=this.queryParams.initTime||(new Date).getTime(),this.slot=t.environmentVars&&t.environmentVars.slot;var e=u.default.getQueryParam(t.queryParams,"ENV"),n=(0,s.normalizePageUrl)((0,b.default)(u.default.getQueryParam(t.queryParams,"PAGE_URL")||"")),r=i.OMIT_DOMAIN_ENVS.indexOf(e)>-1?"":(0,p.default)((0,f.default)(u.default.getQueryParam(t.queryParams,"DOMAIN")||n)),o=(0,h.default)(),l=i.OMIT_DOMAIN_ENVS.indexOf(e)>-1?"":(0,p.default)((0,f.default)(o)),d=u.default.getQueryParam(t.queryParams,"WIDTH"),_=u.default.getQueryParam(t.queryParams,"HEIGHT"),v=u.default.getQueryParam(t.queryParams,"TRAFFIC_CHANNEL");this.config=this.registry.getConfig(null,v),this.settings=(0,c.default)({adtype:t.adType,sid:t.sessionId,module_version:t.moduleVersion,halfpipe_hostname:t.halfpipeHostname,org:u.default.getQueryParam(t.queryParams,"ORGANIZATION"),domain:r,ddomain:l,position:u.default.getQueryParam(t.queryParams,"AD_POSITION"),playerid:u.default.getQueryParam(t.queryParams,"PLAYER_ID"),playername:u.default.getQueryParam(t.queryParams,"PLAYER_NAME"),cost:u.default.getQueryParam(t.queryParams,"COST"),pageurl:n,dpageurl:o,width:d,height:_,playersize:(0,E.default)(d,_),sam_js_ver:u.default.getQueryParam(t.queryParams,"SAM_JS_VERSION"),subid:u.default.getQueryParam(t.queryParams,"SUB_ID"),loop:u.default.getQueryParam(t.queryParams,"LOOP"),appname:u.default.getQueryParam(t.queryParams,"APP_NAME"),ifa:u.default.getQueryParam(t.queryParams,"IFA"),bundleid:u.default.getQueryParam(t.queryParams,"BUNDLE_ID"),env:e,bl:this.config.blid(),tc:v,version:i.VERSION,player_ver:t.playerVersion,cc:u.default.getQueryParam(t.queryParams,"COUNTRY_CODE"),pv:u.default.getQueryParam(t.queryParams,"PLAYER_VERSION"),nest:u.default.getQueryParam(t.queryParams,"NEST_LEVEL")||this.config.nestLevel(),tc_name:u.default.getQueryParam(t.queryParams,"TRAFFIC_CHANNEL_NAME"),os:u.default.getQueryParam(t.queryParams,"OS"),osversion:u.default.getQueryParam(t.queryParams,"OS_VERSION"),browser:u.default.getQueryParam(t.queryParams,"BROWSER"),browserversion:u.default.getQueryParam(t.queryParams,"BROWSER_VERSION"),ip:u.default.getQueryParam(t.queryParams,"USER_IP"),ab:this.config.abTest(),uc:u.default.getQueryParam(t.queryParams,"USER_CONSENT")},t.waterfallObject?{waterfallid:t.waterfallObject[i.WATERFALL_OBJECT.WATERFALL_ID],waterfallname:t.waterfallObject[i.WATERFALL_OBJECT.WATERFALL_NAME]}:{}),this.updateDetectedSize(t.width,t.height),t.dynamicValues&&(this.settings=(0,c.default)(this.settings,t.dynamicValues)),u.default.extractCustomParams(this.settings,t.queryParams),this.eventsCap={},this.reportErrors=void 0!==t.queryParams.reportErrors,this.streamlytics.setBuffering(this.config.analytics()),a.default.log("Tracker initialized")},t.prototype.updateDetectedSize=function(t,e){this.settings.dwidth=t,this.settings.dheight=e,this.settings.dplayersize=(0,E.default)(this.settings.dwidth,this.settings.dheight)},t.prototype.shouldSendAction=function(t,e){return-1===i.EXCLUDED_TRACKING_ACTIONS[t].indexOf(e)},t.prototype.reportInitError=function(t){t.action=i.AD_SERVER_REPORTS.INIT_ERROR,this.adServerReport(t)},t.prototype.reportInit=function(){this.adServerReport({action:i.AD_SERVER_REPORTS.SCRIPT_INIT}),this.reportToThirdParty(i.AD_SERVER_REPORTS.SCRIPT_INIT)},t.prototype.reportRequest=function(t){var e=this.registry.getParentAdSource(t.adsourceid);e&&this.registry.getTracker(e.id).reportInit();this.reportInit(),this.adServerReport((0,c.default)({action:i.AD_SERVER_REPORTS.REQUEST},t))},t.prototype.reportWin=function(t){var e=this.registry.getParentAdSource(t.adsourceid);if(e){var n=this.registry.getTracker(e.id),r=this.registry.createAnalyticsObject({adSource:e,childAnalyticsObject:t});n.reportWin(r),n.adUnitReport((0,c.default)({},r,{action:l.default.AdLoaded}))}this.adServerReport((0,c.default)({action:i.AD_SERVER_REPORTS.WIN},t))},t.prototype.reportBid=function(t){var e=this.registry.getParentAdSource(t.adsourceid);if(e){var n=this.registry.getTracker(e.id),r=this.registry.createAnalyticsObject({adSource:e,childAnalyticsObject:t});n.reportBid(r)}this.adServerReport((0,c.default)({action:i.AD_SERVER_REPORTS.BID},t))},t.prototype.reportLose=function(t){this.reportError((0,c.default)({},t,{action:i.AD_SERVER_REPORTS.LOSE}))},t.prototype.reportHttpError=function(t){this.reportError((0,c.default)({},t,{action:i.AD_SERVER_REPORTS.ERROR}))},t.prototype.reportIntegratorError=function(t){this.reportError((0,c.default)({},t,{action:i.AD_SERVER_REPORTS.ERROR}))},t.prototype.reportTargetingError=function(t){t.action=i.AD_SERVER_REPORTS.ERROR,this.reportError(t)},t.prototype.reportRateLimiterError=function(t){t.action=i.AD_SERVER_REPORTS.ERROR,this.reportError(t)},t.prototype.reportReplaceError=function(t){this.reportError((0,c.default)({action:i.AD_SERVER_REPORTS.ERROR,errorcode:i.ERROR_CODES.AD_SOURCE_REPLACED_BY_VAST},t))},t.prototype.reportError=function(t){if(t.errorcode=t.errorcode||t.code,t.category=u.default.getErrorCodeCategory(t.errorcode),(t.category===i.ERROR_CATEGORY_PREBID||t.category===i.ERROR_CATEGORY_RATE_LIMITER||this.reportErrors)&&(t.category===i.ERROR_CATEGORY_RATE_LIMITER&&(t.errorcode=t.status,delete t.status),this.reportErrors||delete t.error,delete t.message,delete t.code,delete t.name,delete t.toString,this._report(t),t.adsourceid)){var e=this.registry.getParentAdSource(t.adsourceid);if(e){var n=this.registry.getTracker(e.id),r=this.registry.getParentAdSourceChildren(e.id).length;if(r&&r===this.registry.countChildrenActions(e.id,[i.AD_SERVER_REPORTS.ERROR,i.AD_SERVER_REPORTS.LOSE])){var o=(0,c.default)({errorcode:i.ERROR_CODES.VPAID_ERROR,action:i.AD_SERVER_REPORTS.ERROR},this.registry.createAnalyticsObject({adSource:e,childAnalyticsObject:t}));n.reportError(o)}}}},t.prototype.adServerReport=function(t){this.shouldSendAction(i.REPORT_CATEGORIES.AD_SERVER,t.action)&&(t.category=i.REPORT_CATEGORIES.AD_SERVER,this._report(t))},t.prototype.adUnitReport=function(t){if(this.shouldSendAction(i.REPORT_CATEGORIES.AD_UNIT,t.action)){t.category=i.REPORT_CATEGORIES.AD_UNIT,this._report(t);var e=this.registry.getParentAdSource(t.adsourceid);if(e){var n=this.registry.getTracker(e.id),r=this.registry.createAnalyticsObject({adSource:e,childAnalyticsObject:t});n.adUnitReport((0,c.default)({},r,{action:t.action})),n.reportToThirdParty(t.action,e)}}},t.prototype._createThirdPartyTrackingHelper=function(t,e){var n=this;t.forEach(function(t){if(t.event&&t.url){for(var r=t.event.toLowerCase(),o=(0,T.injectMacros)(t.url,{queryParams:n.queryParams},n).replace(i.THIRD_PARTY_TRACKING.TRAFFIC_CHANNEL_ID,n.settings.tc).replace(i.THIRD_PARTY_TRACKING.TRAFFIC_CHANNEL_NAME,encodeURIComponent(n.settings.tc_name)),s=0;s<10;s++)n.settings.hasOwnProperty("param"+s)&&(o=o.replace(i.THIRD_PARTY_TRACKING.CUSTOM_PARAM.replace("IDX",s+""),n.settings["param"+s]));a.default.log("Tracker adding third party pixel tracking for event "+r),e[r]=e[r]||[],e[r].push({url:o,type:t.type||i.IMAGE_THIRD_PARTY_PIXEL})}})},t.prototype.createThirdPartyTracking=function(t){var e=this;this.thirdPartyTracking={};var n=this.config.thirdPartyPixels()&&(0,d.default)(this.config.thirdPartyPixels())?this.config.thirdPartyPixels():null;n&&(this.thirdPartyTracking.general={},this._createThirdPartyTrackingHelper(n,this.thirdPartyTracking.general)),(t&&t.tiers||[]).forEach(function(t){(t.adSources||[]).forEach(function(t){t.thirdPartyPixels&&(e.thirdPartyTracking[t.id]={},e._createThirdPartyTrackingHelper(t.thirdPartyPixels,e.thirdPartyTracking[t.id]))})})},t.prototype.reportToThirdParty=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t;if(this.registry.canReport(n.id,"ttp_"+t,this.settings.tc)){this.registry.registerReport(n.id,"ttp_"+t,this.settings.tc);var o=[],s=n.id||"",u=n.name?encodeURIComponent(n.name):"",l=n.rate||"";t=t.toLowerCase(),this.thirdPartyTracking&&(this.thirdPartyTracking.general&&(0,d.default)(this.thirdPartyTracking.general[t])&&(o=o.concat(this.thirdPartyTracking.general[t])),s&&this.thirdPartyTracking[s]&&(0,d.default)(this.thirdPartyTracking[s][t])&&(o=o.concat(this.thirdPartyTracking[s][t]))),o.length&&o.forEach(function(n){var o=!1,d=n.url.replace(i.THIRD_PARTY_TRACKING.AD_SOURCE_NAME,u).replace(i.THIRD_PARTY_TRACKING.AD_SOURCE_RATE,l).replace(i.THIRD_PARTY_TRACKING.AD_SOURCE_ID,s);a.default.log("Tracker tracking third party pixel for event "+t+" url="+d+" type="+n.type);var f=e.slot||window.document.body;if(n.type===i.IMAGE_THIRD_PARTY_PIXEL)e._get(d),o=!0;else if(n.type===i.IFRAME_THIRD_PARTY_PIXEL){var p=(0,_.default)(null,0,0,d);p.style.position="absolute",p.style.bottom=0,p.style.left=0,f.appendChild(p),o=!0}else if(n.type===i.JS_THIRD_PARTY_PIXEL){var h=void 0;try{h=(0,v.default)(d).src}catch(t){h=d}if(h||(h=d),(0,m.default)(h)){h=h.replace(/^(.*)\:\/\//,"https://");var E=f.ownerDocument.createElement("script");E.src=h,f.appendChild(E),o=!0}else{var S=(0,_.default)(null,0,0);S.style.position="absolute",S.style.bottom=0,S.style.left=0,f.appendChild(S),(0,y.default)(S,(0,A.default)(g.default,{placeholder:h})),o=!0}}o&&R.pixels&&R.pixels.push((0,c.default)({event:r},n,{url:d}))})}},t.prototype._report=function(t){if(this.registry.canReport(t.adsourceid,t.action,t.category,this.settings.tc)){this.registry.registerReport(t.adsourceid,t.action,t.category,this.settings.tc);var e=(0,c.default)({},this.settings,t),n=e.emReportType;if(delete e.emReportType,e.action){if(this.config.eventsBlacklist().indexOf(e.action)<0){if(this.eventsCap){if(void 0===this.eventsCap[e.action]&&(this.eventsCap[e.action]=0),this.eventsCap[e.action]===this.config.trackEventCap())return void a.default.log("cap "+i.TRACK_EVENT_CAP+" reached on event: "+e.action);this.eventsCap[e.action]+=1}e.action!==l.default.AdImpression&&delete e.adsourcerate,e.loadtime=(new Date).getTime()-this.initTime,i.EVENTS_SHORT_VERSION[e.action]!==this.config.billedEvent()&&delete e.cost,-1===i.BL_SCORE_EVENTS.indexOf(e.action)&&delete e.blScore,a.default.log("reporting: "+JSON.stringify(e));try{this.streamlytics.info(e)}catch(t){}}if(n)try{var r=(0,c.default)({},e,{uid:this.config.uid()});this._handleEventManagerReportType(n,r)}catch(t){}}}},t.prototype._handleEventManagerReportType=function(t,e){if(e.adsourceid){var n=void 0;if(e.action!==i.AD_SERVER_REPORTS.BID&&e.category!==i.ERROR_CATEGORY_PREBID||(i.BITWISE_REPORT_TYPES.REQUEST&t)!==i.BITWISE_REPORT_TYPES.REQUEST)e.action===l.default.AdImpression||"ai"===e.action?((i.BITWISE_REPORT_TYPES.IMPRESSION&t)===i.BITWISE_REPORT_TYPES.IMPRESSION&&(n={data:{type:i.BITWISE_REPORT_TYPES.IMPRESSION,adSource:e.adsourceid,domain:e.ddomain}},this._sendToEventManager(n)),(i.BITWISE_REPORT_TYPES.USER_IMPRESSION_CAP&t)===i.BITWISE_REPORT_TYPES.USER_IMPRESSION_CAP&&(n={data:{type:i.BITWISE_REPORT_TYPES.USER_IMPRESSION_CAP,adSource:e.adsourceid,uid:e.uid}},this._sendToEventManager(n)),(i.BITWISE_REPORT_TYPES.IMPRESSION_BETWEEN_FT&t)===i.BITWISE_REPORT_TYPES.IMPRESSION_BETWEEN_FT&&(n={data:{type:i.BITWISE_REPORT_TYPES.IMPRESSION_BETWEEN_FT,adSource:e.adsourceid,uid:e.uid}},this._sendToEventManager(n))):e.action!==l.default.AdVideoComplete&&"avc"!==e.action||((i.BITWISE_REPORT_TYPES.COMPLETION&t)===i.BITWISE_REPORT_TYPES.COMPLETION&&(n={data:{type:i.BITWISE_REPORT_TYPES.COMPLETION,adSource:e.adsourceid,domain:e.ddomain}},this._sendToEventManager(n)),(i.BITWISE_REPORT_TYPES.USER_COMPLETE_CAP&t)===i.BITWISE_REPORT_TYPES.USER_COMPLETE_CAP&&(n={data:{type:i.BITWISE_REPORT_TYPES.USER_COMPLETE_CAP,adSource:e.adsourceid,uid:e.uid}},this._sendToEventManager(n)),(i.BITWISE_REPORT_TYPES.COMPLETION_BETWEEN_FT&t)===i.BITWISE_REPORT_TYPES.COMPLETION_BETWEEN_FT&&(n={data:{type:i.BITWISE_REPORT_TYPES.COMPLETION_BETWEEN_FT,adSource:e.adsourceid,uid:e.uid}},this._sendToEventManager(n)));else{var r={};r[e.adsourceid]=1,n={data:{type:i.BITWISE_REPORT_TYPES.REQUEST,adSources:[r]}},this._sendToEventManager(n)}}},t.prototype._sendToEventManager=function(t){if(t){var e=this.config.rtcEndpoint().replace("[DATA]",encodeURIComponent(btoa(JSON.stringify(t))));R.rtcEvents&&R.rtcEvents.push((0,c.default)({url:e},t.data)),e=e.replace("[CB]",Math.ceil(1e10*Math.random())+""),(0,o.default)(e)}},t.prototype._get=function(t){(new Image).src=t},t}();e.default=O,t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(!t||!e)return null;var n=t*e;return n<=o.default.SMALL.SIZE?o.default.SMALL.LABEL:n>=o.default.LARGE.SIZE?o.default.LARGE.LABEL:o.default.MEDIUM.LABEL};var r,i=n(261),o=(r=i)&&r.__esModule?r:{default:r};t.exports=e.default},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=PLAYER_SIZE={SMALL:{LABEL:"small",SIZE:76800},MEDIUM:{LABEL:"medium"},LARGE:{LABEL:"large",SIZE:248832}},t.exports=e.default},function(t,e){t.exports='<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <style>\n        body { margin: 0; padding: 0; }\n    </style>\n    {{placeholder}}\n</head>\n<body>\n</body>\n</html>\n'},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(3),o=n(12),a=(r=o)&&r.__esModule?r:{default:r};var s=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),a.default.log("config init "+JSON.stringify(e)),this.settings=e}return t.prototype.adSourceRequestTimeout=function(){return this.settings.reqTO||i.AD_SOURCE_REQUEST_TO},t.prototype.trackEventCap=function(){return this.settings.trackEventCap||i.TRACK_EVENT_CAP},t.prototype.vpaidAdResponseTimeout=function(){return this.settings.vpaidAdResponseTimeout||i.VPAID_RESPONSE_TIMEOUT},t.prototype.vpaidAdLoadTimeout=function(){return this.settings.loadTO||i.VPAID_AD_LOADED_TIMEOUT},t.prototype.vpaidAdStartedTimeout=function(){return this.settings.startedTO||i.VPAID_AD_STARTED_TIMEOUT},t.prototype.vpaidAdImpressionTimeout=function(){return this.settings.impTO||i.VPAID_AD_IMPRESSION_TIMEOUT},t.prototype.waitForDownloads=function(){return this.settings.foTO||i.WAIT_FOR_DOWNLOADS},t.prototype.eventsBlacklist=function(){return this.settings.eventsBlacklist||i.EVENTS_BLACKLIST},t.prototype.analytics=function(){return this.settings.analytics},t.prototype.thirdPartyPixels=function(){return this.settings.thirdPartyPixels},t.prototype.blid=function(){return this.settings.BLId||this.settings.bl},t.prototype.billedEvent=function(){return this.settings.billedEvent||i.DEFAULT_BILLED_EVENT},t.prototype.moatID=function(){return this.settings.moat},t.prototype.abTest=function(){return this.settings.ab},t.prototype.nestLevel=function(){return this.settings.ns},t.prototype.rtcEndpoint=function(){return"https://"+(this.settings.rtc||i.DEFAULT_EVENT_MANAGER_DOMAIN)+"/srplayer?data=[DATA]&cb=[CB]"},t.prototype.disableBufferingVastClick=function(){return this.settings.disableBufferingVastClick||i.DISABLE_BUFFERING_VAST_CLICK},t.prototype.breakpoint=function(){return this.settings.breakpoint},t.prototype.breakpointFor=function(){return this.settings.breakpointFor},t.prototype.clickThruText=function(){return this.settings.clickThruText},t.prototype.uid=function(){return this.settings.u},t.prototype.serialize=function(){var e=this;return Object.getOwnPropertyNames(t.prototype).filter(function(t){return"serialize"!==t&&"constructor"!==t}).reduce(function(t,n){return"function"==typeof e[n]&&(t[n]=e[n]()),t},{})},t}();e.default=s,t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=u(n(0)),i=u(n(24)),o=u(n(6)),a=u(n(16)),s=n(7);function u(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e))}var d=function(t){function e(n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return i.options=n,i.skipText=i.options.text||s.DEFAULT_SKIP_COUNTING_TEXT,i.skipTime=i.options.seconds||s.DEFAULT_SKIP_TIME,i.state=r,i.skipButton=i._render(),i}return l(e,t),e.prototype._render=function(){var t=document.createElement("div");return t.innerText=this.skipText+" "+this.skipTime,t.addEventListener("click",this._onClick.bind(this)),(0,o.default)(t,"sr-blade-skip-button"),t},e.prototype._onClick=function(){this.state.active&&this.emit(s.SKIP_BUTTON_EVENTS.skipButtonClicked)},e.prototype.setState=function(t){if(t.skipButtonVisible&&!this.state.skipButtonVisible&&((0,a.default)(this.skipButton,"sr-blade-skip-button-hidden"),(0,o.default)(this.skipButton,"sr-blade-skip-button-visible")),t.currentTime&&t.currentTime!==this.state.currentTime){var e=Math.ceil(this.skipTime-t.currentTime);e>0?this.skipButton.innerText=this.skipText+" "+e:0!==e||this.state.active||(this.skipButton.innerText=s.DEFAULT_SKIP_TEXT,(0,o.default)(this.skipButton,"sr-blade-skip-button-active"),this.state.active=!0,this.emit(s.SKIP_BUTTON_EVENTS.skippableStateChange))}this.state=(0,r.default)(this.state,t)},e.prototype.el=function(){return this.skipButton},e.prototype.reset=function(){(0,o.default)(this.skipButton,"sr-blade-skip-button-hidden"),(0,a.default)(this.skipButton,"sr-blade-skip-button-visible"),(0,a.default)(this.skipButton,"sr-blade-skip-button-active"),this.state.active=!1,this.skipButton.innerText=this.skipText+" "+this.skipTime},e.prototype.dispose=function(){},e}(i.default);e.default=d,t.exports=e.default},function(t,e,n){n(266),n(268),n(270),n(272)},function(t,e,n){var r=n(267);"string"==typeof r&&(r=[[t.i,r,""]]);n(36)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(35)()).push([t.i,".sr-bladex-close-button {\n  position: absolute;\n  right: 2px;\n  top: 2px;\n  width: 18px;\n  height: 18px;\n  z-index: 3;\n  cursor: pointer; }\n\n.sr-bladex-close-button:hover {\n  opacity: 1; }\n\n.sr-bladex-close-button:before,\n.sr-bladex-close-button:after {\n  position: absolute;\n  right: 8px;\n  content: ' ';\n  height: 16px;\n  width: 2px;\n  background-color: white; }\n\n.sr-bladex-close-button:before {\n  -webkit-transform: rotate(45deg);\n          transform: rotate(45deg); }\n\n.sr-bladex-close-button:after {\n  -webkit-transform: rotate(-45deg);\n          transform: rotate(-45deg); }\n\n.sr-bladex-sticky .sr-bladex-intext-close-button {\n  display: none; }\n",""])},function(t,e,n){var r=n(269);"string"==typeof r&&(r=[[t.i,r,""]]);n(36)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(35)()).push([t.i,".sr-blade-control-bar {\n  direction: ltr;\n  height: 100px;\n  position: absolute;\n  bottom: 0;\n  width: 100%;\n  background-position: bottom;\n  background-repeat: repeat-x;\n  transition: opacity 0.25s cubic-bezier(0, 0, 0.2, 1);\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADGCAYAAAAT+OqFAAAAdklEQVQoz42QQQ7AIAgEF/T/D+kbq/RWAlnQyyazA4aoAB4FsBSA/bFjuF1EOL7VbrIrBuusmrt4ZZORfb6ehbWdnRHEIiITaEUKa5EJqUakRSaEYBJSCY2dEstQY7AuxahwXFrvZmWl2rh4JZ07z9dLtesfNj5q0FU3A5ObbwAAAABJRU5ErkJggg==); }\n  .sr-blade-control-bar .sr-blade-control-bar-container {\n    height: 42px;\n    position: absolute;\n    bottom: 2px;\n    width: 100%;\n    z-index: 5;\n    transition: opacity 0.2s ease-in-out; }\n\n.sr-blade-control-bar-no-gradient {\n  background-image: none; }\n\n.sr-blade-control-hidden {\n  opacity: 0; }\n\n.sr-blade-control {\n  position: absolute;\n  box-sizing: border-box;\n  cursor: pointer;\n  z-index: 5;\n  bottom: 10px; }\n\n.sr-blade-right-control {\n  right: 10px; }\n\n.sr-blade-play {\n  border-top: 7px solid transparent;\n  border-left: 12px solid #fff;\n  border-bottom: 7px solid transparent; }\n\n.sr-blade-pause {\n  width: 12px;\n  height: 14px;\n  border-right: 4px solid #fff;\n  border-left: 4px solid #fff; }\n\n.sr-blade-volume {\n  height: 15px;\n  width: 22px; }\n  .sr-blade-volume div {\n    width: 6px;\n    height: 6px;\n    background: #fff;\n    margin: 5px 0 0 1px; }\n    .sr-blade-volume div:after {\n      content: '';\n      position: absolute;\n      width: 0;\n      height: 0;\n      border-style: solid;\n      border-color: transparent #fff transparent transparent;\n      border-width: 8px 11px 8px 14px;\n      left: -13px;\n      top: 0;\n      box-sizing: border-box; }\n    .sr-blade-volume div:before {\n      -webkit-transform: rotate(45deg);\n              transform: rotate(45deg);\n      border-radius: 0 50px 0 0;\n      content: '';\n      position: absolute;\n      width: 10px;\n      height: 10px;\n      border-style: double;\n      border-color: #fff;\n      border-width: 6px 6px 0 0;\n      left: 14px;\n      top: 3px;\n      transition: all 0.2s ease-out;\n      box-sizing: border-box; }\n  .sr-blade-volume.sr-blade-mute div:before {\n    -webkit-transform: scale(0.5) translate(-15px, 0) rotate(36deg);\n            transform: scale(0.5) translate(-15px, 0) rotate(36deg);\n    opacity: 0; }\n\n.sr-blade-vpaid-loading {\n  top: -10000px !important; }\n\n.sr-blade-skip-button {\n  opacity: 0;\n  position: absolute;\n  z-index: 20000;\n  width: 90px;\n  box-sizing: border-box;\n  bottom: 20%;\n  right: 0;\n  color: #fff;\n  background: rgba(36, 36, 36, 0.6);\n  border: 0;\n  font-size: 12px;\n  line-height: 12px;\n  text-align: center;\n  font-weight: 300;\n  font-family: LatoLatin, Almoni, sans-serif;\n  padding: 12px 15px;\n  cursor: default;\n  transition: opacity 0.2s ease-in-out;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none; }\n  .sr-blade-skip-button.sr-blade-skip-button-hidden {\n    transition: 0s; }\n  .sr-blade-skip-button.sr-blade-skip-button-visible {\n    opacity: 1; }\n  .sr-blade-skip-button.sr-blade-skip-button-active {\n    cursor: pointer; }\n    .sr-blade-skip-button.sr-blade-skip-button-active:hover {\n      background: rgba(36, 36, 36, 0.8); }\n    .sr-blade-skip-button.sr-blade-skip-button-active:after {\n      border-style: solid;\n      border-width: 2px 2px 0 0;\n      content: '';\n      display: inline-block;\n      left: 4px;\n      top: 3px;\n      position: relative;\n      -webkit-transform: rotate(45deg);\n              transform: rotate(45deg);\n      vertical-align: top;\n      height: 6px;\n      width: 6px; }\n\n.sr-ac video::-webkit-media-controls,\n.sr-cc video::-webkit-media-controls {\n  display: none !important; }\n\n.sr-blade-progress:hover {\n  height: 6px;\n  bottom: 31px; }\n\n.sr-blade-progress {\n  position: absolute;\n  bottom: 34px;\n  height: 3px;\n  width: 98%;\n  left: 1%;\n  right: 1%;\n  transition: height 50ms ease-in-out 50ms, bottom 50ms ease-in-out 50ms; }\n  .sr-blade-progress .sr-blade-progress-container {\n    display: flex;\n    align-items: center;\n    position: relative;\n    width: auto;\n    height: inherit; }\n  .sr-blade-progress .sr-blade-progress--knob {\n    height: 11px;\n    width: 11px;\n    background-color: #0086c7;\n    border-radius: 50%;\n    box-shadow: 0 0 10px rgba(0, 0, 0, 0.4);\n    top: -2px;\n    position: absolute;\n    pointer-events: none;\n    -webkit-transform: translateX(-50%);\n            transform: translateX(-50%);\n    transition: opacity 50ms ease-in-out 50ms;\n    color: rgba(255, 255, 255, 0.8); }\n  .sr-blade-progress .sr-blade-progress--tooltip {\n    width: 30px;\n    height: 16px;\n    line-height: normal;\n    top: -25px;\n    font-size: 12px;\n    text-align: center;\n    vertical-align: center;\n    padding: 0;\n    pointer-events: none;\n    font-family: Arial, Helvetica, sans-serif;\n    -webkit-transform: translateX(-50%);\n            transform: translateX(-50%);\n    background-color: rgba(36, 36, 36, 0.6);\n    color: #fff;\n    position: absolute; }\n\n.sr-blade-progress-mobile {\n  height: 6px;\n  bottom: 31px; }\n\n.sr-blade-progress-hidden {\n  visibility: hidden; }\n\n.sr-blade-progress--ad {\n  cursor: default;\n  pointer-events: none; }\n\n.sr-blade-progress-small-container {\n  display: flex;\n  position: absolute;\n  bottom: 0;\n  padding: 0;\n  left: 0;\n  width: 100%;\n  z-index: 5;\n  height: 3px; }\n\n.sr-blade-progress--rail {\n  background-color: rgba(255, 255, 255, 0.2);\n  height: 100%;\n  width: 100%;\n  position: absolute; }\n\n.sr-blade-progress--progress {\n  transition: -webkit-transform 150ms ease-in-out;\n  transition: transform 150ms ease-in-out;\n  transition: transform 150ms ease-in-out, -webkit-transform 150ms ease-in-out;\n  width: 0;\n  height: 100%;\n  position: absolute; }\n\n.sr-blade-progress--progress-ad {\n  background-color: #fc0; }\n\n.sr-blade-progress--progress-content {\n  background-color: #0086c7; }\n\n.sr-blade-time-display {\n  color: #fff;\n  left: 42px;\n  font-size: 12px;\n  cursor: default;\n  bottom: 10px;\n  line-height: 12px;\n  font-family: Arial, Helvetica, sans-serif; }\n  .sr-blade-time-display .sr-blade-separator {\n    padding: 2px; }\n\n.sr-blade-left-control {\n  left: 20px; }\n",""])},function(t,e,n){var r=n(271);"string"==typeof r&&(r=[[t.i,r,""]]);n(36)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(35)()).push([t.i,".sr-blade-loader {\n  pointer-events: none;\n  display: inline-block;\n  position: relative;\n  width: 64px;\n  height: 64px;\n  position: absolute;\n  top: calc(50% - 32px);\n  left: calc(50% - 32px);\n  z-index: 1; }\n  .sr-blade-loader.sr-blade-loader-hidden {\n    display: none; }\n\n.sr-blade-loader div {\n  position: absolute;\n  top: 27px;\n  width: 11px;\n  height: 11px;\n  border-radius: 50%;\n  background: #fff;\n  -webkit-animation-timing-function: cubic-bezier(0, 1, 1, 0);\n          animation-timing-function: cubic-bezier(0, 1, 1, 0); }\n\n.sr-blade-loader div:nth-child(1) {\n  left: 6px;\n  -webkit-animation: sr-blade-loader1 0.6s infinite;\n          animation: sr-blade-loader1 0.6s infinite; }\n\n.sr-blade-loader div:nth-child(2) {\n  left: 6px;\n  -webkit-animation: sr-blade-loader2 0.6s infinite;\n          animation: sr-blade-loader2 0.6s infinite; }\n\n.sr-blade-loader div:nth-child(3) {\n  left: 26px;\n  -webkit-animation: sr-blade-loader2 0.6s infinite;\n          animation: sr-blade-loader2 0.6s infinite; }\n\n.sr-blade-loader div:nth-child(4) {\n  left: 45px;\n  -webkit-animation: sr-blade-loader3 0.6s infinite;\n          animation: sr-blade-loader3 0.6s infinite; }\n\n@-webkit-keyframes sr-blade-loader1 {\n  0% {\n    -webkit-transform: scale(0);\n            transform: scale(0); }\n  100% {\n    -webkit-transform: scale(1);\n            transform: scale(1); } }\n\n@keyframes sr-blade-loader1 {\n  0% {\n    -webkit-transform: scale(0);\n            transform: scale(0); }\n  100% {\n    -webkit-transform: scale(1);\n            transform: scale(1); } }\n\n@-webkit-keyframes sr-blade-loader3 {\n  0% {\n    -webkit-transform: scale(1);\n            transform: scale(1); }\n  100% {\n    -webkit-transform: scale(0);\n            transform: scale(0); } }\n\n@keyframes sr-blade-loader3 {\n  0% {\n    -webkit-transform: scale(1);\n            transform: scale(1); }\n  100% {\n    -webkit-transform: scale(0);\n            transform: scale(0); } }\n\n@-webkit-keyframes sr-blade-loader2 {\n  0% {\n    -webkit-transform: translate(0, 0);\n            transform: translate(0, 0); }\n  100% {\n    -webkit-transform: translate(19px, 0);\n            transform: translate(19px, 0); } }\n\n@keyframes sr-blade-loader2 {\n  0% {\n    -webkit-transform: translate(0, 0);\n            transform: translate(0, 0); }\n  100% {\n    -webkit-transform: translate(19px, 0);\n            transform: translate(19px, 0); } }\n",""])},function(t,e,n){var r=n(273);"string"==typeof r&&(r=[[t.i,r,""]]);n(36)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(35)()).push([t.i,".sr-bladex-watermark {\n  position: absolute;\n  background-repeat: no-repeat;\n  background-size: contain; }\n\n.sr-bladex-watermark-l {\n  top: 10px;\n  left: 10px;\n  background-position: top left; }\n\n.sr-bladex-watermark-r {\n  top: 10px;\n  right: 10px;\n  background-position: top right; }\n",""])},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.ResizeObserverPolyfill=void 0;var r,i=n(125),o=(r=i)&&r.__esModule?r:{default:r};var a=e.ResizeObserverPolyfill=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._callback=e,this._element=null,this._handlers={}}return t.prototype.observe=function(t){this._element=t,this._prevRect=this._getRect(t),this._bindEvents()},t.prototype.disconnect=function(){this._prevRect=null,this._unbindEvents(),this._element=null},t.prototype._getRect=function(){return this._element.getBoundingClientRect()},t.prototype._bindEvents=function(){var t=this;this._handlers.check=(0,o.default)(function(){t._checkCurrentRect()},100),this._getWindow().addEventListener("resize",this._handlers.check)},t.prototype._unbindEvents=function(){clearInterval(this._handlers.check,200),this._getWindow().removeEventListener("resize",this._handlers.check),this._handlers.check=null,this._handlers.interval=null},t.prototype._checkCurrentRect=function(){this._element&&("HTML"!==!this._element.tagName||this._element.parentElement)||this.disconnect();var t=this._element.getBoundingClientRect();t.width===this._prevRect.width&&t.height===this._prevRect.height||(this._prevRect=t,this._callback.call(null,[{target:this._element,contentRect:t}]))},t.prototype._getWindow=function(){return this._element&&this._element.ownerDocument&&this._element.ownerDocument.defaultView||window},t}();e.default="function"==typeof window.ResizeObserver?window.ResizeObserver:a},function(t,e,n){var r=n(126)(Date,"now")||function(){return(new Date).getTime()};t.exports=r},function(t,e,n){var r=n(277),i=n(71),o=/^\[object .+?Constructor\]$/,a=Object.prototype,s=Function.prototype.toString,u=a.hasOwnProperty,l=RegExp("^"+s.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return null!=t&&(r(t)?l.test(s.call(t)):i(t)&&o.test(t))}},function(t,e,n){var r=n(50),i="[object Function]",o=Object.prototype.toString;t.exports=function(t){return r(t)&&o.call(t)==i}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.scheduler=void 0;var r=n(7);e.scheduler=function(t){var e=t.privateAPI,n=t.publicAPI;return{privateAPI:{dispose:function(){},init:function(){},onPlay:function(){var t=e.getAdsPlayer();t&&t.play();var n=e.getContentPlayer();n&&n.play()},onAdStarted:function(){e.showAds()},onAdImpression:function(){},onAdError:function(){},onAdSkipped:function(){e.showContent()},onAdStopped:function(){e.showContent()},onContentPlayerInit:function(){e.showContent()},onAdsPlayerLoopEnd:function(){var t=e.getState(),r=e.getAdsPlayer();e.setState({adsLoopCount:t.adsLoopCount-1}),e.getState().adsLoopCount>0&&n.impressions<n.maxImpressions?(e.setState({currentAdsLoop:t.currentAdsLoop+1}),r.setState({muted:t.muted,loop:t.currentAdsLoop}),r.loadAds()):setTimeout(e.onFinish,0)},onAdsPlayerInit:function(){e.getAdsPlayer().loadAds()},onContentPlayerEnd:function(){var t=e.getState(),n=e.getContentPlayer();n&&(e.setState({contentLoopCount:t.contentLoopCount-1}),e.getState().contentLoopCount>0?(e.setState({currentContentLoop:t.currentContentLoop+1}),n.setState({loop:t.currentContentLoop}),n.play()):e.emit(r.PLAYER_EVENTS.playerContentDone))}}}}},function(t,e,n){var r=n(50);t.exports=function(t){return r(t)?t:Object(t)}},function(t,e,n){var r=n(126),i=n(281),o=n(71),a=Object.prototype.toString,s=r(Array,"isArray")||function(t){return o(t)&&i(t.length)&&"[object Array]"==a.call(t)};t.exports=s},function(t,e){var n=9007199254740991;t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}},,,,,,,,,,,function(t,e,n){var r=n(310),i=n(280),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,a=/\\(\\)?/g;t.exports=function(t){if(i(t))return t;var e=[];return r(t).replace(o,function(t,n,r,i){e.push(r?i.replace(a,"$1"):n||t)}),e}},function(t,e){var n=/^\d+$/,r=9007199254740991;t.exports=function(t,e){return t="number"==typeof t||n.test(t)?+t:-1,e=null==e?r:e,t>-1&&t%1==0&&t<e}},function(t,e,n){var r=n(318),i=n(71),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable;t.exports=function(t){return i(t)&&r(t)&&a.call(t,"callee")&&!s.call(t,"callee")}},function(t,e,n){var r=n(125),i=n(50),o="Expected a function";t.exports=function(t,e,n){var a=!0,s=!0;if("function"!=typeof t)throw new TypeError(o);return!1===n?a=!1:i(n)&&(a="leading"in n?!!n.leading:a,s="trailing"in n?!!n.trailing:s),r(t,e,{leading:a,maxWait:+e,trailing:s})}},,,,,,,,,,function(t,e,n){(function(r){Object.defineProperty(e,"__esModule",{value:!0});var i=u(n(127));n(144);var o=u(n(187)),a=u(n(189)),s=u(n(306));function u(t){return t&&t.__esModule?t:{default:t}}r.env.SCRIPT_NAME="sr.bladex",r.env.PLAYER_VERSION="bx_917";var l=(0,i.default)({createPlayer:s.default,scriptNamePrefix:r.env.SCRIPT_NAME+"."});(0,o.default)(),(0,a.default)(l),e.default=l,t.exports=e.default}).call(this,n(8))},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=(0,i.combinePluginOptions)(t,{plugins:_}),n=(0,r.default)(f.default,e),o=(0,i.combinePlugins)({options:e,plugins:_,apis:{privateAPI:n.privateAPI,publicAPI:n.publicAPI}}),a=(0,c.default)(o.publicAPI,{dispose:(0,i.addSuperToFn)(o.publicAPI.dispose,function(){o.privateAPI.disposeUnmuteOnHover();var t=this._super.apply(this,arguments);if(t&&t.then)return t.then(s);return s()})});function s(){o.privateAPI.disposeWatermark(),o.privateAPI.disposeInViewport(),o.privateAPI.disposeInText(),o.privateAPI.disposeSticky(),o.privateAPI.disposeViewability()}return o.privateAPI.watermark(),o.privateAPI.inViewport(),o.privateAPI.inText(),o.privateAPI.sticky(),o.privateAPI.viewability(),o.privateAPI.unmuteOnHover(),{publicAPI:a}};var r=h(n(190)),i=n(307),o=p(n(321)),a=p(n(322)),s=p(n(324)),u=p(n(325)),l=p(n(326)),d=p(n(327)),c=h(n(0)),f=h(n(328));function p(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function h(t){return t&&t.__esModule?t:{default:t}}var _=[o,a,s,u,l,d];t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.combinePlugins=e.combinePluginOptions=void 0,e.addSuperToFn=u,e.addSuperToAPI=l,e.mergePluginOptions=d;var r=s(n(0)),i=s(n(308)),o=s(n(311)),a=s(n(313));function s(t){return t&&t.__esModule?t:{default:t}}e.combinePluginOptions=function(t,e){return e.plugins.reduce(function(e,n){return(0,n.normalizeOptions)(d(e,n.pluginOptionsPath,n.defaults),t)},(0,r.default)(!0,{plugins:{}},t))},e.combinePlugins=function(t){var e=t.plugins,n=t.options,i=t.apis;return e.reduce(function(t,e){var i=(0,e.plugin)({privateAPI:t.privateAPI,publicAPI:t.publicAPI,options:n});return l(t.privateAPI,i.privateAPI),l(t.publicAPI,i.publicAPI),(0,r.default)(!0,t,i)},i)};function u(t,e){return function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.call.apply(e,[{_super:t}].concat(r))}}function l(t,e){Object.keys(e).forEach(function(n){"function"==typeof e[n]&&"function"==typeof t[n]&&(e[n]=u(t[n],e[n]))})}function d(t,e,n){if(!e)return t;var s=void 0,u=!1,l="enabled"in n;return s=l?(0,i.default)(t,e):(0,i.default)(t,e,{}),l&&((0,a.default)(s)?u=void 0===s.enabled||!!s.enabled:"boolean"==typeof s?(u=s,s={}):s={}),(0,o.default)(t,e,(0,r.default)(!0,{},n,s,l?{enabled:u}:{})),t}},function(t,e,n){var r=n(309),i=n(292);t.exports=function(t,e,n){var o=null==t?void 0:r(t,i(e),e+"");return void 0===o?n:o}},function(t,e,n){var r=n(279);t.exports=function(t,e,n){if(null!=t){void 0!==n&&n in r(t)&&(e=[n]);for(var i=0,o=e.length;null!=t&&i<o;)t=t[e[i++]];return i&&i==o?t:void 0}}},function(t,e){t.exports=function(t){return null==t?"":t+""}},function(t,e,n){var r=n(293),i=n(312),o=n(50),a=n(292);t.exports=function(t,e,n){if(null==t)return t;for(var s=e+"",u=-1,l=(e=null!=t[s]||i(e,t)?[s]:a(e)).length,d=l-1,c=t;null!=c&&++u<l;){var f=e[u];o(c)&&(u==d?c[f]=n:null==c[f]&&(c[f]=r(e[u+1])?[]:{})),c=c[f]}return t}},function(t,e,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(280),o=n(279),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,s=/^\w*$/;t.exports=function(t,e){var n=void 0===t?"undefined":r(t);return!!("string"==n&&s.test(t)||"number"==n)||!i(t)&&(!a.test(t)||null!=e&&t in o(e))}},function(t,e,n){var r=n(314),i=n(294),o=n(71),a="[object Object]",s=Object.prototype,u=s.hasOwnProperty,l=s.toString;t.exports=function(t){var e,n;return!(!o(t)||l.call(t)!=a||i(t)||!(u.call(t,"constructor")||"function"!=typeof(e=t.constructor)||e instanceof e))&&(r(t,function(t,e){n=e}),void 0===n||u.call(t,n))}},function(t,e,n){var r=n(315),i=n(317);t.exports=function(t,e){return r(t,e,i)}},function(t,e,n){var r=n(316)();t.exports=r},function(t,e,n){var r=n(279);t.exports=function(t){return function(e,n,i){for(var o=r(e),a=i(e),s=a.length,u=t?s:-1;t?u--:++u<s;){var l=a[u];if(!1===n(o[l],l,o))break}return e}}},function(t,e,n){var r=n(294),i=n(280),o=n(293),a=n(281),s=n(50),u=Object.prototype.hasOwnProperty;t.exports=function(t){if(null==t)return[];s(t)||(t=Object(t));var e=t.length;e=e&&a(e)&&(i(t)||r(t))&&e||0;for(var n=t.constructor,l=-1,d="function"==typeof n&&n.prototype===t,c=Array(e),f=e>0;++l<e;)c[l]=l+"";for(var p in t)f&&o(p,e)||"constructor"==p&&(d||!u.call(t,p))||c.push(p);return c}},function(t,e,n){var r=n(319),i=n(281);t.exports=function(t){return null!=t&&i(r(t))}},function(t,e,n){var r=n(320)("length");t.exports=r},function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeOptions=e.plugin=e.pluginOptionsPath=e.defaults=void 0;var r=s(n(69)),i=s(n(6)),o=s(n(32)),a=n(9);function s(t){return t&&t.__esModule?t:{default:t}}e.defaults={position:"l",opacity:100,width:50,height:50,zIndex:2,imageUrl:void 0,link:void 0},e.pluginOptionsPath="plugins.watermark",e.plugin=function(t){var e=t.options,n=void 0,s=t.publicAPI.el,u=e.plugins.watermark;return{privateAPI:{watermark:(0,a.oneTimeCall)(function(){if(l(),u&&u.imageUrl){var t=s();if((n=document.createElement("div")).style.zIndex=Math.max(2,u.zIndex),n.style.width=parseInt(u.width,10)+"px",n.style.height=parseInt(u.height,10)+"px",n.style.opacity=u.opacity,n.style.backgroundImage="url("+u.imageUrl+")",(0,i.default)(n,"sr-bladex-watermark-"+u.position),(0,i.default)(n,"sr-bladex-watermark"),u.link){var e=document.createElement("a");e.target="_blank",e.href=(0,r.default)(u.link),e.style.width="100%",e.style.height="100%",e.style.display="block",n.appendChild(e)}t.appendChild(n)}}),disposeWatermark:(0,a.oneTimeCall)(l)},publicAPI:{}};function l(){(0,o.default)(n)}},e.normalizeOptions=function(t){return t.plugins.watermark.opacity>=1&&(t.plugins.watermark.opacity=(t.plugins.watermark.opacity/100).toFixed(2)),t}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeOptions=e.plugin=e.pluginOptionsPath=e.defaults=void 0;var r=s(n(323)),i=s(n(295)),o=n(9),a=n(7);function s(t){return t&&t.__esModule?t:{default:t}}var u=e.defaults={tolerance:50,interval:0,throttleTime:50,delay:200,delayInterval:20,aboveTolerance:void 0,belowTolerance:void 0};e.pluginOptionsPath="inViewport",e.plugin=function(t){var e=t.options,n=t.privateAPI,s=t.publicAPI,u=e.inViewport,l=void 0,d=void 0,c=void 0,f=s.wrapper().ownerDocument.defaultView,p={true:null,false:null};return{privateAPI:{isAboveViewport:v,isBelowViewport:m,inViewport:(0,o.oneTimeCall)(function(){(l=function(){var t=n.getState().viewable,e=u.tolerance;void 0!==u.aboveTolerance&&v()?e=u.aboveTolerance:void 0!==u.belowTolerance&&m()&&(e=u.belowTolerance);var i=(0,r.default)(s.wrapper(),{tolerance:e,viewport:s.wrapper().ownerDocument.defaultView,minHeight:s.height});if(t!==i&&(n.setState({viewable:i}),"boolean"==typeof t)){n.emitLater(a.PLUGINS_EVENTS.viewportchange,{viewable:i}),h();var o=(new Date).getTime(),l=function(){_()!==i?h():(new Date).getTime()-o>=u.delay&&(h(),n.emitLater(a.PLUGINS_EVENTS.viewabilitychange,{viewable:i}),n.emitLater(i?a.PLUGINS_EVENTS.viewable:a.PLUGINS_EVENTS.nonviewable))};u.delayInterval?p[i.toString()]=window.setInterval(l,u.delayInterval):l()}return i})(),d=(0,i.default)(l,u.throttleTime),f.addEventListener("scroll",d),u.interval&&(c=window.setInterval(d,u.interval))}),disposeInViewport:(0,o.oneTimeCall)(function(){h(),d.cancel(),f.removeEventListener("scroll",d),window.clearInterval(c),l=d=null})},publicAPI:{isInViewport:_,isVisible:_}};function h(){window.clearInterval(p.true),window.clearInterval(p.false),p.true=null,p.false=null}function _(){return!n.getState().disposed&&l()}function v(){return s.wrapper().getBoundingClientRect().top<=0}function m(){var t=s.wrapper(),e=t.ownerDocument;return t.getBoundingClientRect().bottom>=e.defaultView.innerHeight}},e.normalizeOptions=function(t){return t.inViewport.tolerance||(t.inViewport.tolerance=u.tolerance),t}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function t(e,n){var o=e.getBoundingClientRect();var a=o.top;var s=o.bottom;var u=o.left;var l=o.right;var d=o.height;n.minHeight&&(s=Math.max(s,a+n.minHeight),d=Math.max(d,n.minHeight));var c=(0,i.default)({tolerance:0,viewport:window},n);var f=!0;var p=c.viewport;p||(p=window);var h=p.innerHeight||p.document.documentElement.clientHeight;var _=p.innerWidth||p.document.documentElement.clientWidth;var v=p.toString();if(p!==window&&"[object Window]"!==v&&"[object DOMWindow]"!==v){var m=p.getBoundingClientRect();a-=m.top,s-=m.top,u-=m.left,l-=m.left,t.scrollBarWidth=t.scrollBarWidth||function(t){var e=document.createElement("div");e.style.width="100%",t&&t.appendChild(e);var n=t.document.documentElement.clientWidth-e.outerWidth;return(0,r.default)(e),n}(p),_-=t.scrollBarWidth}if(l<=0||u>=_)return!1;if(c.tolerance&&!isNaN(c.tolerance)&&c.tolerance>0&&c.tolerance<100&&(a<0||s>h)){c.tolerance=Math.round(c.tolerance);f=(a<0?a+d:d-(s-h))>=c.tolerance/100*d}f=f&&!!(s>0&&a<=h);try{var y=function(t){try{return t.self!==t.top}catch(t){return!0}}(c.viewport);y&&(f=f&&t(window.frameElement,{viewport:window.top,tolerance:c.tolerance}))}catch(t){}return f};var r=o(n(32)),i=o(n(124));function o(t){return t&&t.__esModule?t:{default:t}}String.prototype.hasOwnProperty("trim")||(String.prototype.trim=function(){return this.replace(/^\s*(.*?)\s*$/,"$1")}),t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeOptions=e.plugin=e.pluginOptionsPath=e.defaults=void 0;var r,i=n(9),o=n(7),a=n(4),s=(r=a)&&r.__esModule?r:{default:r};e.defaults={enabled:!1},e.pluginOptionsPath="plugins.viewability",e.plugin=function(t){var e=t.options,n=t.privateAPI,r=t.publicAPI,a=e.plugins.viewability;return{privateAPI:{viewability:(0,i.oneTimeCall)(function(){a.enabled&&(r.on(o.PLUGINS_EVENTS.viewabilitychange,u),r.on(s.default.AdImpression,l),u({viewable:r.isInViewport()}))}),disposeViewability:(0,i.oneTimeCall)(function(){r.off(o.PLUGINS_EVENTS.viewabilitychange,u),r.off(s.default.AdImpression,l)}),forceViewabilityChange:u},publicAPI:{}};function u(t){a.enabled&&(t.viewable?r.play():n.isSticky()||n.isGoingToStick()||r.pause())}function l(){u({viewable:r.isInViewport()||e.plugins.sticky.enabled&&n.isGoingToStick()||e.plugins.inText.enabled})}},e.normalizeOptions=function(t){return t.plugins.viewability.enabled&&!t.breakpoint&&(t.breakpoint="max"),t}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeOptions=e.plugin=e.pluginOptionsPath=e.defaults=void 0;var r=n(9),i=n(7),o=u(n(4)),a=u(n(6)),s=u(n(1));function u(t){return t&&t.__esModule?t:{default:t}}e.defaults={enabled:!1,fold:!0,animationDuration:500,closeButton:!1},e.pluginOptionsPath="plugins.inText",e.plugin=function(t){var e,n=t.options,u=t.publicAPI,l=t.privateAPI,d=n.plugins.inText,c=l.getState().hasPassback,f=(e=document.createElement("div"),(0,a.default)(e,"sr-bladex-intext-close-button"),(0,a.default)(e,"sr-bladex-close-button"),e),p=s.default.resolve(),h=s.default.resolve(),_=!1;return{privateAPI:{inText:(0,r.oneTimeCall)(v),disposeInText:(0,r.oneTimeCall)(function(){S()}),isRevealed:function(){return!d.enabled||_}},publicAPI:{dispose:function(){for(var t=this,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!d.enabled||c)return this._super.apply(this,n);return E().then(function(){t._super.apply(t,n)})},isVisible:function(){var t=this._super.apply(this,arguments);if(d.enabled)return t&&_;return t}}};function v(){if(d.enabled){var t=u.wrapper();t.style.willChange="height",t.style.transition="height "+d.animationDuration+"ms ease-in-out",t.style.overflow="hidden",t.style.height="0px",u.on(i.ADS_PLAYER_EVENTS.loopend,g),u.once(i.PLUGINS_EVENTS.viewable,m),u.once(i.PLUGINS_EVENTS.stickychange,m),u.once(o.default.AdVideoStart,y),u.once("contentplaying",y),d.closeButton&&(u.el().appendChild(f),f.addEventListener("click",u.dispose)),u.isInViewport()&&m()}}function m(t){t&&!t.sticky||(u.off(i.PLUGINS_EVENTS.viewable,m),u.off(i.PLUGINS_EVENTS.stickychange,m),u.play())}function y(){u.off(o.default.AdVideoStart,y),u.off("contentplaying",y),u.off(i.PLUGINS_EVENTS.viewable,m),u.isInViewport()||l.isSticky()?A({viewable:!0}):(u.pause(),u.on(i.PLUGINS_EVENTS.viewportchange,A))}function A(t){l.log("bladex:intext reveal call");return!_&&t&&t.viewable?h.then(function(){if(l.deactivateAutoResize(),l.log("intext: physical reveal start"),_)return s.default.resolve();_=!0,u.off(i.PLUGINS_EVENTS.viewportchange,A),u.play();var t=u.wrapper();return t.style.height=u.height+"px",d.fold&&!c&&u.once(i.PLAYER_EVENTS.playerDone,E),p=(0,r.waitForEvent)({element:t,event:"transitionEnd",timeout:d.animationDuration}).then(function(){l.emit(i.PLUGINS_EVENTS.intextreveal),l.log("bladex:intext physical reveal end"),l.activateAutoResize()})}):s.default.resolve()}function E(){l.log("bladex:intext fold called");return _?p.then(function(){if(!_)return s.default.resolve();l.deactivateAutoResize(),_=!1,l.log("bladex:intext physical fold start");var t=u.wrapper();return t.style.height="0px",h=(0,r.waitForEvent)({element:t,event:"transitionend",timeout:d.animationDuration}).then(function(){l.emit(i.PLUGINS_EVENTS.intextfold),l.log("bladex:intext physical fold end"),l.activateAutoResize()})}):s.default.resolve()}function g(t){t&&t.loop&&c&&n.loopCount&&t.loop===n.loopCount||d.fold&&-1!==t.events.indexOf(o.default.AdVideoStart)&&(l.log("bladex:intext resetInText call"),E().then(function(){S(),v()}))}function S(){f.removeEventListener("click",u.dispose),u.off(i.ADS_PLAYER_EVENTS.loopend,g),u.off(o.default.AdVideoStart,y),u.off("contentplaying",y),u.off(i.PLUGINS_EVENTS.viewable,m),u.off(i.PLUGINS_EVENTS.stickychange,m),u.off(i.PLUGINS_EVENTS.viewportchange,A),u.off(i.PLAYER_EVENTS.playerDone,E)}},e.normalizeOptions=function(t){return t.content&&t.content.some&&t.content.some(function(t){return t.url&&"video"===t.type})&&(t.plugins.inText.enabled=!1),t.plugins.inText.enabled&&!t.breakpoint&&(t.breakpoint="max"),t}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeOptions=e.plugin=e.pluginOptionsPath=e.defaults=void 0;var r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=n(9),o=f(n(4)),a=f(n(6)),s=f(n(16)),u=f(n(32)),l=f(n(1)),d=n(7),c=f(n(295));function f(t){return t&&t.__esModule?t:{default:t}}var p=[["bottom right","br","rb","right bottom"],["bottom left","bl","lb","left bottom"],["bottom","b"],["top left","tl","lt","left top"],["top right","tr","rt","right top"],["top","t"]];e.defaults={enabled:!1,position:"br",width:void 0,height:void 0,widthRatio:void 0,heightRatio:void 0,animationDuration:200,horizontalOffset:10,verticalOffset:10,zIndex:1,muteOnClose:!1,closeButton:!0,onlyAfterViewable:!0,promoMode:!1,fitWidth:!1,fitRatio:"16:9",unstickOnLoopend:!0,aboveViewport:!0,belowViewport:!0},e.pluginOptionsPath="plugins.sticky";e.plugin=function(t){var e,n=t.options,f=t.publicAPI,h=t.privateAPI,_=200,v=n.plugins.sticky,m=void 0,y=void 0,A=null,E=null,g=l.default.resolve(),S=l.default.resolve(),b=!1,T=!1,I=v.enabled,R=(e=document.createElement("div"),(0,a.default)(e,"sr-bladex-close-button"),(0,a.default)(e,"sr-bladex-sticky-close-button"),e),O={wasViewable:!1,didStart:!1},P=Object.keys(O).reduce(function(t,e){return t[e]=function(){h.log("bladex:sticky stickinessCriterions."+e+" = true"),O[e]=!0,k()},t},{}),w=[],C=(0,c.default)(function(){(0,i.rafify)([function(){if(b){var t=U(),e=t.width,n=t.height,r=h.getResizeableContainer();(0,i.setStyle)(r,{width:e,height:n}),H(e,n)}else window.removeEventListener("resize",C)}])},200);return{privateAPI:{sticky:(0,i.oneTimeCall)(L),isSticky:function(){return I&&x()},isGoingToStick:function(){return I&&(!v.onlyAfterViewable||-1!==w.indexOf("wasViewable")&&O.wasViewable)&&h.isRevealed()},disposeSticky:(0,i.oneTimeCall)(function(){F(),R=null})},publicAPI:{stick:V.bind(null,{calledByAPI:!0}),unstick:j.bind(null,{calledByAPI:!0})}};function L(){v.enabled&&(f.on(d.PLUGINS_EVENTS.viewabilitychange,M),!h.hasVideoContent()&&v.unstickOnLoopend&&f.on(d.ADS_PLAYER_EVENTS.loopend,D),n.plugins.inText.enabled?(T?(w.push("didStart"),f.once(o.default.AdVideoStart,P.didStart)):v.onlyAfterViewable?(w.push("wasViewable"),f.once(d.PLUGINS_EVENTS.intextreveal,P.wasViewable)):f.once(d.PLUGINS_EVENTS.intextreveal,k),f.once(d.PLUGINS_EVENTS.intextfold,j)):(v.onlyAfterViewable&&(w.push("wasViewable"),f.once(d.PLUGINS_EVENTS.viewable,P.wasViewable)),w.push("didStart"),h.hasVideoContent()&&f.once("contentplay",P.didStart),f.once(o.default.AdVideoStart,P.didStart)),h.log("bladex:sticky mandatoryStickinessCriterions = "+JSON.stringify(w)),R.addEventListener("click",B),M({viewable:f.isInViewport()}))}function N(){R.removeEventListener("click",B),f.off(d.PLUGINS_EVENTS.viewabilitychange,M),f.off(d.PLUGINS_EVENTS.viewable,P.wasViewable),f.off(d.PLUGINS_EVENTS.intextreveal,P.wasViewable),f.off(d.PLUGINS_EVENTS.intextreveal,k),f.off(d.PLUGINS_EVENTS.intextfold,j),f.off(o.default.AdVideoStart,P.didStart),f.off("contentplay",P.didStart),f.off(d.ADS_PLAYER_EVENTS.loopend,D),window.removeEventListener("resize",C)}function D(t){-1!==t.events.indexOf(o.default.AdVideoStart)&&j({immediateResize:!0}).then(function(){N(),w=[],Object.keys(O).forEach(function(t){O[t]=!1}),T&&(v.onlyAfterViewable=!1),L()})}function M(t){t.viewable?function(){h.isRevealed()&&P.wasViewable();f.off(d.PLUGINS_EVENTS.viewable,P.wasViewable),I&&x()&&j()}():k()}function k(){if(I&&x()&&!f.isInViewport()){var t=v.belowViewport&&v.aboveViewport;t||(t=v.belowViewport?!h.isAboveViewport():!h.isBelowViewport()),t&&V()}}function x(){return w.every(function(t){return O[t]})}function V(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h.log("bladex:sticky stick start");return b||!I&&!t.calledByAPI?l.default.resolve():S.then(function(){return b?l.default.resolve():(b=!0,T=!0,(0,a.default)(f.el(),"sr-bladex-sticky"),g=new l.default(function(t){h.log("bladex:sticky physical stick start");var e=f.wrapper(),n=h.getResizeableContainer();m=function(){var t=h.getResizeableContainer(),e=f.wrapper(),n=t.getBoundingClientRect(),r={backgroundColor:v.promoMode?"transparent":"black"};/px$/.test((0,i.getStyle)(e,["width"]).width)||(r.width=n.width+"px");/px$/.test((0,i.getStyle)(e,["height"]).height)||(r.height=n.height+"px");return r}(),A=(0,i.getStyle)(e,m),(0,i.setStyle)(e,m),y=U(),E=(0,i.getStyle)(n,y),(0,i.setStyle)(n,y),v.promoMode&&window.addEventListener("resize",C),H(n.style.width,n.style.height);var r=[function(){},function(){v.closeButton&&f.el().appendChild(R),v.animationDuration&&(0,i.setStyle)(n,{transition:"opacity "+v.animationDuration+"ms ease-in-out"})},function(){function e(){t(),g=l.default.resolve(),h.emit(d.PLUGINS_EVENTS.stickychange,{sticky:!0}),h.emit(d.PLUGINS_EVENTS.stick),f.isInViewport(),h.log("bladex:sticky physical stick end")}v.animationDuration?((0,i.setStyle)(n,{opacity:1}),(0,i.waitForEvent)({element:n,event:"transitionend",timeout:v.animationDuration}).then(e)):e()}];v.animationDuration?(0,i.rafify)(r):r.forEach(function(t){return t()})}))})}function U(){var t={},e=p.filter(function(t){return-1!==t.indexOf(v.position)})[0]||p[0],n=v.width;if(v.fitWidth){var i=f.wrapper().ownerDocument,o=i.defaultView;n=Math.max(i.documentElement.clientWidth,o.innerWidth||0)}var a=v.height,s=v.widthRatio,u=v.heightRatio;n||a||s||(n=_),s||n&&!a?(s=(n?n/f.width:s).toFixed(2),u=(a?a/f.height:u||parseFloat(s,10)).toFixed(2)):(u=(a?a/f.height:u).toFixed(2),s=(n?n/f.width:s||parseFloat(u,10)).toFixed(2));var l=parseInt((f.width*s).toFixed(),10),d=void 0;if(v.fitWidth&&v.fitRatio){var c=function(t){if(t&&t.toFixed)return t;var e=t.split(":"),n=r(e,2),i=n[0],o=n[1];if(i&&o)return i/o;return NaN}(v.fitRatio);isNaN(c)||(d=parseInt((l/c).toFixed(),10))}d||(d=parseInt((f.height*u).toFixed(),10));var h=e[0].split(" ");return t.width=l+"px",t.height=d+"px",t[h[0]]=v.verticalOffset+"px",t[h[1]||"left"]=v.horizontalOffset+"px",t.zIndex=v.zIndex,t.position="fixed",v.animationDuration&&(t.opacity=0),t}function j(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h.log("bladex:sticky unstick start");var e=void 0;return e=b?g.then(function(){return b?(b=!1,S=new l.default(function(e){h.log("bladex:sticky physical unstick start"),v.promoMode&&window.removeEventListener("resize",C);var n=[function(){var t=h.getResizeableContainer();v.animationDuration&&(t.style.opacity=0),v.closeButton&&(0,u.default)(R),v.animationDuration?(0,i.waitForEvent)({element:t,event:"transitionend",timeout:v.animationDuration}).then(r):r()}];function r(){var n,r;n=f.wrapper(),r=h.getResizeableContainer(),(0,i.clearStyle)(r,["transition"].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(Object.keys(y)))),(0,i.setStyle)(r,E),(0,i.clearStyle)(n,m),(0,i.setStyle)(n,A),(0,s.default)(f.el(),"sr-bladex-sticky"),H(f.width,f.height),E=y=A=m=null,e(),S=l.default.resolve(),h.emit(d.PLUGINS_EVENTS.stickychange,{sticky:!1}),h.emit(d.PLUGINS_EVENTS.unstick),t.stopSticking&&h.forceViewabilityChange({viewable:!1}),h.log("bladex:sticky physical unstick end")}v.animationDuration?(0,i.rafify)(n):n[0]()})):l.default.resolve()}):l.default.resolve(),t.stopSticking&&F(),t.immediateResize&&H(f.width,f.height),e}function B(){return v.muteOnClose&&(f.muted=!0),j({stopSticking:!0})}function F(){I=!1,N()}function H(t,e){var n=parseInt(t,10),r=parseInt(e,10);if(!isNaN(n)&&!isNaN(r)){var i=h.getAdsPlayer(),o=h.getContentPlayer();i&&i.resize(n,r),o&&o.resize(n,r)}}},e.normalizeOptions=function(t,e){var n,r;return t.plugins.inText.enabled&&(t.plugins.sticky.onlyAfterViewable=!0),t.plugins.sticky.enabled&&t.plugins.sticky.position&&!/ /.test((n=t.plugins.sticky,r=n.position,p.filter(function(t){return-1!==t.indexOf(r)})[0]||p[0]))&&(t.plugins.sticky.promoMode=!0),t.plugins.sticky.promoMode&&(t.plugins.sticky.fitWidth=!0,t.plugins.sticky.horizontalOffset=0,t.plugins.sticky.verticalOffset=0,t.plugins.sticky.animationDuration=0,t.plugins.inText.enabled||(t.plugins.sticky.onlyAfterViewable=!1),t.inViewport.tolerance=99.9,t.inViewport.delayInterval=0,t.inViewport.delay=0,e&&e.plugins&&e.plugins.sticky&&void 0!==e.plugins.sticky.belowViewport||(t.plugins.sticky.belowViewport=!1)),t.plugins.sticky.onlyAfterViewable||t.plugins.inText.enabled||(t.breakpoint=null),t}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeOptions=e.plugin=e.pluginOptionsPath=e.defaults=void 0;var r,i=n(9),o=n(7),a=n(25),s=(r=a)&&r.__esModule?r:{default:r};e.defaults={enabled:!1,delay:300},e.pluginOptionsPath="plugins.unmuteOnHover",e.plugin=function(t){var e=t.options,n=t.privateAPI,r=t.publicAPI,a=e.plugins.unmuteOnHover,s=void 0;return{privateAPI:{unmuteOnHover:(0,i.oneTimeCall)(function(){a.enabled&&(r.el().addEventListener("mouseenter",u),r.el().addEventListener("mouseleave",d),r.once(o.CONTROL_BAR_EVENTS.unmuteControlClick,f),r.once(o.CONTROL_BAR_EVENTS.muteControlClick,f))}),disposeUnmuteOnHover:(0,i.oneTimeCall)(function(){p()})},publicAPI:{}};function u(){s&&clearTimeout(s),s=setTimeout(l,a.delay)}function l(){s=null,c()&&(r.muted=!1)}function d(){s&&clearTimeout(s),c()&&(r.muted=!0)}function c(){var t=n.getVisiblePlayer();return!(!t||!t.controlsBar)&&!t.controlsBar.getState().paused}function f(){p()}function p(){clearTimeout(s),s=null;var t=r.el();t&&(t.removeEventListener("mouseenter",u),t.removeEventListener("mouseleave",d)),r.off(o.CONTROL_BAR_EVENTS.unmuteControlClick,f),r.off(o.CONTROL_BAR_EVENTS.muteControlClick,f)}};e.normalizeOptions=function(t){var e,n;return t.plugins.unmuteOnHover.enabled&&(t.plugins.unmuteOnHover.enabled=(e=new s.default(window.navigator.userAgent).getResult(),n=!0,("Chrome"===e.browser.name&&e.browser.major>=66||"Safari"===e.browser.name&&e.browser.major>=11)&&(n=!1),n)),t}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(0),o=(r=i)&&r.__esModule?r:{default:r},a=n(329),s=n(330),u=n(278);function l(t,e){return function(){var n=t.apply(void 0,arguments),r=e.apply(void 0,arguments);return{privateAPI:(0,o.default)({},n.privateAPI,r.privateAPI)}}}e.default={default:u.scheduler,preRoll:l(u.scheduler,a.scheduler),breakingAds:l(u.scheduler,s.scheduler)},t.exports=e.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.scheduler=void 0;var r=n(7);e.scheduler=function(t){var e=t.options,n=t.privateAPI,i=t.publicAPI,o=null,a=0,s=1/0,u=0;return{privateAPI:{dispose:function(){d()},init:function(){e.breakpoint="",s=e.preRoll&&e.preRoll.maxImpressions?e.preRoll.maxImpressions:s,a=e.preRoll&&e.preRoll.timeout?e.preRoll.timeout:0,n.setState({isAdsPlayable:!0})},onPlay:function(){var t=n.getActivePlayer();t&&t.play()},onAdStarted:function(){},onAdImpression:function(){u++},onAdSkipped:function(){},onAdError:function(){},onAdStopped:function(){},onContentPlayerInit:function(){n.setState({isContentPlayable:!1}),l()},onAdsPlayerInit:function(){h()},onAdsPlayerLoopEnd:function(){var t=n.getState(),e=n.getAdsPlayer();n.setState({adsLoopCount:t.adsLoopCount-1}),p()?(n.setState({currentAdsLoop:t.currentAdsLoop+1}),e.setState({muted:t.muted,loop:t.currentAdsLoop}),h()):f()},onContentPlayerEnd:function(){var t=n.getState(),e=n.getContentPlayer();n.setState({contentLoopCount:t.contentLoopCount-1}),n.getState().contentLoopCount>0?(n.setState({isAdsPlayable:!0}),p()?(l(),h()):(n.setState({currentContentLoop:t.currentContentLoop+1}),e.setState({loop:t.currentContentLoop}),f())):(n.emit(r.PLAYER_EVENTS.playerContentDone),setTimeout(n.onFinish,0))}}};function l(){d(),a&&(n.setState({isAdsPlayable:!0}),o=setTimeout(c,1e3*a))}function d(){o&&(clearTimeout(o),o=null)}function c(){d();var t=n.getAdsPlayer();n.setState({isAdsPlayable:!1,isContentPlayable:!0}),t&&!t.isDuringAd()&&t.stopAd()}function f(){d(),u=0,n.setState({adsLoopCount:n.getOriginalLoopCount(),isAdsPlayable:!1,isContentPlayable:!0}),n.attemptToPlayNShow("content")}function p(){var t=n.getState();return t.isAdsPlayable&&t.adsLoopCount>0&&u<s&&i.impressions<i.maxImpressions}function h(){n.setState({isAdsPlayable:!0,isContentPlayable:!1});var t=n.getAdsPlayer();t&&(n.attemptToPlayNShow("ads"),t.loadAds())}}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.scheduler=void 0;var r,i=n(4),o=(r=i)&&r.__esModule?r:{default:r},a=n(7);e.scheduler=function(t){var e=t.options,n=t.publicAPI,r=t.privateAPI,i=void 0,s=void 0,u=0,l=0,d=!1;return{privateAPI:{dispose:function(){e.breakpoint=void 0,n.off("playerReady",p),n.off(o.default.AdImpression,c),n.off(o.default.AdSkipped,f),n.off(o.default.AdStopped,f),_()},init:function(){u=e.breakingAds&&e.breakingAds.minTimeBeforeAds?e.breakingAds.minTimeBeforeAds:u,l=e.breakingAds&&e.breakingAds.minTimeBetweenAds?e.breakingAds.minTimeBetweenAds:l,u?(n.once("playerReady",p),e.breakpoint="max",r.setState({isAdsPlayable:!1})):r.setState({isAdsPlayable:!0});l&&n.on(o.default.AdImpression,c)},onPlay:function(){var t=!1,e=r.getAdsPlayer();!d&&e&&r.getState().isAdsPlayable&&(e.play(),t=!0);var n=r.getActivePlayer();!n||n===e&&t||n.play()},onAdStarted:function(){},onAdImpression:function(){r.attemptToPlayNShow("ads"),r.isPausedByAPI()&&r.getAdsPlayer()&&r.getAdsPlayer().pause()},onAdSkipped:function(){},onAdError:function(){},onAdStopped:function(){r.attemptToPlayNShow("content")},onAdsPlayerLoopEnd:function(){var t=r.getState(),n=r.getAdsPlayer();e.breakpoint=s||i?"max":null;r.setState({adsLoopCount:t.adsLoopCount-1}),h()?(r.setState({currentAdsLoop:t.currentAdsLoop+1}),n.setState({muted:t.muted,loop:t.currentAdsLoop}),n.resetResume(),n.loadAds({breakpoint:e.breakpoint})):(d=!0,_(),r.attemptToPlayNShow("content"),setTimeout(r.onFinish,0))},onContentPlayerEnd:function(){var t=r.getState(),e=r.getContentPlayer();r.setState({contentLoopCount:t.contentLoopCount-1}),i||s||r.getState().contentLoopCount>0?(r.setState({currentContentLoop:t.currentContentLoop+1}),e.setState({loop:t.currentContentLoop}),e.play()):r.emit(a.PLAYER_EVENTS.playerContentDone)},onContentPlayerInit:function(){r.setState({isContentPlayable:!0}),r.showContent()}}};function c(){n.on(o.default.AdSkipped,f),n.on(o.default.AdStopped,f)}function f(){if(!s&&h()){r.setState({isAdsPlayable:!1}),r.attemptToPlayNShow("content");var t=setTimeout(function(){r.setState({isAdsPlayable:!0}),r.isPausedByAPI()||r.getAdsPlayer().play(),s=null},1e3*l);s=t}}function p(){var t=setTimeout(function(){r.setState({isAdsPlayable:!0}),r.isPausedByAPI()||r.getAdsPlayer().play(),i=null},1e3*u);i=t}function h(){return r.getState().adsLoopCount>0&&n.impressions<n.maxImpressions}function _(){clearTimeout(i),clearTimeout(s)}}}]);