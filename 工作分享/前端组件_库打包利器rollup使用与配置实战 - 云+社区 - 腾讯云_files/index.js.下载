!function(e){var r={};function o(n){if(r[n])return r[n].exports;var t=r[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.m=e,o.c=r,o.d=function(e,r,n){o.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,r){if(1&r&&(e=o(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var t in e)o.d(n,t,function(r){return e[r]}.bind(null,t));return n},o.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(r,"a",r),r},o.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},o.p="",o(o.s=0)}([function(e,r,o){"use strict";o.r(r);var n={getACSRFToken(){var e=window.getCookie("skey")||window.getCookie("p_skey"),r=5381;if(e){for(var o=0,n=e.length;o<n;++o)r+=(r<<5)+e.charCodeAt(o);return 2147483647&r}},getUin(){var e=window.getCookie("uin");return e&&(e=e.replace(/^o(0)*/gi,"")),e}},t=function(){try{var e=n.getUin(),r=n.getACSRFToken(),o=function(e,r){var o=arguments[1]||window.location.search,n=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),t=o.substr(o.indexOf("?")+1).match(n);return null!=t?t[2]:""},t=o("cps_key")||o("cpskey")||"";t&&/[0-9a-fA-F]{32}/.test(t)&&OPC_COOKIE.cookieProcess.setCookie("cpskey",t);var c=o("opc_hash_key")||"",i=o("gclid")||o("gclid",document.referrer),a=o("gclsrc")||o("gclsrc",document.referrer),u={},f=Date.now();i&&(u.gclid=i),a&&(u.gclsrc=a),t&&(u.trafficparams_cpskey=t,u.cps_time=f,s={cpskey:t},e&&r&&s.cpskey&&$.ajax({url:`//cloud.tencent.com/act/cps/ajax?uin=${e}&csrfCode=${r}`,method:"POST",xhrFields:{withCredentials:!0},data:{action:"createCpsRelation",cpskey:s.cpskey},success:function(e){},error:function(e){console.error(e)}})),c&&(u.opc_hash_key=c,u.opc_time=f),Object.keys(u).length>0&&OPC_COOKIE.cookieProcess.setTrafficParams(u)}catch(e){console.log("trafficParams write error")}var s};function c(){var e=navigator.userAgent;return e.indexOf("Android")>0?"android":e.indexOf("iPhone")>0||e.indexOf("iPad")>0||e.indexOf("iPod")>0?"ios":e.indexOf("SymbianOS")>0||e.indexOf("Windows Phone")>0?"other":"pc"}var i=function(){var e=new Image;return function(r){e.onload=e.onerror=e.onabort=function(){e.onload=e.onerror=e.onabort=null,e=null},e.src=r}},a=function(){try{var e=[1,2,3,10,60,120,300,600],r=0,o=setInterval((function(){(r++,~e.indexOf(r))&&function(e){var r={type:"heartbeat",url:window.location.href,clientDevice:c(),expKey:"heartbeat",expValue:e.heartbeat_time},o=[];for(var n in r)o.push(n+"="+encodeURIComponent(r[n]));var t="//cloud.tencent.com/act/common/report?action=heartbeatReport&t="+Math.random()+"&"+o.join("&");i()(t)}({heartbeat_time:r});r>=e[e.length-1]&&clearInterval(o)}),1e3)}catch(e){console.log(e)}},u=function(){var e="trafficParams",r={path:"/",expires:30,domain:function(){var e="cloud.tencent.com";-1!==window.location.href.indexOf("qcloud.com")&&(e="qcloud.com");return e}()};function o(){for(var e={},r=0;r<arguments.length;r++){var o=arguments[r];for(var n in o)e[n]=o[n]}return e}function n(e){var r="";for(var o in e)r+=";"+o,r+="expires"!==o?"="+e[o]:"="+new Date(1*new Date+864e5*parseInt(e[o])).toUTCString();return r}return function(){var t={};function c(e){try{if(void 0===e)throw new Error("cookie的键必传");for(var r="",o=document.cookie?document.cookie.split(";"):[],n=0;n<o.length;n++){var t=(String.prototype.trim?o[n].trim():o[n].replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")).split("=");if(e===decodeURIComponent(t[0])){r=t[1];break}}return r}catch(e){console.error(e.message)}}return t.setTrafficParams=function(t,i){try{var a=c(e);if(void 0===t)throw new Error("trafficParams必须传值");if("object"!=typeof t)throw new Error("trafficParams的值必须为对象");var u="";for(var f in t)t.hasOwnProperty(f)&&""!==t[f]&&(u+=f+"="+t[f]+";");var s=function(e,r){for(var o=r.split(";"),n=e.split(";"),t=0;t<n.length;t++){for(var c=-1,i=n[t],a=i.split("=")[0],u=0;u<o.length;u++){o[u].split("=")[0]===a&&(c=u)}-1===c?o.push(i):o.splice(c,1,i)}var f,s,l,d=(o=o.filter((function(e){return""!==e}))).join(";");return"***$;"+(f=d,s=";",(void 0===l||l>f.length)&&(l=f.length),f.substring(l-s.length,l)===s?d:d+";")+"$***"}(u,a=decodeURIComponent(a).replace(/(^\*{3}\$)|(\$\*{3}$)/gi,""));if(encodeURIComponent(s).length>500)throw new Error("trafficParams的值的字符个数不能超过500");var l=n(i=o(r,i));return document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(s)+l}catch(e){console.error(e.message||"写入trafficParams失败")}},t.getCookie=c,t.setCookie=function(e,t,c){try{var i=JSON.stringify(t);/^[\{\]]/.test(i)&&(t=i);var a=n(c=o(r,c));return document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+a}catch(e){console.log(e.message||"写入cookie失败")}},t}()};try{var f=window.location.hostname;~["cloud.tencent.com"].indexOf(f)&&(window.OPC_COOKIE={cookieProcess:u()}),t(),a()}catch(e){console.error(e)}}]);